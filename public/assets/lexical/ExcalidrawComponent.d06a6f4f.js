import{r as mr,f as To,a as Gr,j as yn,M as hi,B as Po,u as mi,g as gi,d as vi,c as bi,$ as to,h as ro,m as yi,i as xi,k as no,l as wi,n as ki,F as Ei}from"./main.ef29de94.js";import{I as Si}from"./ImageResizer.653e3213.js";var Sn={exports:{}},Do={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(dr,Zr){(function(nr,Pr){dr.exports=Pr(mr.exports,To.exports)})(self,function(nr,Pr){return function(){var Er,Tr,Sr,$r,br={45:function(ge,Q,t){function w(f){var c,j,A="";if(typeof f=="string"||typeof f=="number")A+=f;else if(typeof f=="object")if(Array.isArray(f))for(c=0;c<f.length;c++)f[c]&&(j=w(f[c]))&&(A&&(A+=" "),A+=j);else for(c in f)f[c]&&(A&&(A+=" "),A+=c);return A}function y(){for(var f,c,j=0,A="";j<arguments.length;)(f=arguments[j++])&&(c=w(f))&&(A&&(A+=" "),A+=c);return A}t.d(Q,{Z:function(){return y}})},6233:function(ge,Q){var t;t=function(w){w.version="0.3.0";var y=function(){for(var j=0,A=new Array(256),R=0;R!=256;++R)j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=R)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1,A[R]=j;return typeof Int32Array!="undefined"?new Int32Array(A):A}(),f=typeof Buffer!="undefined";function c(j){for(var A=-1,R=0,n=j.length-7;R<n;)A=(A=(A=(A=(A=(A=(A=(A=A>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])];for(;R<n+7;)A=A>>>8^y[255&(A^j[R++])];return-1^A}w.table=y,w.bstr=function(j){if(j.length>32768&&f)return c(new Buffer(j));for(var A=-1,R=j.length-1,n=0;n<R;)A=y[255&(A^j.charCodeAt(n++))]^A>>>8,A=y[255&(A^j.charCodeAt(n++))]^A>>>8;return n===R&&(A=A>>>8^y[255&(A^j.charCodeAt(n))]),-1^A},w.buf=function(j){if(j.length>1e4)return c(j);for(var A=-1,R=0,n=j.length-3;R<n;)A=(A=(A=(A=A>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])])>>>8^y[255&(A^j[R++])];for(;R<n+3;)A=A>>>8^y[255&(A^j[R++])];return-1^A},w.str=function(j){for(var A,R,n=-1,Z=0,H=j.length;Z<H;)(A=j.charCodeAt(Z++))<128?n=n>>>8^y[255&(n^A)]:A<2048?n=(n=n>>>8^y[255&(n^(192|A>>6&31))])>>>8^y[255&(n^(128|63&A))]:A>=55296&&A<57344?(A=64+(1023&A),R=1023&j.charCodeAt(Z++),n=(n=(n=(n=n>>>8^y[255&(n^(240|A>>8&7))])>>>8^y[255&(n^(128|A>>2&63))])>>>8^y[255&(n^(128|R>>6&15|3&A))])>>>8^y[255&(n^(128|63&R))]):n=(n=(n=n>>>8^y[255&(n^(224|A>>12&15))])>>>8^y[255&(n^(128|A>>6&63))])>>>8^y[255&(n^(128|63&A))];return-1^n}},t(typeof DO_NOT_EXPORT_CRC=="undefined"?Q:{})},4739:function(ge,Q,t){t.d(Q,{KO:function(){return fe},Vv:function(){return C},b9:function(){return L},cn:function(){return te},zt:function(){return T}});var w=t(9787);const y=Symbol(),f=q=>!!q[y],c=q=>{var F,h;(h=(F=q[y]).c)==null||h.call(F)},j=(q,F)=>{const h=q[y].o,_=F[y].o;return h===_||q===_||f(h)&&j(h,F)},A=q=>{const F={o:q,c:null},h=new Promise(_=>{F.c=()=>{F.c=null,_()},q.then(F.c,F.c)});return h[y]=F,h};var R=Object.defineProperty,n=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,k=(q,F,h)=>F in q?R(q,F,{enumerable:!0,configurable:!0,writable:!0,value:h}):q[F]=h;const se=q=>"init"in q,pe="r",Ee="w",ae="c",de="s",ye=q=>{const F=new WeakMap,h=new WeakMap,_=new Map;let W,I;if(W=new Set,I=new Set,q)for(const[Le,ne]of q){const me={v:ne,r:0,d:new Map};Object.freeze(me),se(Le)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Le),F.set(Le,me)}const re=new WeakMap,O=new WeakMap,E=Le=>{let ne=O.get(Le);return ne||(ne=new Map,O.set(Le,ne)),ne},b=(Le,ne)=>{if(Le){const me=E(Le);let ve=me.get(ne);return ve||(ve=b(Le.p,ne),ve&&("p"in ve&&ve.p.then(()=>me.delete(ne)),me.set(ne,ve))),ve}return F.get(ne)},d=(Le,ne,me)=>{if(Object.freeze(me),Le)E(Le).set(ne,me);else{const ve=F.get(ne);F.set(ne,me),_.has(ne)||_.set(ne,ve)}},x=(Le,ne=new Map,me)=>{if(!me)return ne;const ve=new Map;let we=!1;return me.forEach(Ie=>{var Te;const ze=((Te=b(Le,Ie))==null?void 0:Te.r)||0;ve.set(Ie,ze),ne.get(Ie)!==ze&&(we=!0)}),ne.size!==ve.size||we?ve:ne},P=(Le,ne,me,ve,we)=>{const Ie=b(Le,ne);if(Ie){if(we&&(!("p"in Ie)||!j(Ie.p,we)))return Ie;"p"in Ie&&c(Ie.p)}const Te={v:me,r:(Ie==null?void 0:Ie.r)||0,d:x(Le,Ie==null?void 0:Ie.d,ve)};return Ie&&"v"in Ie&&Object.is(Ie.v,me)?Te.d===Ie.d||Te.d.size===Ie.d.size&&Array.from(Te.d.keys()).every(ze=>Ie.d.has(ze))||Promise.resolve().then(()=>{Fe(Le)}):(++Te.r,Te.d.has(ne)&&(Te.d=new Map(Te.d).set(ne,Te.r))),d(Le,ne,Te),Te},U=(Le,ne,me,ve,we)=>{const Ie=b(Le,ne);if(Ie){if(we&&(!("p"in Ie)||!j(Ie.p,we)))return Ie;"p"in Ie&&c(Ie.p)}const Te={e:me,r:(Ie==null?void 0:Ie.r)||0,d:x(Le,Ie==null?void 0:Ie.d,ve)};return d(Le,ne,Te),Te},D=(Le,ne,me,ve)=>{const we=b(Le,ne);if(we&&"p"in we){if(j(we.p,me))return we;c(we.p)}((Te,ze,We)=>{let He=re.get(ze);He||(He=new Map,re.set(ze,He)),We.then(()=>{He.get(Te)===We&&(He.delete(Te),He.size||re.delete(ze))}),He.set(Te,We)})(Le,ne,me);const Ie={p:me,r:(we==null?void 0:we.r)||0,d:x(Le,we==null?void 0:we.d,ve)};return d(Le,ne,Ie),Ie},ce=(Le,ne,me,ve)=>{if(me instanceof Promise){const we=A(me.then(Ie=>{P(Le,ne,Ie,ve,we),Fe(Le)}).catch(Ie=>{if(Ie instanceof Promise)return f(Ie)?Ie.then(()=>{ue(Le,ne,!0)}):Ie;U(Le,ne,Ie,ve,we),Fe(Le)}));return D(Le,ne,we,ve)}return P(Le,ne,me,ve)},ie=(Le,ne)=>{const me=b(Le,ne);if(me){"p"in me&&c(me.p);const Ie=(ve=((Te,ze)=>{for(var We in ze||(ze={}))G.call(ze,We)&&k(Te,We,ze[We]);if(H)for(var We of H(ze))le.call(ze,We)&&k(Te,We,ze[We]);return Te})({},me),we={i:me.r},n(ve,Z(we)));d(Le,ne,Ie)}else console.warn("[Bug] could not invalidate non existing atom",ne);var ve,we},ue=(Le,ne,me)=>{if(!me){const we=b(Le,ne);if(we&&(we.r!==we.i&&"p"in we&&we.p[y].c||(we.d.forEach((Ie,Te)=>{if(Te!==ne)if(h.has(Te)){const ze=b(Le,Te);ze&&ze.r===ze.i&&ue(Le,Te)}else ue(Le,Te)}),Array.from(we.d).every(([Ie,Te])=>{const ze=b(Le,Ie);return ze&&"v"in ze&&ze.r===Te}))))return we}const ve=new Set;try{const we=ne.read(Ie=>{ve.add(Ie);const Te=Ie===ne?b(Le,Ie):ue(Le,Ie);if(Te){if("e"in Te)throw Te.e;if("p"in Te)throw Te.p;return Te.v}if(se(Ie))return Ie.init;throw new Error("no atom init")});return ce(Le,ne,we,ve)}catch(we){if(we instanceof Promise){const Ie=A(we);return D(Le,ne,Ie,ve)}return U(Le,ne,we,ve)}},Ce=(Le,ne)=>ue(ne,Le),Pe=(Le,ne)=>!ne.l.size&&(!ne.t.size||ne.t.size===1&&ne.t.has(Le)),B=(Le,ne)=>{const me=h.get(ne);me==null||me.t.forEach(ve=>{ve!==ne&&(ie(Le,ve),B(Le,ve))})},Y=(Le,ne,me)=>{let ve=!0;const we=(Te,ze)=>{const We=ue(Le,Te);if("e"in We)throw We.e;if("p"in We){if(ze!=null&&ze.unstable_promise)return We.p.then(()=>we(Te,ze));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",Te),We.p}if("v"in We)return We.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",Te),new Error("no value found")},Ie=ne.write(we,(Te,ze)=>{let We;if(Te===ne){if(!se(Te))throw new Error("atom not writable");(Ye=>{const et=new Set,at=re.get(Ye);return at&&(re.delete(Ye),at.forEach(($e,tt)=>{c($e),et.add(tt)})),et})(Te).forEach(Ye=>{Ye!==Le&&ce(Ye,Te,ze)}),ce(Le,Te,ze),B(Le,Te)}else We=Y(Le,Te,ze);return ve||Fe(Le),We},me);return ve=!1,Le=void 0,Ie},$=(Le,ne,me)=>{const ve=Y(me,Le,ne);return Fe(me),ve},xe=(Le,ne)=>{const me={t:new Set(ne&&[ne]),l:new Set};if(h.set(Le,me),I.add(Le),ue(void 0,Le).d.forEach((ve,we)=>{const Ie=h.get(we);Ie?Ie.t.add(Le):we!==Le&&xe(we,Le)}),(ve=>!!ve.write)(Le)&&Le.onMount){const ve=Ie=>$(Le,Ie),we=Le.onMount(ve);we&&(me.u=we)}return me},Oe=Le=>{var ne;const me=(ne=h.get(Le))==null?void 0:ne.u;me&&me(),h.delete(Le),I.delete(Le);const ve=b(void 0,Le);ve?ve.d.forEach((we,Ie)=>{if(Ie!==Le){const Te=h.get(Ie);Te&&(Te.t.delete(Le),Pe(Ie,Te)&&Oe(Ie))}}):console.warn("[Bug] could not find atom state to unmount",Le)},Ze=(Le,ne,me)=>{const ve=new Set(ne.d.keys());me==null||me.forEach((we,Ie)=>{if(ve.has(Ie))return void ve.delete(Ie);const Te=h.get(Ie);Te&&(Te.t.delete(Le),Pe(Ie,Te)&&Oe(Ie))}),ve.forEach(we=>{const Ie=h.get(we);Ie?Ie.t.add(Le):h.has(Le)&&xe(we,Le)})},Fe=Le=>{if(Le)E(Le).forEach((ne,me)=>{if(ne!==F.get(me)){const ve=h.get(me);ve==null||ve.l.forEach(we=>we(Le))}});else{for(;_.size;){const ne=Array.from(_);_.clear(),ne.forEach(([me,ve])=>{const we=b(void 0,me);we&&we.d!==(ve==null?void 0:ve.d)&&Ze(me,we,ve==null?void 0:ve.d);const Ie=h.get(me);Ie==null||Ie.l.forEach(Te=>Te())})}W.forEach(ne=>ne())}},Je=(Le,ne)=>{ne&&(me=>{E(me).forEach((ve,we)=>{const Ie=F.get(we);(ve.r>((Ie==null?void 0:Ie.r)||0)||"v"in ve&&ve.r===(Ie==null?void 0:Ie.r)&&ve.d!==(Ie==null?void 0:Ie.d))&&(F.set(we,ve),ve.d!==(Ie==null?void 0:Ie.d)&&Ze(we,ve,Ie==null?void 0:Ie.d))})})(ne),Fe(void 0)},Ke=(Le,ne)=>{const me=(ve=>{let we=h.get(ve);return we||(we=xe(ve)),we})(Le).l;return me.add(ne),()=>{me.delete(ne),(ve=>{const we=h.get(ve);we&&Pe(ve,we)&&Oe(ve)})(Le)}},Be=(Le,ne)=>{for(const[me,ve]of Le)se(me)&&(ce(ne,me,ve),B(ne,me));Fe(ne)};return{[pe]:Ce,[Ee]:$,[ae]:Je,[de]:Ke,h:Be,n:Le=>(W.add(Le),()=>{W.delete(Le)}),l:()=>I.values(),a:Le=>F.get(Le),m:Le=>h.get(Le)}},C=q=>{const F=ye(q),h=_=>new Promise((W,I)=>{const re=F.r(_);"e"in re?I(re.e):W("p"in re?re.p.then(()=>h(_)):re.v)});return{get:_=>{const W=F.r(_);if("e"in W)throw W.e;if(!("p"in W))return W.v},asyncGet:h,set:(_,W)=>F.w(_,W),sub:(_,W)=>F.s(_,W),SECRET_INTERNAL_store:F}},J=(q,F)=>({s:F?F(q).SECRET_INTERNAL_store:ye(q)}),g=new Map,m=q=>(g.has(q)||g.set(q,(0,w.createContext)(J())),g.get(q));var M=Object.defineProperty,v=Object.defineProperties,u=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,a=(q,F,h)=>F in q?M(q,F,{enumerable:!0,configurable:!0,writable:!0,value:h}):q[F]=h,i=(q,F)=>{for(var h in F||(F={}))o.call(F,h)&&a(q,h,F[h]);if(s)for(var h of s(F))e.call(F,h)&&a(q,h,F[h]);return q};const l=q=>q.debugLabel||q.toString(),p=([q,F])=>Object.fromEntries(F.flatMap(h=>{var _,W;const I=(_=q.m)==null?void 0:_.call(q,h);if(!I)return[];const re=I.t,O=((W=q.a)==null?void 0:W.call(q,h))||{};return[[l(h),(E=i(i(i({},"e"in O&&{error:O.e}),"p"in O&&{promise:O.p}),"v"in O&&{value:O.v}),b={dependents:Array.from(re).map(l)},v(E,u(b)))]];var E,b})),T=({children:q,initialValues:F,scope:h,unstable_createStore:_,unstable_enableVersionedWrite:W})=>{const[I,re]=(0,w.useState)();(0,w.useEffect)(()=>{I&&(O.current.s.c(null,I),delete I.p)},[I]);const O=(0,w.useRef)();O.current||(O.current=J(F,_),W&&(O.current.w=b=>{re(d=>{const x=d?{p:d}:{};return b(x),x})})),W||(b=>{const{s:d}=b,[x,P]=(0,w.useState)([]);(0,w.useEffect)(()=>{var U;const D=()=>{var ie;P(Array.from(((ie=d.l)==null?void 0:ie.call(d))||[]))},ce=(U=d.n)==null?void 0:U.call(d,D);return D(),ce},[d]),(0,w.useDebugValue)([d,x],p)})(O.current);const E=m(h);return(0,w.createElement)(E.Provider,{value:O.current},q)};let X=0;function te(q,F){const h="atom"+ ++X,_={toString:()=>h};return typeof q=="function"?_.read=q:(_.init=q,_.read=W=>W(_),_.write=(W,I,re)=>I(_,typeof re=="function"?re(W(_)):re)),F&&(_.write=F),_}function N(q,F){const h=m(F),{s:_}=(0,w.useContext)(h),W=(0,w.useCallback)(b=>{const d=_.r(q,b);if("e"in d)throw d.e;if("p"in d)throw d.p;if("v"in d)return d.v;throw new Error("no atom value")},[_,q]),[[I,re,O],E]=(0,w.useReducer)((0,w.useCallback)((b,d)=>{const x=W(d);return Object.is(b[1],x)&&b[2]===q?b:[d,x,q]},[W,q]),void 0,()=>[void 0,W(void 0),q]);return O!==q&&E(void 0),(0,w.useEffect)(()=>{const b=_.s(q,E);return E(void 0),b},[_,q]),(0,w.useEffect)(()=>{_.c(q,I)}),(0,w.useDebugValue)(re),re}function L(q,F){const h=m(F),{s:_,w:W}=(0,w.useContext)(h);return(0,w.useCallback)(I=>{if(!("write"in q))throw new Error("not writable atom");const re=O=>_.w(q,I,O);return W?W(re):re()},[_,W,q])}function fe(q,F){return"scope"in q&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),F=q.scope),[N(q,F),L(q,F)]}},200:function(ge,Q,t){var w="Expected a function",y=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,j=/^0o[0-7]+$/i,A=parseInt,R=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,n=typeof self=="object"&&self&&self.Object===Object&&self,Z=R||n||Function("return this")(),H=Object.prototype.toString,G=Math.max,le=Math.min,k=function(){return Z.Date.now()};function se(ae,de,ye){var C,J,g,m,M,v,u=0,s=!1,o=!1,e=!0;if(typeof ae!="function")throw new TypeError(w);function a(te){var N=C,L=J;return C=J=void 0,u=te,m=ae.apply(L,N)}function i(te){return u=te,M=setTimeout(p,de),s?a(te):m}function l(te){var N=te-v;return v===void 0||N>=de||N<0||o&&te-u>=g}function p(){var te=k();if(l(te))return T(te);M=setTimeout(p,function(N){var L=de-(N-v);return o?le(L,g-(N-u)):L}(te))}function T(te){return M=void 0,e&&C?a(te):(C=J=void 0,m)}function X(){var te=k(),N=l(te);if(C=arguments,J=this,v=te,N){if(M===void 0)return i(v);if(o)return M=setTimeout(p,de),a(v)}return M===void 0&&(M=setTimeout(p,de)),m}return de=Ee(de)||0,pe(ye)&&(s=!!ye.leading,g=(o="maxWait"in ye)?G(Ee(ye.maxWait)||0,de):g,e="trailing"in ye?!!ye.trailing:e),X.cancel=function(){M!==void 0&&clearTimeout(M),u=0,C=v=J=M=void 0},X.flush=function(){return M===void 0?m:T(k())},X}function pe(ae){var de=typeof ae;return!!ae&&(de=="object"||de=="function")}function Ee(ae){if(typeof ae=="number")return ae;if(function(C){return typeof C=="symbol"||function(J){return!!J&&typeof J=="object"}(C)&&H.call(C)=="[object Symbol]"}(ae))return NaN;if(pe(ae)){var de=typeof ae.valueOf=="function"?ae.valueOf():ae;ae=pe(de)?de+"":de}if(typeof ae!="string")return ae===0?ae:+ae;ae=ae.replace(y,"");var ye=c.test(ae);return ye||j.test(ae)?A(ae.slice(2),ye?2:8):f.test(ae)?NaN:+ae}ge.exports=function(ae,de,ye){var C=!0,J=!0;if(typeof ae!="function")throw new TypeError(w);return pe(ye)&&(C="leading"in ye?!!ye.leading:C,J="trailing"in ye?!!ye.trailing:J),se(ae,de,{leading:C,maxWait:de,trailing:J})}},2744:function(ge,Q,t){var w={};(0,t(9187).assign)(w,t(4395),t(578),t(2684)),ge.exports=w},4395:function(ge,Q,t){var w=t(7651),y=t(9187),f=t(8592),c=t(5604),j=t(249),A=Object.prototype.toString;function R(Z){if(!(this instanceof R))return new R(Z);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},Z||{});var H=this.options;H.raw&&H.windowBits>0?H.windowBits=-H.windowBits:H.gzip&&H.windowBits>0&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var G=w.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(G!==0)throw new Error(c[G]);if(H.header&&w.deflateSetHeader(this.strm,H.header),H.dictionary){var le;if(le=typeof H.dictionary=="string"?f.string2buf(H.dictionary):A.call(H.dictionary)==="[object ArrayBuffer]"?new Uint8Array(H.dictionary):H.dictionary,(G=w.deflateSetDictionary(this.strm,le))!==0)throw new Error(c[G]);this._dict_set=!0}}function n(Z,H){var G=new R(H);if(G.push(Z,!0),G.err)throw G.msg||c[G.err];return G.result}R.prototype.push=function(Z,H){var G,le,k=this.strm,se=this.options.chunkSize;if(this.ended)return!1;le=H===~~H?H:H===!0?4:0,typeof Z=="string"?k.input=f.string2buf(Z):A.call(Z)==="[object ArrayBuffer]"?k.input=new Uint8Array(Z):k.input=Z,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new y.Buf8(se),k.next_out=0,k.avail_out=se),(G=w.deflate(k,le))!==1&&G!==0)return this.onEnd(G),this.ended=!0,!1;k.avail_out!==0&&(k.avail_in!==0||le!==4&&le!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(y.shrinkBuf(k.output,k.next_out))):this.onData(y.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&G!==1);return le===4?(G=w.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===0):le!==2||(this.onEnd(0),k.avail_out=0,!0)},R.prototype.onData=function(Z){this.chunks.push(Z)},R.prototype.onEnd=function(Z){Z===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=Z,this.msg=this.strm.msg},Q.Deflate=R,Q.deflate=n,Q.deflateRaw=function(Z,H){return(H=H||{}).raw=!0,n(Z,H)},Q.gzip=function(Z,H){return(H=H||{}).gzip=!0,n(Z,H)}},578:function(ge,Q,t){var w=t(7823),y=t(9187),f=t(8592),c=t(2684),j=t(5604),A=t(249),R=t(9968),n=Object.prototype.toString;function Z(G){if(!(this instanceof Z))return new Z(G);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},G||{});var le=this.options;le.raw&&le.windowBits>=0&&le.windowBits<16&&(le.windowBits=-le.windowBits,le.windowBits===0&&(le.windowBits=-15)),!(le.windowBits>=0&&le.windowBits<16)||G&&G.windowBits||(le.windowBits+=32),le.windowBits>15&&le.windowBits<48&&(15&le.windowBits)==0&&(le.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var k=w.inflateInit2(this.strm,le.windowBits);if(k!==c.Z_OK)throw new Error(j[k]);if(this.header=new R,w.inflateGetHeader(this.strm,this.header),le.dictionary&&(typeof le.dictionary=="string"?le.dictionary=f.string2buf(le.dictionary):n.call(le.dictionary)==="[object ArrayBuffer]"&&(le.dictionary=new Uint8Array(le.dictionary)),le.raw&&(k=w.inflateSetDictionary(this.strm,le.dictionary))!==c.Z_OK))throw new Error(j[k])}function H(G,le){var k=new Z(le);if(k.push(G,!0),k.err)throw k.msg||j[k.err];return k.result}Z.prototype.push=function(G,le){var k,se,pe,Ee,ae,de=this.strm,ye=this.options.chunkSize,C=this.options.dictionary,J=!1;if(this.ended)return!1;se=le===~~le?le:le===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof G=="string"?de.input=f.binstring2buf(G):n.call(G)==="[object ArrayBuffer]"?de.input=new Uint8Array(G):de.input=G,de.next_in=0,de.avail_in=de.input.length;do{if(de.avail_out===0&&(de.output=new y.Buf8(ye),de.next_out=0,de.avail_out=ye),(k=w.inflate(de,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(k=w.inflateSetDictionary(this.strm,C)),k===c.Z_BUF_ERROR&&J===!0&&(k=c.Z_OK,J=!1),k!==c.Z_STREAM_END&&k!==c.Z_OK)return this.onEnd(k),this.ended=!0,!1;de.next_out&&(de.avail_out!==0&&k!==c.Z_STREAM_END&&(de.avail_in!==0||se!==c.Z_FINISH&&se!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(pe=f.utf8border(de.output,de.next_out),Ee=de.next_out-pe,ae=f.buf2string(de.output,pe),de.next_out=Ee,de.avail_out=ye-Ee,Ee&&y.arraySet(de.output,de.output,pe,Ee,0),this.onData(ae)):this.onData(y.shrinkBuf(de.output,de.next_out)))),de.avail_in===0&&de.avail_out===0&&(J=!0)}while((de.avail_in>0||de.avail_out===0)&&k!==c.Z_STREAM_END);return k===c.Z_STREAM_END&&(se=c.Z_FINISH),se===c.Z_FINISH?(k=w.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===c.Z_OK):se!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),de.avail_out=0,!0)},Z.prototype.onData=function(G){this.chunks.push(G)},Z.prototype.onEnd=function(G){G===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg},Q.Inflate=Z,Q.inflate=H,Q.inflateRaw=function(G,le){return(le=le||{}).raw=!0,H(G,le)},Q.ungzip=H},9187:function(ge,Q){var t=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function w(c,j){return Object.prototype.hasOwnProperty.call(c,j)}Q.assign=function(c){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var A=j.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var R in A)w(A,R)&&(c[R]=A[R])}}return c},Q.shrinkBuf=function(c,j){return c.length===j?c:c.subarray?c.subarray(0,j):(c.length=j,c)};var y={arraySet:function(c,j,A,R,n){if(j.subarray&&c.subarray)c.set(j.subarray(A,A+R),n);else for(var Z=0;Z<R;Z++)c[n+Z]=j[A+Z]},flattenChunks:function(c){var j,A,R,n,Z,H;for(R=0,j=0,A=c.length;j<A;j++)R+=c[j].length;for(H=new Uint8Array(R),n=0,j=0,A=c.length;j<A;j++)Z=c[j],H.set(Z,n),n+=Z.length;return H}},f={arraySet:function(c,j,A,R,n){for(var Z=0;Z<R;Z++)c[n+Z]=j[A+Z]},flattenChunks:function(c){return[].concat.apply([],c)}};Q.setTyped=function(c){c?(Q.Buf8=Uint8Array,Q.Buf16=Uint16Array,Q.Buf32=Int32Array,Q.assign(Q,y)):(Q.Buf8=Array,Q.Buf16=Array,Q.Buf32=Array,Q.assign(Q,f))},Q.setTyped(t)},8592:function(ge,Q,t){var w=t(9187),y=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var c=new w.Buf8(256),j=0;j<256;j++)c[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;function A(R,n){if(n<65534&&(R.subarray&&f||!R.subarray&&y))return String.fromCharCode.apply(null,w.shrinkBuf(R,n));for(var Z="",H=0;H<n;H++)Z+=String.fromCharCode(R[H]);return Z}c[254]=c[254]=1,Q.string2buf=function(R){var n,Z,H,G,le,k=R.length,se=0;for(G=0;G<k;G++)(64512&(Z=R.charCodeAt(G)))==55296&&G+1<k&&(64512&(H=R.charCodeAt(G+1)))==56320&&(Z=65536+(Z-55296<<10)+(H-56320),G++),se+=Z<128?1:Z<2048?2:Z<65536?3:4;for(n=new w.Buf8(se),le=0,G=0;le<se;G++)(64512&(Z=R.charCodeAt(G)))==55296&&G+1<k&&(64512&(H=R.charCodeAt(G+1)))==56320&&(Z=65536+(Z-55296<<10)+(H-56320),G++),Z<128?n[le++]=Z:Z<2048?(n[le++]=192|Z>>>6,n[le++]=128|63&Z):Z<65536?(n[le++]=224|Z>>>12,n[le++]=128|Z>>>6&63,n[le++]=128|63&Z):(n[le++]=240|Z>>>18,n[le++]=128|Z>>>12&63,n[le++]=128|Z>>>6&63,n[le++]=128|63&Z);return n},Q.buf2binstring=function(R){return A(R,R.length)},Q.binstring2buf=function(R){for(var n=new w.Buf8(R.length),Z=0,H=n.length;Z<H;Z++)n[Z]=R.charCodeAt(Z);return n},Q.buf2string=function(R,n){var Z,H,G,le,k=n||R.length,se=new Array(2*k);for(H=0,Z=0;Z<k;)if((G=R[Z++])<128)se[H++]=G;else if((le=c[G])>4)se[H++]=65533,Z+=le-1;else{for(G&=le===2?31:le===3?15:7;le>1&&Z<k;)G=G<<6|63&R[Z++],le--;le>1?se[H++]=65533:G<65536?se[H++]=G:(G-=65536,se[H++]=55296|G>>10&1023,se[H++]=56320|1023&G)}return A(se,H)},Q.utf8border=function(R,n){var Z;for((n=n||R.length)>R.length&&(n=R.length),Z=n-1;Z>=0&&(192&R[Z])==128;)Z--;return Z<0||Z===0?n:Z+c[R[Z]]>n?Z:n}},3693:function(ge){ge.exports=function(Q,t,w,y){for(var f=65535&Q|0,c=Q>>>16&65535|0,j=0;w!==0;){w-=j=w>2e3?2e3:w;do c=c+(f=f+t[y++]|0)|0;while(--j);f%=65521,c%=65521}return f|c<<16|0}},2684:function(ge){ge.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(ge){var Q=function(){for(var t,w=[],y=0;y<256;y++){t=y;for(var f=0;f<8;f++)t=1&t?3988292384^t>>>1:t>>>1;w[y]=t}return w}();ge.exports=function(t,w,y,f){var c=Q,j=f+y;t^=-1;for(var A=f;A<j;A++)t=t>>>8^c[255&(t^w[A])];return-1^t}},7651:function(ge,Q,t){var w,y=t(9187),f=t(8676),c=t(3693),j=t(8464),A=t(5604),R=-2,n=258,Z=262,H=103,G=113,le=666;function k(e,a){return e.msg=A[a],a}function se(e){return(e<<1)-(e>4?9:0)}function pe(e){for(var a=e.length;--a>=0;)e[a]=0}function Ee(e){var a=e.state,i=a.pending;i>e.avail_out&&(i=e.avail_out),i!==0&&(y.arraySet(e.output,a.pending_buf,a.pending_out,i,e.next_out),e.next_out+=i,a.pending_out+=i,e.total_out+=i,e.avail_out-=i,a.pending-=i,a.pending===0&&(a.pending_out=0))}function ae(e,a){f._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,a),e.block_start=e.strstart,Ee(e.strm)}function de(e,a){e.pending_buf[e.pending++]=a}function ye(e,a){e.pending_buf[e.pending++]=a>>>8&255,e.pending_buf[e.pending++]=255&a}function C(e,a){var i,l,p=e.max_chain_length,T=e.strstart,X=e.prev_length,te=e.nice_match,N=e.strstart>e.w_size-Z?e.strstart-(e.w_size-Z):0,L=e.window,fe=e.w_mask,q=e.prev,F=e.strstart+n,h=L[T+X-1],_=L[T+X];e.prev_length>=e.good_match&&(p>>=2),te>e.lookahead&&(te=e.lookahead);do if(L[(i=a)+X]===_&&L[i+X-1]===h&&L[i]===L[T]&&L[++i]===L[T+1]){T+=2,i++;do;while(L[++T]===L[++i]&&L[++T]===L[++i]&&L[++T]===L[++i]&&L[++T]===L[++i]&&L[++T]===L[++i]&&L[++T]===L[++i]&&L[++T]===L[++i]&&L[++T]===L[++i]&&T<F);if(l=n-(F-T),T=F-n,l>X){if(e.match_start=a,X=l,l>=te)break;h=L[T+X-1],_=L[T+X]}}while((a=q[a&fe])>N&&--p!=0);return X<=e.lookahead?X:e.lookahead}function J(e){var a,i,l,p,T,X,te,N,L,fe,q=e.w_size;do{if(p=e.window_size-e.lookahead-e.strstart,e.strstart>=q+(q-Z)){y.arraySet(e.window,e.window,q,q,0),e.match_start-=q,e.strstart-=q,e.block_start-=q,a=i=e.hash_size;do l=e.head[--a],e.head[a]=l>=q?l-q:0;while(--i);a=i=q;do l=e.prev[--a],e.prev[a]=l>=q?l-q:0;while(--i);p+=q}if(e.strm.avail_in===0)break;if(X=e.strm,te=e.window,N=e.strstart+e.lookahead,L=p,fe=void 0,(fe=X.avail_in)>L&&(fe=L),i=fe===0?0:(X.avail_in-=fe,y.arraySet(te,X.input,X.next_in,fe,N),X.state.wrap===1?X.adler=c(X.adler,te,fe,N):X.state.wrap===2&&(X.adler=j(X.adler,te,fe,N)),X.next_in+=fe,X.total_in+=fe,fe),e.lookahead+=i,e.lookahead+e.insert>=3)for(T=e.strstart-e.insert,e.ins_h=e.window[T],e.ins_h=(e.ins_h<<e.hash_shift^e.window[T+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[T+3-1])&e.hash_mask,e.prev[T&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=T,T++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Z&&e.strm.avail_in!==0)}function g(e,a){for(var i,l;;){if(e.lookahead<Z){if(J(e),e.lookahead<Z&&a===0)return 1;if(e.lookahead===0)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),i!==0&&e.strstart-i<=e.w_size-Z&&(e.match_length=C(e,i)),e.match_length>=3)if(l=f._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else l=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(l&&(ae(e,!1),e.strm.avail_out===0))return 1}return e.insert=e.strstart<2?e.strstart:2,a===4?(ae(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(ae(e,!1),e.strm.avail_out===0)?1:2}function m(e,a){for(var i,l,p;;){if(e.lookahead<Z){if(J(e),e.lookahead<Z&&a===0)return 1;if(e.lookahead===0)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,i!==0&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Z&&(e.match_length=C(e,i),e.match_length<=5&&(e.strategy===1||e.match_length===3&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){p=e.strstart+e.lookahead-3,l=f._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=p&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=2,e.strstart++,l&&(ae(e,!1),e.strm.avail_out===0))return 1}else if(e.match_available){if((l=f._tr_tally(e,0,e.window[e.strstart-1]))&&ae(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(l=f._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,a===4?(ae(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(ae(e,!1),e.strm.avail_out===0)?1:2}function M(e,a,i,l,p){this.good_length=e,this.max_lazy=a,this.nice_length=i,this.max_chain=l,this.func=p}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(e){var a;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(a=e.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?42:G,e.adler=a.wrap===2?0:1,a.last_flush=0,f._tr_init(a),0):k(e,R)}function s(e){var a,i=u(e);return i===0&&((a=e.state).window_size=2*a.w_size,pe(a.head),a.max_lazy_match=w[a.level].max_lazy,a.good_match=w[a.level].good_length,a.nice_match=w[a.level].nice_length,a.max_chain_length=w[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),i}function o(e,a,i,l,p,T){if(!e)return R;var X=1;if(a===-1&&(a=6),l<0?(X=0,l=-l):l>15&&(X=2,l-=16),p<1||p>9||i!==8||l<8||l>15||a<0||a>9||T<0||T>4)return k(e,R);l===8&&(l=9);var te=new v;return e.state=te,te.strm=e,te.wrap=X,te.gzhead=null,te.w_bits=l,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=p+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+3-1)/3),te.window=new y.Buf8(2*te.w_size),te.head=new y.Buf16(te.hash_size),te.prev=new y.Buf16(te.w_size),te.lit_bufsize=1<<p+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new y.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=a,te.strategy=T,te.method=i,s(e)}w=[new M(0,0,0,0,function(e,a){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(J(e),e.lookahead===0&&a===0)return 1;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var l=e.block_start+i;if((e.strstart===0||e.strstart>=l)&&(e.lookahead=e.strstart-l,e.strstart=l,ae(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Z&&(ae(e,!1),e.strm.avail_out===0))return 1}return e.insert=0,a===4?(ae(e,!0),e.strm.avail_out===0?3:4):(e.strstart>e.block_start&&(ae(e,!1),e.strm.avail_out),1)}),new M(4,4,8,4,g),new M(4,5,16,8,g),new M(4,6,32,32,g),new M(4,4,16,16,m),new M(8,16,32,32,m),new M(8,16,128,128,m),new M(8,32,128,256,m),new M(32,128,258,1024,m),new M(32,258,258,4096,m)],Q.deflateInit=function(e,a){return o(e,a,8,15,8,0)},Q.deflateInit2=o,Q.deflateReset=s,Q.deflateResetKeep=u,Q.deflateSetHeader=function(e,a){return e&&e.state?e.state.wrap!==2?R:(e.state.gzhead=a,0):R},Q.deflate=function(e,a){var i,l,p,T;if(!e||!e.state||a>5||a<0)return e?k(e,R):R;if(l=e.state,!e.output||!e.input&&e.avail_in!==0||l.status===le&&a!==4)return k(e,e.avail_out===0?-5:R);if(l.strm=e,i=l.last_flush,l.last_flush=a,l.status===42)if(l.wrap===2)e.adler=0,de(l,31),de(l,139),de(l,8),l.gzhead?(de(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),de(l,255&l.gzhead.time),de(l,l.gzhead.time>>8&255),de(l,l.gzhead.time>>16&255),de(l,l.gzhead.time>>24&255),de(l,l.level===9?2:l.strategy>=2||l.level<2?4:0),de(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(de(l,255&l.gzhead.extra.length),de(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=j(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(de(l,0),de(l,0),de(l,0),de(l,0),de(l,0),de(l,l.level===9?2:l.strategy>=2||l.level<2?4:0),de(l,3),l.status=G);else{var X=8+(l.w_bits-8<<4)<<8;X|=(l.strategy>=2||l.level<2?0:l.level<6?1:l.level===6?2:3)<<6,l.strstart!==0&&(X|=32),X+=31-X%31,l.status=G,ye(l,X),l.strstart!==0&&(ye(l,e.adler>>>16),ye(l,65535&e.adler)),e.adler=1}if(l.status===69)if(l.gzhead.extra){for(p=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),Ee(e),p=l.pending,l.pending!==l.pending_buf_size));)de(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(l.status===73)if(l.gzhead.name){p=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),Ee(e),p=l.pending,l.pending===l.pending_buf_size)){T=1;break}T=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,de(l,T)}while(T!==0);l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),T===0&&(l.gzindex=0,l.status=91)}else l.status=91;if(l.status===91)if(l.gzhead.comment){p=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),Ee(e),p=l.pending,l.pending===l.pending_buf_size)){T=1;break}T=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,de(l,T)}while(T!==0);l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),T===0&&(l.status=H)}else l.status=H;if(l.status===H&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&Ee(e),l.pending+2<=l.pending_buf_size&&(de(l,255&e.adler),de(l,e.adler>>8&255),e.adler=0,l.status=G)):l.status=G),l.pending!==0){if(Ee(e),e.avail_out===0)return l.last_flush=-1,0}else if(e.avail_in===0&&se(a)<=se(i)&&a!==4)return k(e,-5);if(l.status===le&&e.avail_in!==0)return k(e,-5);if(e.avail_in!==0||l.lookahead!==0||a!==0&&l.status!==le){var te=l.strategy===2?function(N,L){for(var fe;;){if(N.lookahead===0&&(J(N),N.lookahead===0)){if(L===0)return 1;break}if(N.match_length=0,fe=f._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,fe&&(ae(N,!1),N.strm.avail_out===0))return 1}return N.insert=0,L===4?(ae(N,!0),N.strm.avail_out===0?3:4):N.last_lit&&(ae(N,!1),N.strm.avail_out===0)?1:2}(l,a):l.strategy===3?function(N,L){for(var fe,q,F,h,_=N.window;;){if(N.lookahead<=n){if(J(N),N.lookahead<=n&&L===0)return 1;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=3&&N.strstart>0&&(q=_[F=N.strstart-1])===_[++F]&&q===_[++F]&&q===_[++F]){h=N.strstart+n;do;while(q===_[++F]&&q===_[++F]&&q===_[++F]&&q===_[++F]&&q===_[++F]&&q===_[++F]&&q===_[++F]&&q===_[++F]&&F<h);N.match_length=n-(h-F),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=3?(fe=f._tr_tally(N,1,N.match_length-3),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(fe=f._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),fe&&(ae(N,!1),N.strm.avail_out===0))return 1}return N.insert=0,L===4?(ae(N,!0),N.strm.avail_out===0?3:4):N.last_lit&&(ae(N,!1),N.strm.avail_out===0)?1:2}(l,a):w[l.level].func(l,a);if(te!==3&&te!==4||(l.status=le),te===1||te===3)return e.avail_out===0&&(l.last_flush=-1),0;if(te===2&&(a===1?f._tr_align(l):a!==5&&(f._tr_stored_block(l,0,0,!1),a===3&&(pe(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),Ee(e),e.avail_out===0))return l.last_flush=-1,0}return a!==4?0:l.wrap<=0?1:(l.wrap===2?(de(l,255&e.adler),de(l,e.adler>>8&255),de(l,e.adler>>16&255),de(l,e.adler>>24&255),de(l,255&e.total_in),de(l,e.total_in>>8&255),de(l,e.total_in>>16&255),de(l,e.total_in>>24&255)):(ye(l,e.adler>>>16),ye(l,65535&e.adler)),Ee(e),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?0:1)},Q.deflateEnd=function(e){var a;return e&&e.state?(a=e.state.status)!==42&&a!==69&&a!==73&&a!==91&&a!==H&&a!==G&&a!==le?k(e,R):(e.state=null,a===G?k(e,-3):0):R},Q.deflateSetDictionary=function(e,a){var i,l,p,T,X,te,N,L,fe=a.length;if(!e||!e.state||(T=(i=e.state).wrap)===2||T===1&&i.status!==42||i.lookahead)return R;for(T===1&&(e.adler=c(e.adler,a,fe,0)),i.wrap=0,fe>=i.w_size&&(T===0&&(pe(i.head),i.strstart=0,i.block_start=0,i.insert=0),L=new y.Buf8(i.w_size),y.arraySet(L,a,fe-i.w_size,i.w_size,0),a=L,fe=i.w_size),X=e.avail_in,te=e.next_in,N=e.input,e.avail_in=fe,e.next_in=0,e.input=a,J(i);i.lookahead>=3;){l=i.strstart,p=i.lookahead-2;do i.ins_h=(i.ins_h<<i.hash_shift^i.window[l+3-1])&i.hash_mask,i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--p);i.strstart=l,i.lookahead=2,J(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=te,e.input=N,e.avail_in=X,i.wrap=T,0},Q.deflateInfo="pako deflate (from Nodeca project)"},9968:function(ge){ge.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(ge){ge.exports=function(Q,t){var w,y,f,c,j,A,R,n,Z,H,G,le,k,se,pe,Ee,ae,de,ye,C,J,g,m,M,v;w=Q.state,y=Q.next_in,M=Q.input,f=y+(Q.avail_in-5),c=Q.next_out,v=Q.output,j=c-(t-Q.avail_out),A=c+(Q.avail_out-257),R=w.dmax,n=w.wsize,Z=w.whave,H=w.wnext,G=w.window,le=w.hold,k=w.bits,se=w.lencode,pe=w.distcode,Ee=(1<<w.lenbits)-1,ae=(1<<w.distbits)-1;e:do{k<15&&(le+=M[y++]<<k,k+=8,le+=M[y++]<<k,k+=8),de=se[le&Ee];t:for(;;){if(le>>>=ye=de>>>24,k-=ye,(ye=de>>>16&255)===0)v[c++]=65535&de;else{if(!(16&ye)){if((64&ye)==0){de=se[(65535&de)+(le&(1<<ye)-1)];continue t}if(32&ye){w.mode=12;break e}Q.msg="invalid literal/length code",w.mode=30;break e}C=65535&de,(ye&=15)&&(k<ye&&(le+=M[y++]<<k,k+=8),C+=le&(1<<ye)-1,le>>>=ye,k-=ye),k<15&&(le+=M[y++]<<k,k+=8,le+=M[y++]<<k,k+=8),de=pe[le&ae];r:for(;;){if(le>>>=ye=de>>>24,k-=ye,!(16&(ye=de>>>16&255))){if((64&ye)==0){de=pe[(65535&de)+(le&(1<<ye)-1)];continue r}Q.msg="invalid distance code",w.mode=30;break e}if(J=65535&de,k<(ye&=15)&&(le+=M[y++]<<k,(k+=8)<ye&&(le+=M[y++]<<k,k+=8)),(J+=le&(1<<ye)-1)>R){Q.msg="invalid distance too far back",w.mode=30;break e}if(le>>>=ye,k-=ye,J>(ye=c-j)){if((ye=J-ye)>Z&&w.sane){Q.msg="invalid distance too far back",w.mode=30;break e}if(g=0,m=G,H===0){if(g+=n-ye,ye<C){C-=ye;do v[c++]=G[g++];while(--ye);g=c-J,m=v}}else if(H<ye){if(g+=n+H-ye,(ye-=H)<C){C-=ye;do v[c++]=G[g++];while(--ye);if(g=0,H<C){C-=ye=H;do v[c++]=G[g++];while(--ye);g=c-J,m=v}}}else if(g+=H-ye,ye<C){C-=ye;do v[c++]=G[g++];while(--ye);g=c-J,m=v}for(;C>2;)v[c++]=m[g++],v[c++]=m[g++],v[c++]=m[g++],C-=3;C&&(v[c++]=m[g++],C>1&&(v[c++]=m[g++]))}else{g=c-J;do v[c++]=v[g++],v[c++]=v[g++],v[c++]=v[g++],C-=3;while(C>2);C&&(v[c++]=v[g++],C>1&&(v[c++]=v[g++]))}break}}break}}while(y<f&&c<A);y-=C=k>>3,le&=(1<<(k-=C<<3))-1,Q.next_in=y,Q.next_out=c,Q.avail_in=y<f?f-y+5:5-(y-f),Q.avail_out=c<A?A-c+257:257-(c-A),w.hold=le,w.bits=k}},7823:function(ge,Q,t){var w=t(9187),y=t(3693),f=t(8464),c=t(9365),j=t(6446),A=-2,R=12,n=30;function Z(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function H(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function G(C){var J;return C&&C.state?(J=C.state,C.total_in=C.total_out=J.total=0,C.msg="",J.wrap&&(C.adler=1&J.wrap),J.mode=1,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new w.Buf32(852),J.distcode=J.distdyn=new w.Buf32(592),J.sane=1,J.back=-1,0):A}function le(C){var J;return C&&C.state?((J=C.state).wsize=0,J.whave=0,J.wnext=0,G(C)):A}function k(C,J){var g,m;return C&&C.state?(m=C.state,J<0?(g=0,J=-J):(g=1+(J>>4),J<48&&(J&=15)),J&&(J<8||J>15)?A:(m.window!==null&&m.wbits!==J&&(m.window=null),m.wrap=g,m.wbits=J,le(C))):A}function se(C,J){var g,m;return C?(m=new H,C.state=m,m.window=null,(g=k(C,J))!==0&&(C.state=null),g):A}var pe,Ee,ae=!0;function de(C){if(ae){var J;for(pe=new w.Buf32(512),Ee=new w.Buf32(32),J=0;J<144;)C.lens[J++]=8;for(;J<256;)C.lens[J++]=9;for(;J<280;)C.lens[J++]=7;for(;J<288;)C.lens[J++]=8;for(j(1,C.lens,0,288,pe,0,C.work,{bits:9}),J=0;J<32;)C.lens[J++]=5;j(2,C.lens,0,32,Ee,0,C.work,{bits:5}),ae=!1}C.lencode=pe,C.lenbits=9,C.distcode=Ee,C.distbits=5}function ye(C,J,g,m){var M,v=C.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new w.Buf8(v.wsize)),m>=v.wsize?(w.arraySet(v.window,J,g-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):((M=v.wsize-v.wnext)>m&&(M=m),w.arraySet(v.window,J,g-m,M,v.wnext),(m-=M)?(w.arraySet(v.window,J,g-m,m,0),v.wnext=m,v.whave=v.wsize):(v.wnext+=M,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=M))),0}Q.inflateReset=le,Q.inflateReset2=k,Q.inflateResetKeep=G,Q.inflateInit=function(C){return se(C,15)},Q.inflateInit2=se,Q.inflate=function(C,J){var g,m,M,v,u,s,o,e,a,i,l,p,T,X,te,N,L,fe,q,F,h,_,W,I,re=0,O=new w.Buf8(4),E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return A;(g=C.state).mode===R&&(g.mode=13),u=C.next_out,M=C.output,o=C.avail_out,v=C.next_in,m=C.input,s=C.avail_in,e=g.hold,a=g.bits,i=s,l=o,_=0;e:for(;;)switch(g.mode){case 1:if(g.wrap===0){g.mode=13;break}for(;a<16;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(2&g.wrap&&e===35615){g.check=0,O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0),e=0,a=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&e)<<8)+(e>>8))%31){C.msg="incorrect header check",g.mode=n;break}if((15&e)!=8){C.msg="unknown compression method",g.mode=n;break}if(a-=4,h=8+(15&(e>>>=4)),g.wbits===0)g.wbits=h;else if(h>g.wbits){C.msg="invalid window size",g.mode=n;break}g.dmax=1<<h,C.adler=g.check=1,g.mode=512&e?10:R,e=0,a=0;break;case 2:for(;a<16;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(g.flags=e,(255&g.flags)!=8){C.msg="unknown compression method",g.mode=n;break}if(57344&g.flags){C.msg="unknown header flags set",g.mode=n;break}g.head&&(g.head.text=e>>8&1),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0)),e=0,a=0,g.mode=3;case 3:for(;a<32;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}g.head&&(g.head.time=e),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,O[2]=e>>>16&255,O[3]=e>>>24&255,g.check=f(g.check,O,4,0)),e=0,a=0,g.mode=4;case 4:for(;a<16;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}g.head&&(g.head.xflags=255&e,g.head.os=e>>8),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0)),e=0,a=0,g.mode=5;case 5:if(1024&g.flags){for(;a<16;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}g.length=e,g.head&&(g.head.extra_len=e),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0)),e=0,a=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&((p=g.length)>s&&(p=s),p&&(g.head&&(h=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),w.arraySet(g.head.extra,m,v,p,h)),512&g.flags&&(g.check=f(g.check,m,p,v)),s-=p,v+=p,g.length-=p),g.length))break e;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(s===0)break e;p=0;do h=m[v+p++],g.head&&h&&g.length<65536&&(g.head.name+=String.fromCharCode(h));while(h&&p<s);if(512&g.flags&&(g.check=f(g.check,m,p,v)),s-=p,v+=p,h)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(s===0)break e;p=0;do h=m[v+p++],g.head&&h&&g.length<65536&&(g.head.comment+=String.fromCharCode(h));while(h&&p<s);if(512&g.flags&&(g.check=f(g.check,m,p,v)),s-=p,v+=p,h)break e}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;a<16;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(e!==(65535&g.check)){C.msg="header crc mismatch",g.mode=n;break}e=0,a=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),C.adler=g.check=0,g.mode=R;break;case 10:for(;a<32;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}C.adler=g.check=Z(e),e=0,a=0,g.mode=11;case 11:if(g.havedict===0)return C.next_out=u,C.avail_out=o,C.next_in=v,C.avail_in=s,g.hold=e,g.bits=a,2;C.adler=g.check=1,g.mode=R;case R:if(J===5||J===6)break e;case 13:if(g.last){e>>>=7&a,a-=7&a,g.mode=27;break}for(;a<3;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}switch(g.last=1&e,a-=1,3&(e>>>=1)){case 0:g.mode=14;break;case 1:if(de(g),g.mode=20,J===6){e>>>=2,a-=2;break e}break;case 2:g.mode=17;break;case 3:C.msg="invalid block type",g.mode=n}e>>>=2,a-=2;break;case 14:for(e>>>=7&a,a-=7&a;a<32;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if((65535&e)!=(e>>>16^65535)){C.msg="invalid stored block lengths",g.mode=n;break}if(g.length=65535&e,e=0,a=0,g.mode=15,J===6)break e;case 15:g.mode=16;case 16:if(p=g.length){if(p>s&&(p=s),p>o&&(p=o),p===0)break e;w.arraySet(M,m,v,p,u),s-=p,v+=p,o-=p,u+=p,g.length-=p;break}g.mode=R;break;case 17:for(;a<14;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(g.nlen=257+(31&e),e>>>=5,a-=5,g.ndist=1+(31&e),e>>>=5,a-=5,g.ncode=4+(15&e),e>>>=4,a-=4,g.nlen>286||g.ndist>30){C.msg="too many length or distance symbols",g.mode=n;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;a<3;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}g.lens[E[g.have++]]=7&e,e>>>=3,a-=3}for(;g.have<19;)g.lens[E[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,W={bits:g.lenbits},_=j(0,g.lens,0,19,g.lencode,0,g.work,W),g.lenbits=W.bits,_){C.msg="invalid code lengths set",g.mode=n;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;N=(re=g.lencode[e&(1<<g.lenbits)-1])>>>16&255,L=65535&re,!((te=re>>>24)<=a);){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(L<16)e>>>=te,a-=te,g.lens[g.have++]=L;else{if(L===16){for(I=te+2;a<I;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(e>>>=te,a-=te,g.have===0){C.msg="invalid bit length repeat",g.mode=n;break}h=g.lens[g.have-1],p=3+(3&e),e>>>=2,a-=2}else if(L===17){for(I=te+3;a<I;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}a-=te,h=0,p=3+(7&(e>>>=te)),e>>>=3,a-=3}else{for(I=te+7;a<I;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}a-=te,h=0,p=11+(127&(e>>>=te)),e>>>=7,a-=7}if(g.have+p>g.nlen+g.ndist){C.msg="invalid bit length repeat",g.mode=n;break}for(;p--;)g.lens[g.have++]=h}}if(g.mode===n)break;if(g.lens[256]===0){C.msg="invalid code -- missing end-of-block",g.mode=n;break}if(g.lenbits=9,W={bits:g.lenbits},_=j(1,g.lens,0,g.nlen,g.lencode,0,g.work,W),g.lenbits=W.bits,_){C.msg="invalid literal/lengths set",g.mode=n;break}if(g.distbits=6,g.distcode=g.distdyn,W={bits:g.distbits},_=j(2,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,W),g.distbits=W.bits,_){C.msg="invalid distances set",g.mode=n;break}if(g.mode=20,J===6)break e;case 20:g.mode=21;case 21:if(s>=6&&o>=258){C.next_out=u,C.avail_out=o,C.next_in=v,C.avail_in=s,g.hold=e,g.bits=a,c(C,l),u=C.next_out,M=C.output,o=C.avail_out,v=C.next_in,m=C.input,s=C.avail_in,e=g.hold,a=g.bits,g.mode===R&&(g.back=-1);break}for(g.back=0;N=(re=g.lencode[e&(1<<g.lenbits)-1])>>>16&255,L=65535&re,!((te=re>>>24)<=a);){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(N&&(240&N)==0){for(fe=te,q=N,F=L;N=(re=g.lencode[F+((e&(1<<fe+q)-1)>>fe)])>>>16&255,L=65535&re,!(fe+(te=re>>>24)<=a);){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}e>>>=fe,a-=fe,g.back+=fe}if(e>>>=te,a-=te,g.back+=te,g.length=L,N===0){g.mode=26;break}if(32&N){g.back=-1,g.mode=R;break}if(64&N){C.msg="invalid literal/length code",g.mode=n;break}g.extra=15&N,g.mode=22;case 22:if(g.extra){for(I=g.extra;a<I;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}g.length+=e&(1<<g.extra)-1,e>>>=g.extra,a-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;N=(re=g.distcode[e&(1<<g.distbits)-1])>>>16&255,L=65535&re,!((te=re>>>24)<=a);){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if((240&N)==0){for(fe=te,q=N,F=L;N=(re=g.distcode[F+((e&(1<<fe+q)-1)>>fe)])>>>16&255,L=65535&re,!(fe+(te=re>>>24)<=a);){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}e>>>=fe,a-=fe,g.back+=fe}if(e>>>=te,a-=te,g.back+=te,64&N){C.msg="invalid distance code",g.mode=n;break}g.offset=L,g.extra=15&N,g.mode=24;case 24:if(g.extra){for(I=g.extra;a<I;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}g.offset+=e&(1<<g.extra)-1,e>>>=g.extra,a-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){C.msg="invalid distance too far back",g.mode=n;break}g.mode=25;case 25:if(o===0)break e;if(p=l-o,g.offset>p){if((p=g.offset-p)>g.whave&&g.sane){C.msg="invalid distance too far back",g.mode=n;break}p>g.wnext?(p-=g.wnext,T=g.wsize-p):T=g.wnext-p,p>g.length&&(p=g.length),X=g.window}else X=M,T=u-g.offset,p=g.length;p>o&&(p=o),o-=p,g.length-=p;do M[u++]=X[T++];while(--p);g.length===0&&(g.mode=21);break;case 26:if(o===0)break e;M[u++]=g.length,o--,g.mode=21;break;case 27:if(g.wrap){for(;a<32;){if(s===0)break e;s--,e|=m[v++]<<a,a+=8}if(l-=o,C.total_out+=l,g.total+=l,l&&(C.adler=g.check=g.flags?f(g.check,M,l,u-l):y(g.check,M,l,u-l)),l=o,(g.flags?e:Z(e))!==g.check){C.msg="incorrect data check",g.mode=n;break}e=0,a=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;a<32;){if(s===0)break e;s--,e+=m[v++]<<a,a+=8}if(e!==(4294967295&g.total)){C.msg="incorrect length check",g.mode=n;break}e=0,a=0}g.mode=29;case 29:_=1;break e;case n:_=-3;break e;case 31:return-4;default:return A}return C.next_out=u,C.avail_out=o,C.next_in=v,C.avail_in=s,g.hold=e,g.bits=a,(g.wsize||l!==C.avail_out&&g.mode<n&&(g.mode<27||J!==4))&&ye(C,C.output,C.next_out,l-C.avail_out)?(g.mode=31,-4):(i-=C.avail_in,l-=C.avail_out,C.total_in+=i,C.total_out+=l,g.total+=l,g.wrap&&l&&(C.adler=g.check=g.flags?f(g.check,M,l,C.next_out-l):y(g.check,M,l,C.next_out-l)),C.data_type=g.bits+(g.last?64:0)+(g.mode===R?128:0)+(g.mode===20||g.mode===15?256:0),(i===0&&l===0||J===4)&&_===0&&(_=-5),_)},Q.inflateEnd=function(C){if(!C||!C.state)return A;var J=C.state;return J.window&&(J.window=null),C.state=null,0},Q.inflateGetHeader=function(C,J){var g;return C&&C.state?(2&(g=C.state).wrap)==0?A:(g.head=J,J.done=!1,0):A},Q.inflateSetDictionary=function(C,J){var g,m=J.length;return C&&C.state?(g=C.state).wrap!==0&&g.mode!==11?A:g.mode===11&&y(1,J,m,0)!==g.check?-3:ye(C,J,m,m)?(g.mode=31,-4):(g.havedict=1,0):A},Q.inflateInfo="pako inflate (from Nodeca project)"},6446:function(ge,Q,t){var w=t(9187),y=15,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ge.exports=function(R,n,Z,H,G,le,k,se){var pe,Ee,ae,de,ye,C,J,g,m,M=se.bits,v=0,u=0,s=0,o=0,e=0,a=0,i=0,l=0,p=0,T=0,X=null,te=0,N=new w.Buf16(16),L=new w.Buf16(16),fe=null,q=0;for(v=0;v<=y;v++)N[v]=0;for(u=0;u<H;u++)N[n[Z+u]]++;for(e=M,o=y;o>=1&&N[o]===0;o--);if(e>o&&(e=o),o===0)return G[le++]=20971520,G[le++]=20971520,se.bits=1,0;for(s=1;s<o&&N[s]===0;s++);for(e<s&&(e=s),l=1,v=1;v<=y;v++)if(l<<=1,(l-=N[v])<0)return-1;if(l>0&&(R===0||o!==1))return-1;for(L[1]=0,v=1;v<y;v++)L[v+1]=L[v]+N[v];for(u=0;u<H;u++)n[Z+u]!==0&&(k[L[n[Z+u]]++]=u);if(R===0?(X=fe=k,C=19):R===1?(X=f,te-=257,fe=c,q-=257,C=256):(X=j,fe=A,C=-1),T=0,u=0,v=s,ye=le,a=e,i=0,ae=-1,de=(p=1<<e)-1,R===1&&p>852||R===2&&p>592)return 1;for(;;){J=v-i,k[u]<C?(g=0,m=k[u]):k[u]>C?(g=fe[q+k[u]],m=X[te+k[u]]):(g=96,m=0),pe=1<<v-i,s=Ee=1<<a;do G[ye+(T>>i)+(Ee-=pe)]=J<<24|g<<16|m|0;while(Ee!==0);for(pe=1<<v-1;T&pe;)pe>>=1;if(pe!==0?(T&=pe-1,T+=pe):T=0,u++,--N[v]==0){if(v===o)break;v=n[Z+k[u]]}if(v>e&&(T&de)!==ae){for(i===0&&(i=e),ye+=s,l=1<<(a=v-i);a+i<o&&!((l-=N[a+i])<=0);)a++,l<<=1;if(p+=1<<a,R===1&&p>852||R===2&&p>592)return 1;G[ae=T&de]=e<<24|a<<16|ye-le|0}}return T!==0&&(G[ye+T]=v-i<<24|4194304|0),se.bits=e,0}},5604:function(ge){ge.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(ge,Q,t){var w=t(9187);function y(L){for(var fe=L.length;--fe>=0;)L[fe]=0}var f=256,c=286,j=30,A=15,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(576);y(G);var le=new Array(60);y(le);var k=new Array(512);y(k);var se=new Array(256);y(se);var pe=new Array(29);y(pe);var Ee,ae,de,ye=new Array(j);function C(L,fe,q,F,h){this.static_tree=L,this.extra_bits=fe,this.extra_base=q,this.elems=F,this.max_length=h,this.has_stree=L&&L.length}function J(L,fe){this.dyn_tree=L,this.max_code=0,this.stat_desc=fe}function g(L){return L<256?k[L]:k[256+(L>>>7)]}function m(L,fe){L.pending_buf[L.pending++]=255&fe,L.pending_buf[L.pending++]=fe>>>8&255}function M(L,fe,q){L.bi_valid>16-q?(L.bi_buf|=fe<<L.bi_valid&65535,m(L,L.bi_buf),L.bi_buf=fe>>16-L.bi_valid,L.bi_valid+=q-16):(L.bi_buf|=fe<<L.bi_valid&65535,L.bi_valid+=q)}function v(L,fe,q){M(L,q[2*fe],q[2*fe+1])}function u(L,fe){var q=0;do q|=1&L,L>>>=1,q<<=1;while(--fe>0);return q>>>1}function s(L,fe,q){var F,h,_=new Array(16),W=0;for(F=1;F<=A;F++)_[F]=W=W+q[F-1]<<1;for(h=0;h<=fe;h++){var I=L[2*h+1];I!==0&&(L[2*h]=u(_[I]++,I))}}function o(L){var fe;for(fe=0;fe<c;fe++)L.dyn_ltree[2*fe]=0;for(fe=0;fe<j;fe++)L.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)L.bl_tree[2*fe]=0;L.dyn_ltree[512]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function e(L){L.bi_valid>8?m(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function a(L,fe,q,F){var h=2*fe,_=2*q;return L[h]<L[_]||L[h]===L[_]&&F[fe]<=F[q]}function i(L,fe,q){for(var F=L.heap[q],h=q<<1;h<=L.heap_len&&(h<L.heap_len&&a(fe,L.heap[h+1],L.heap[h],L.depth)&&h++,!a(fe,F,L.heap[h],L.depth));)L.heap[q]=L.heap[h],q=h,h<<=1;L.heap[q]=F}function l(L,fe,q){var F,h,_,W,I=0;if(L.last_lit!==0)do F=L.pending_buf[L.d_buf+2*I]<<8|L.pending_buf[L.d_buf+2*I+1],h=L.pending_buf[L.l_buf+I],I++,F===0?v(L,h,fe):(v(L,(_=se[h])+f+1,fe),(W=R[_])!==0&&M(L,h-=pe[_],W),v(L,_=g(--F),q),(W=n[_])!==0&&M(L,F-=ye[_],W));while(I<L.last_lit);v(L,256,fe)}function p(L,fe){var q,F,h,_=fe.dyn_tree,W=fe.stat_desc.static_tree,I=fe.stat_desc.has_stree,re=fe.stat_desc.elems,O=-1;for(L.heap_len=0,L.heap_max=573,q=0;q<re;q++)_[2*q]!==0?(L.heap[++L.heap_len]=O=q,L.depth[q]=0):_[2*q+1]=0;for(;L.heap_len<2;)_[2*(h=L.heap[++L.heap_len]=O<2?++O:0)]=1,L.depth[h]=0,L.opt_len--,I&&(L.static_len-=W[2*h+1]);for(fe.max_code=O,q=L.heap_len>>1;q>=1;q--)i(L,_,q);h=re;do q=L.heap[1],L.heap[1]=L.heap[L.heap_len--],i(L,_,1),F=L.heap[1],L.heap[--L.heap_max]=q,L.heap[--L.heap_max]=F,_[2*h]=_[2*q]+_[2*F],L.depth[h]=(L.depth[q]>=L.depth[F]?L.depth[q]:L.depth[F])+1,_[2*q+1]=_[2*F+1]=h,L.heap[1]=h++,i(L,_,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],function(E,b){var d,x,P,U,D,ce,ie=b.dyn_tree,ue=b.max_code,Ce=b.stat_desc.static_tree,Pe=b.stat_desc.has_stree,B=b.stat_desc.extra_bits,Y=b.stat_desc.extra_base,$=b.stat_desc.max_length,xe=0;for(U=0;U<=A;U++)E.bl_count[U]=0;for(ie[2*E.heap[E.heap_max]+1]=0,d=E.heap_max+1;d<573;d++)(U=ie[2*ie[2*(x=E.heap[d])+1]+1]+1)>$&&(U=$,xe++),ie[2*x+1]=U,x>ue||(E.bl_count[U]++,D=0,x>=Y&&(D=B[x-Y]),ce=ie[2*x],E.opt_len+=ce*(U+D),Pe&&(E.static_len+=ce*(Ce[2*x+1]+D)));if(xe!==0){do{for(U=$-1;E.bl_count[U]===0;)U--;E.bl_count[U]--,E.bl_count[U+1]+=2,E.bl_count[$]--,xe-=2}while(xe>0);for(U=$;U!==0;U--)for(x=E.bl_count[U];x!==0;)(P=E.heap[--d])>ue||(ie[2*P+1]!==U&&(E.opt_len+=(U-ie[2*P+1])*ie[2*P],ie[2*P+1]=U),x--)}}(L,fe),s(_,O,L.bl_count)}function T(L,fe,q){var F,h,_=-1,W=fe[1],I=0,re=7,O=4;for(W===0&&(re=138,O=3),fe[2*(q+1)+1]=65535,F=0;F<=q;F++)h=W,W=fe[2*(F+1)+1],++I<re&&h===W||(I<O?L.bl_tree[2*h]+=I:h!==0?(h!==_&&L.bl_tree[2*h]++,L.bl_tree[32]++):I<=10?L.bl_tree[34]++:L.bl_tree[36]++,I=0,_=h,W===0?(re=138,O=3):h===W?(re=6,O=3):(re=7,O=4))}function X(L,fe,q){var F,h,_=-1,W=fe[1],I=0,re=7,O=4;for(W===0&&(re=138,O=3),F=0;F<=q;F++)if(h=W,W=fe[2*(F+1)+1],!(++I<re&&h===W)){if(I<O)do v(L,h,L.bl_tree);while(--I!=0);else h!==0?(h!==_&&(v(L,h,L.bl_tree),I--),v(L,16,L.bl_tree),M(L,I-3,2)):I<=10?(v(L,17,L.bl_tree),M(L,I-3,3)):(v(L,18,L.bl_tree),M(L,I-11,7));I=0,_=h,W===0?(re=138,O=3):h===W?(re=6,O=3):(re=7,O=4)}}y(ye);var te=!1;function N(L,fe,q,F){M(L,0+(F?1:0),3),function(h,_,W,I){e(h),I&&(m(h,W),m(h,~W)),w.arraySet(h.pending_buf,h.window,_,W,h.pending),h.pending+=W}(L,fe,q,!0)}Q._tr_init=function(L){te||(function(){var fe,q,F,h,_,W=new Array(16);for(F=0,h=0;h<28;h++)for(pe[h]=F,fe=0;fe<1<<R[h];fe++)se[F++]=h;for(se[F-1]=h,_=0,h=0;h<16;h++)for(ye[h]=_,fe=0;fe<1<<n[h];fe++)k[_++]=h;for(_>>=7;h<j;h++)for(ye[h]=_<<7,fe=0;fe<1<<n[h]-7;fe++)k[256+_++]=h;for(q=0;q<=A;q++)W[q]=0;for(fe=0;fe<=143;)G[2*fe+1]=8,fe++,W[8]++;for(;fe<=255;)G[2*fe+1]=9,fe++,W[9]++;for(;fe<=279;)G[2*fe+1]=7,fe++,W[7]++;for(;fe<=287;)G[2*fe+1]=8,fe++,W[8]++;for(s(G,287,W),fe=0;fe<j;fe++)le[2*fe+1]=5,le[2*fe]=u(fe,5);Ee=new C(G,R,257,c,A),ae=new C(le,n,0,j,A),de=new C(new Array(0),Z,0,19,7)}(),te=!0),L.l_desc=new J(L.dyn_ltree,Ee),L.d_desc=new J(L.dyn_dtree,ae),L.bl_desc=new J(L.bl_tree,de),L.bi_buf=0,L.bi_valid=0,o(L)},Q._tr_stored_block=N,Q._tr_flush_block=function(L,fe,q,F){var h,_,W=0;L.level>0?(L.strm.data_type===2&&(L.strm.data_type=function(I){var re,O=4093624447;for(re=0;re<=31;re++,O>>>=1)if(1&O&&I.dyn_ltree[2*re]!==0)return 0;if(I.dyn_ltree[18]!==0||I.dyn_ltree[20]!==0||I.dyn_ltree[26]!==0)return 1;for(re=32;re<f;re++)if(I.dyn_ltree[2*re]!==0)return 1;return 0}(L)),p(L,L.l_desc),p(L,L.d_desc),W=function(I){var re;for(T(I,I.dyn_ltree,I.l_desc.max_code),T(I,I.dyn_dtree,I.d_desc.max_code),p(I,I.bl_desc),re=18;re>=3&&I.bl_tree[2*H[re]+1]===0;re--);return I.opt_len+=3*(re+1)+5+5+4,re}(L),h=L.opt_len+3+7>>>3,(_=L.static_len+3+7>>>3)<=h&&(h=_)):h=_=q+5,q+4<=h&&fe!==-1?N(L,fe,q,F):L.strategy===4||_===h?(M(L,2+(F?1:0),3),l(L,G,le)):(M(L,4+(F?1:0),3),function(I,re,O,E){var b;for(M(I,re-257,5),M(I,O-1,5),M(I,E-4,4),b=0;b<E;b++)M(I,I.bl_tree[2*H[b]+1],3);X(I,I.dyn_ltree,re-1),X(I,I.dyn_dtree,O-1)}(L,L.l_desc.max_code+1,L.d_desc.max_code+1,W+1),l(L,L.dyn_ltree,L.dyn_dtree)),o(L),F&&e(L)},Q._tr_tally=function(L,fe,q){return L.pending_buf[L.d_buf+2*L.last_lit]=fe>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&fe,L.pending_buf[L.l_buf+L.last_lit]=255&q,L.last_lit++,fe===0?L.dyn_ltree[2*q]++:(L.matches++,fe--,L.dyn_ltree[2*(se[q]+f+1)]++,L.dyn_dtree[2*g(fe)]++),L.last_lit===L.lit_bufsize-1},Q._tr_align=function(L){M(L,2,3),v(L,256,G),function(fe){fe.bi_valid===16?(m(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):fe.bi_valid>=8&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(L)}},249:function(ge){ge.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(ge){ge.exports=function(Q){Q.data&&Q.name&&(Q=Q.data);for(var t=!0,w="",y="",f=0;f<Q.length;f++){var c=Q[f];if(t)c?y+=String.fromCharCode(c):t=!1;else{if(!c)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");w+=String.fromCharCode(c)}}return{keyword:y,text:w}}},9686:function(ge){ge.exports=function(Q,t){if(Q=String(Q),t=String(t),!/^[\x00-\xFF]+$/.test(Q)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(Q.length>=80)throw new Error('Keyword "'+Q+'" is longer than the 79-character limit imposed by the PNG specification');for(var w,y=Q.length+t.length+1,f=new Uint8Array(y),c=0,j=0;j<Q.length;j++){if(!(w=Q.charCodeAt(j)))throw new Error("0x00 character is not permitted in tEXt keywords");f[c++]=w}f[c++]=0;for(var A=0;A<t.length;A++){if(!(w=t.charCodeAt(A)))throw new Error("0x00 character is not permitted in tEXt content");f[c++]=w}return{name:"tEXt",data:f}}},1194:function(ge,Q,t){Q.encode=t(9686),Q.decode=t(9066)},3434:function(ge,Q,t){var w=t(5714),y=t(6233);ge.exports=function(A){var R,n=8,Z=n;for(R=0;R<A.length;R++)n+=A[R].data.length,n+=12;var H=new Uint8Array(n);for(H[0]=137,H[1]=80,H[2]=78,H[3]=71,H[4]=13,H[5]=10,H[6]=26,H[7]=10,R=0;R<A.length;R++){var G=A[R],le=G.name,k=G.data,se=k.length,pe=[le.charCodeAt(0),le.charCodeAt(1),le.charCodeAt(2),le.charCodeAt(3)];j[0]=se,H[Z++]=f[3],H[Z++]=f[2],H[Z++]=f[1],H[Z++]=f[0],H[Z++]=pe[0],H[Z++]=pe[1],H[Z++]=pe[2],H[Z++]=pe[3];for(var Ee=0;Ee<se;)H[Z++]=k[Ee++];var ae=pe.concat(w(k)),de=y.buf(ae);c[0]=de,H[Z++]=f[3],H[Z++]=f[2],H[Z++]=f[1],H[Z++]=f[0]}return H};var f=new Uint8Array(4),c=new Int32Array(f.buffer),j=new Uint32Array(f.buffer)},2983:function(ge,Q,t){var w=t(6233);ge.exports=function(j){if(j[0]!==137)throw new Error("Invalid .png file header");if(j[1]!==80)throw new Error("Invalid .png file header");if(j[2]!==78)throw new Error("Invalid .png file header");if(j[3]!==71)throw new Error("Invalid .png file header");if(j[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(j[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(j[6]!==26)throw new Error("Invalid .png file header");if(j[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var A=!1,R=[],n=8;n<j.length;){y[3]=j[n++],y[2]=j[n++],y[1]=j[n++],y[0]=j[n++];var Z=c[0]+4,H=new Uint8Array(Z);H[0]=j[n++],H[1]=j[n++],H[2]=j[n++],H[3]=j[n++];var G=String.fromCharCode(H[0])+String.fromCharCode(H[1])+String.fromCharCode(H[2])+String.fromCharCode(H[3]);if(!R.length&&G!=="IHDR")throw new Error("IHDR header missing");if(G==="IEND"){A=!0,R.push({name:G,data:new Uint8Array(0)});break}for(var le=4;le<Z;le++)H[le]=j[n++];y[3]=j[n++],y[2]=j[n++],y[1]=j[n++],y[0]=j[n++];var k=f[0];if(w.buf(H)!==k)throw new Error("CRC values for "+G+" header do not match, PNG file is likely corrupted");var se=new Uint8Array(H.buffer.slice(4));R.push({name:G,data:se})}if(!A)throw new Error(".png file ended prematurely: no IEND header was found");return R};var y=new Uint8Array(4),f=new Int32Array(y.buffer),c=new Uint32Array(y.buffer)},1493:function(ge,Q,t){function w(n,Z){return Math.pow(n[0]-Z[0],2)+Math.pow(n[1]-Z[1],2)}function y(n,Z,H){const G=w(Z,H);if(G===0)return w(n,Z);let le=((n[0]-Z[0])*(H[0]-Z[0])+(n[1]-Z[1])*(H[1]-Z[1]))/G;return le=Math.max(0,Math.min(1,le)),w(n,f(Z,H,le))}function f(n,Z,H){return[n[0]+(Z[0]-n[0])*H,n[1]+(Z[1]-n[1])*H]}function c(n,Z,H,G){const le=G||[];if(function(pe,Ee){const ae=pe[Ee+0],de=pe[Ee+1],ye=pe[Ee+2],C=pe[Ee+3];let J=3*de[0]-2*ae[0]-C[0];J*=J;let g=3*de[1]-2*ae[1]-C[1];g*=g;let m=3*ye[0]-2*C[0]-ae[0];m*=m;let M=3*ye[1]-2*C[1]-ae[1];return M*=M,J<m&&(J=m),g<M&&(g=M),J+g}(n,Z)<H){const pe=n[Z+0];le.length?(k=le[le.length-1],se=pe,Math.sqrt(w(k,se))>1&&le.push(pe)):le.push(pe),le.push(n[Z+3])}else{const Ee=n[Z+0],ae=n[Z+1],de=n[Z+2],ye=n[Z+3],C=f(Ee,ae,.5),J=f(ae,de,.5),g=f(de,ye,.5),m=f(C,J,.5),M=f(J,g,.5),v=f(m,M,.5);c([Ee,C,m,v],0,H,le),c([v,M,g,ye],0,H,le)}var k,se;return le}function j(n,Z){return A(n,0,n.length,Z)}function A(n,Z,H,G,le){const k=le||[],se=n[Z],pe=n[H-1];let Ee=0,ae=1;for(let de=Z+1;de<H-1;++de){const ye=y(n[de],se,pe);ye>Ee&&(Ee=ye,ae=de)}return Math.sqrt(Ee)>G?(A(n,Z,ae+1,G,k),A(n,ae,H,G,k)):(k.length||k.push(se),k.push(pe)),k}function R(n,Z=.15,H){const G=[],le=(n.length-1)/3;for(let k=0;k<le;k++)c(n,3*k,Z,G);return H&&H>0?A(G,0,G.length,H):G}t.d(Q,{o:function(){return j},s:function(){return R}})},6094:function(ge,Q,t){var w=t(9787),y=Symbol.for("react.element"),f=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,j=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function R(n,Z,H){var G,le={},k=null,se=null;for(G in H!==void 0&&(k=""+H),Z.key!==void 0&&(k=""+Z.key),Z.ref!==void 0&&(se=Z.ref),Z)c.call(Z,G)&&!A.hasOwnProperty(G)&&(le[G]=Z[G]);if(n&&n.defaultProps)for(G in Z=n.defaultProps)le[G]===void 0&&(le[G]=Z[G]);return{$$typeof:y,type:n,key:k,ref:se,props:le,_owner:j.current}}Q.Fragment=f,Q.jsx=R,Q.jsxs=R},4512:function(ge,Q,t){ge.exports=t(6094)},8152:function(ge,Q,t){function w(){return Math.floor(Math.random()*2147483648)}t.d(Q,{W:function(){return w},k:function(){return y}});class y{constructor(c){this.seed=c}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(ge,Q,t){function w(O,E,b){if(O&&O.length){const[d,x]=E,P=Math.PI/180*b,U=Math.cos(P),D=Math.sin(P);O.forEach(ce=>{const[ie,ue]=ce;ce[0]=(ie-d)*U-(ue-x)*D+d,ce[1]=(ie-d)*D+(ue-x)*U+x})}}function y(O){const E=O[0],b=O[1];return Math.sqrt(Math.pow(E[0]-b[0],2)+Math.pow(E[1]-b[1],2))}function f(O,E){const b=E.hachureAngle+90;let d=E.hachureGap;d<0&&(d=4*E.strokeWidth),d=Math.max(d,.1);const x=[0,0];if(b)for(const U of O)w(U,x,b);const P=function(U,D){const ce=[];for(const B of U){const Y=[...B];Y[0].join(",")!==Y[Y.length-1].join(",")&&Y.push([Y[0][0],Y[0][1]]),Y.length>2&&ce.push(Y)}const ie=[];D=Math.max(D,.1);const ue=[];for(const B of ce)for(let Y=0;Y<B.length-1;Y++){const $=B[Y],xe=B[Y+1];if($[1]!==xe[1]){const Oe=Math.min($[1],xe[1]);ue.push({ymin:Oe,ymax:Math.max($[1],xe[1]),x:Oe===$[1]?$[0]:xe[0],islope:(xe[0]-$[0])/(xe[1]-$[1])})}}if(ue.sort((B,Y)=>B.ymin<Y.ymin?-1:B.ymin>Y.ymin?1:B.x<Y.x?-1:B.x>Y.x?1:B.ymax===Y.ymax?0:(B.ymax-Y.ymax)/Math.abs(B.ymax-Y.ymax)),!ue.length)return ie;let Ce=[],Pe=ue[0].ymin;for(;Ce.length||ue.length;){if(ue.length){let B=-1;for(let Y=0;Y<ue.length&&!(ue[Y].ymin>Pe);Y++)B=Y;ue.splice(0,B+1).forEach(Y=>{Ce.push({s:Pe,edge:Y})})}if(Ce=Ce.filter(B=>!(B.edge.ymax<=Pe)),Ce.sort((B,Y)=>B.edge.x===Y.edge.x?0:(B.edge.x-Y.edge.x)/Math.abs(B.edge.x-Y.edge.x)),Ce.length>1)for(let B=0;B<Ce.length;B+=2){const Y=B+1;if(Y>=Ce.length)break;const $=Ce[B].edge,xe=Ce[Y].edge;ie.push([[Math.round($.x),Pe],[Math.round(xe.x),Pe]])}Pe+=D,Ce.forEach(B=>{B.edge.x=B.edge.x+D*B.edge.islope})}return ie}(O,d);if(b){for(const U of O)w(U,x,-b);(function(U,D,ce){const ie=[];U.forEach(ue=>ie.push(...ue)),w(ie,D,ce)})(P,x,-b)}return P}t.d(Q,{Z:function(){return re}});class c{constructor(E){this.helper=E}fillPolygons(E,b){return this._fillPolygons(E,b)}_fillPolygons(E,b){const d=f(E,b);return{type:"fillSketch",ops:this.renderLines(d,b)}}renderLines(E,b){const d=[];for(const x of E)d.push(...this.helper.doubleLineOps(x[0][0],x[0][1],x[1][0],x[1][1],b));return d}}class j extends c{fillPolygons(E,b){let d=b.hachureGap;d<0&&(d=4*b.strokeWidth),d=Math.max(d,.1);const x=f(E,Object.assign({},b,{hachureGap:d})),P=Math.PI/180*b.hachureAngle,U=[],D=.5*d*Math.cos(P),ce=.5*d*Math.sin(P);for(const[ie,ue]of x)y([ie,ue])&&U.push([[ie[0]-D,ie[1]+ce],[...ue]],[[ie[0]+D,ie[1]-ce],[...ue]]);return{type:"fillSketch",ops:this.renderLines(U,b)}}}class A extends c{fillPolygons(E,b){const d=this._fillPolygons(E,b),x=Object.assign({},b,{hachureAngle:b.hachureAngle+90}),P=this._fillPolygons(E,x);return d.ops=d.ops.concat(P.ops),d}}class R{constructor(E){this.helper=E}fillPolygons(E,b){const d=f(E,b=Object.assign({},b,{hachureAngle:0}));return this.dotsOnLines(d,b)}dotsOnLines(E,b){const d=[];let x=b.hachureGap;x<0&&(x=4*b.strokeWidth),x=Math.max(x,.1);let P=b.fillWeight;P<0&&(P=b.strokeWidth/2);const U=x/4;for(const D of E){const ce=y(D),ie=ce/x,ue=Math.ceil(ie)-1,Ce=ce-ue*x,Pe=(D[0][0]+D[1][0])/2-x/4,B=Math.min(D[0][1],D[1][1]);for(let Y=0;Y<ue;Y++){const $=B+Ce+Y*x,xe=Pe-U+2*Math.random()*U,Oe=$-U+2*Math.random()*U,Ze=this.helper.ellipse(xe,Oe,P,P,b);d.push(...Ze.ops)}}return{type:"fillSketch",ops:d}}}class n{constructor(E){this.helper=E}fillPolygons(E,b){const d=f(E,b);return{type:"fillSketch",ops:this.dashedLine(d,b)}}dashedLine(E,b){const d=b.dashOffset<0?b.hachureGap<0?4*b.strokeWidth:b.hachureGap:b.dashOffset,x=b.dashGap<0?b.hachureGap<0?4*b.strokeWidth:b.hachureGap:b.dashGap,P=[];return E.forEach(U=>{const D=y(U),ce=Math.floor(D/(d+x)),ie=(D+x-ce*(d+x))/2;let ue=U[0],Ce=U[1];ue[0]>Ce[0]&&(ue=U[1],Ce=U[0]);const Pe=Math.atan((Ce[1]-ue[1])/(Ce[0]-ue[0]));for(let B=0;B<ce;B++){const Y=B*(d+x),$=Y+d,xe=[ue[0]+Y*Math.cos(Pe)+ie*Math.cos(Pe),ue[1]+Y*Math.sin(Pe)+ie*Math.sin(Pe)],Oe=[ue[0]+$*Math.cos(Pe)+ie*Math.cos(Pe),ue[1]+$*Math.sin(Pe)+ie*Math.sin(Pe)];P.push(...this.helper.doubleLineOps(xe[0],xe[1],Oe[0],Oe[1],b))}}),P}}class Z{constructor(E){this.helper=E}fillPolygons(E,b){const d=b.hachureGap<0?4*b.strokeWidth:b.hachureGap,x=b.zigzagOffset<0?d:b.zigzagOffset,P=f(E,b=Object.assign({},b,{hachureGap:d+x}));return{type:"fillSketch",ops:this.zigzagLines(P,x,b)}}zigzagLines(E,b,d){const x=[];return E.forEach(P=>{const U=y(P),D=Math.round(U/(2*b));let ce=P[0],ie=P[1];ce[0]>ie[0]&&(ce=P[1],ie=P[0]);const ue=Math.atan((ie[1]-ce[1])/(ie[0]-ce[0]));for(let Ce=0;Ce<D;Ce++){const Pe=2*Ce*b,B=2*(Ce+1)*b,Y=Math.sqrt(2*Math.pow(b,2)),$=[ce[0]+Pe*Math.cos(ue),ce[1]+Pe*Math.sin(ue)],xe=[ce[0]+B*Math.cos(ue),ce[1]+B*Math.sin(ue)],Oe=[$[0]+Y*Math.cos(ue+Math.PI/4),$[1]+Y*Math.sin(ue+Math.PI/4)];x.push(...this.helper.doubleLineOps($[0],$[1],Oe[0],Oe[1],d),...this.helper.doubleLineOps(Oe[0],Oe[1],xe[0],xe[1],d))}}),x}}const H={};var G=t(8152);const le={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(O,E){return O.type===E}function se(O){const E=[],b=function(U){const D=new Array;for(;U!=="";)if(U.match(/^([ \t\r\n,]+)/))U=U.substr(RegExp.$1.length);else if(U.match(/^([aAcChHlLmMqQsStTvVzZ])/))D[D.length]={type:0,text:RegExp.$1},U=U.substr(RegExp.$1.length);else{if(!U.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];D[D.length]={type:1,text:`${parseFloat(RegExp.$1)}`},U=U.substr(RegExp.$1.length)}return D[D.length]={type:2,text:""},D}(O);let d="BOD",x=0,P=b[x];for(;!k(P,2);){let U=0;const D=[];if(d==="BOD"){if(P.text!=="M"&&P.text!=="m")return se("M0,0"+O);x++,U=le[P.text],d=P.text}else k(P,1)?U=le[d]:(x++,U=le[P.text],d=P.text);if(!(x+U<b.length))throw new Error("Path data ended short");for(let ce=x;ce<x+U;ce++){const ie=b[ce];if(!k(ie,1))throw new Error("Param not a number: "+d+","+ie.text);D[D.length]=+ie.text}if(typeof le[d]!="number")throw new Error("Bad segment: "+d);{const ce={key:d,data:D};E.push(ce),x+=U,P=b[x],d==="M"&&(d="L"),d==="m"&&(d="l")}}return E}function pe(O){let E=0,b=0,d=0,x=0;const P=[];for(const{key:U,data:D}of O)switch(U){case"M":P.push({key:"M",data:[...D]}),[E,b]=D,[d,x]=D;break;case"m":E+=D[0],b+=D[1],P.push({key:"M",data:[E,b]}),d=E,x=b;break;case"L":P.push({key:"L",data:[...D]}),[E,b]=D;break;case"l":E+=D[0],b+=D[1],P.push({key:"L",data:[E,b]});break;case"C":P.push({key:"C",data:[...D]}),E=D[4],b=D[5];break;case"c":{const ce=D.map((ie,ue)=>ue%2?ie+b:ie+E);P.push({key:"C",data:ce}),E=ce[4],b=ce[5];break}case"Q":P.push({key:"Q",data:[...D]}),E=D[2],b=D[3];break;case"q":{const ce=D.map((ie,ue)=>ue%2?ie+b:ie+E);P.push({key:"Q",data:ce}),E=ce[2],b=ce[3];break}case"A":P.push({key:"A",data:[...D]}),E=D[5],b=D[6];break;case"a":E+=D[5],b+=D[6],P.push({key:"A",data:[D[0],D[1],D[2],D[3],D[4],E,b]});break;case"H":P.push({key:"H",data:[...D]}),E=D[0];break;case"h":E+=D[0],P.push({key:"H",data:[E]});break;case"V":P.push({key:"V",data:[...D]}),b=D[0];break;case"v":b+=D[0],P.push({key:"V",data:[b]});break;case"S":P.push({key:"S",data:[...D]}),E=D[2],b=D[3];break;case"s":{const ce=D.map((ie,ue)=>ue%2?ie+b:ie+E);P.push({key:"S",data:ce}),E=ce[2],b=ce[3];break}case"T":P.push({key:"T",data:[...D]}),E=D[0],b=D[1];break;case"t":E+=D[0],b+=D[1],P.push({key:"T",data:[E,b]});break;case"Z":case"z":P.push({key:"Z",data:[]}),E=d,b=x}return P}function Ee(O){const E=[];let b="",d=0,x=0,P=0,U=0,D=0,ce=0;for(const{key:ie,data:ue}of O){switch(ie){case"M":E.push({key:"M",data:[...ue]}),[d,x]=ue,[P,U]=ue;break;case"C":E.push({key:"C",data:[...ue]}),d=ue[4],x=ue[5],D=ue[2],ce=ue[3];break;case"L":E.push({key:"L",data:[...ue]}),[d,x]=ue;break;case"H":d=ue[0],E.push({key:"L",data:[d,x]});break;case"V":x=ue[0],E.push({key:"L",data:[d,x]});break;case"S":{let Ce=0,Pe=0;b==="C"||b==="S"?(Ce=d+(d-D),Pe=x+(x-ce)):(Ce=d,Pe=x),E.push({key:"C",data:[Ce,Pe,...ue]}),D=ue[0],ce=ue[1],d=ue[2],x=ue[3];break}case"T":{const[Ce,Pe]=ue;let B=0,Y=0;b==="Q"||b==="T"?(B=d+(d-D),Y=x+(x-ce)):(B=d,Y=x);const $=d+2*(B-d)/3,xe=x+2*(Y-x)/3,Oe=Ce+2*(B-Ce)/3,Ze=Pe+2*(Y-Pe)/3;E.push({key:"C",data:[$,xe,Oe,Ze,Ce,Pe]}),D=B,ce=Y,d=Ce,x=Pe;break}case"Q":{const[Ce,Pe,B,Y]=ue,$=d+2*(Ce-d)/3,xe=x+2*(Pe-x)/3,Oe=B+2*(Ce-B)/3,Ze=Y+2*(Pe-Y)/3;E.push({key:"C",data:[$,xe,Oe,Ze,B,Y]}),D=Ce,ce=Pe,d=B,x=Y;break}case"A":{const Ce=Math.abs(ue[0]),Pe=Math.abs(ue[1]),B=ue[2],Y=ue[3],$=ue[4],xe=ue[5],Oe=ue[6];Ce===0||Pe===0?(E.push({key:"C",data:[d,x,xe,Oe,xe,Oe]}),d=xe,x=Oe):(d!==xe||x!==Oe)&&(de(d,x,xe,Oe,Ce,Pe,B,Y,$).forEach(function(Ze){E.push({key:"C",data:Ze})}),d=xe,x=Oe);break}case"Z":E.push({key:"Z",data:[]}),d=P,x=U}b=ie}return E}function ae(O,E,b){return[O*Math.cos(b)-E*Math.sin(b),O*Math.sin(b)+E*Math.cos(b)]}function de(O,E,b,d,x,P,U,D,ce,ie){const ue=(Ce=U,Math.PI*Ce/180);var Ce;let Pe=[],B=0,Y=0,$=0,xe=0;if(ie)[B,Y,$,xe]=ie;else{[O,E]=ae(O,E,-ue),[b,d]=ae(b,d,-ue);const Te=(O-b)/2,ze=(E-d)/2;let We=Te*Te/(x*x)+ze*ze/(P*P);We>1&&(We=Math.sqrt(We),x*=We,P*=We);const He=x*x,Ye=P*P,et=He*Ye-He*ze*ze-Ye*Te*Te,at=He*ze*ze+Ye*Te*Te,$e=(D===ce?-1:1)*Math.sqrt(Math.abs(et/at));$=$e*x*ze/P+(O+b)/2,xe=$e*-P*Te/x+(E+d)/2,B=Math.asin(parseFloat(((E-xe)/P).toFixed(9))),Y=Math.asin(parseFloat(((d-xe)/P).toFixed(9))),O<$&&(B=Math.PI-B),b<$&&(Y=Math.PI-Y),B<0&&(B=2*Math.PI+B),Y<0&&(Y=2*Math.PI+Y),ce&&B>Y&&(B-=2*Math.PI),!ce&&Y>B&&(Y-=2*Math.PI)}let Oe=Y-B;if(Math.abs(Oe)>120*Math.PI/180){const Te=Y,ze=b,We=d;Y=ce&&Y>B?B+120*Math.PI/180*1:B+120*Math.PI/180*-1,Pe=de(b=$+x*Math.cos(Y),d=xe+P*Math.sin(Y),ze,We,x,P,U,0,ce,[Y,Te,$,xe])}Oe=Y-B;const Ze=Math.cos(B),Fe=Math.sin(B),Je=Math.cos(Y),Ke=Math.sin(Y),Be=Math.tan(Oe/4),Le=4/3*x*Be,ne=4/3*P*Be,me=[O,E],ve=[O+Le*Fe,E-ne*Ze],we=[b+Le*Ke,d-ne*Je],Ie=[b,d];if(ve[0]=2*me[0]-ve[0],ve[1]=2*me[1]-ve[1],ie)return[ve,we,Ie].concat(Pe);{Pe=[ve,we,Ie].concat(Pe);const Te=[];for(let ze=0;ze<Pe.length;ze+=3){const We=ae(Pe[ze][0],Pe[ze][1],ue),He=ae(Pe[ze+1][0],Pe[ze+1][1],ue),Ye=ae(Pe[ze+2][0],Pe[ze+2][1],ue);Te.push([We[0],We[1],He[0],He[1],Ye[0],Ye[1]])}return Te}}const ye={randOffset:function(O,E){return i(O,E)},randOffsetWithRange:function(O,E,b){return a(O,E,b)},ellipse:function(O,E,b,d,x){const P=M(b,d,x);return v(O,E,x,P).opset},doubleLineOps:function(O,E,b,d,x){return l(O,E,b,d,x,!0)}};function C(O,E,b,d,x){return{type:"path",ops:l(O,E,b,d,x)}}function J(O,E,b){const d=(O||[]).length;if(d>2){const x=[];for(let P=0;P<d-1;P++)x.push(...l(O[P][0],O[P][1],O[P+1][0],O[P+1][1],b));return E&&x.push(...l(O[d-1][0],O[d-1][1],O[0][0],O[0][1],b)),{type:"path",ops:x}}return d===2?C(O[0][0],O[0][1],O[1][0],O[1][1],b):{type:"path",ops:[]}}function g(O,E,b,d,x){return function(P,U){return J(P,!0,U)}([[O,E],[O+b,E],[O+b,E+d],[O,E+d]],x)}function m(O,E){let b=T(O,1*(1+.2*E.roughness),E);if(!E.disableMultiStroke){const d=T(O,1.5*(1+.22*E.roughness),function(x){const P=Object.assign({},x);return P.randomizer=void 0,x.seed&&(P.seed=x.seed+1),P}(E));b=b.concat(d)}return{type:"path",ops:b}}function M(O,E,b){const d=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(O/2,2)+Math.pow(E/2,2))/2)),x=Math.ceil(Math.max(b.curveStepCount,b.curveStepCount/Math.sqrt(200)*d)),P=2*Math.PI/x;let U=Math.abs(O/2),D=Math.abs(E/2);const ce=1-b.curveFitting;return U+=i(U*ce,b),D+=i(D*ce,b),{increment:P,rx:U,ry:D}}function v(O,E,b,d){const[x,P]=te(d.increment,O,E,d.rx,d.ry,1,d.increment*a(.1,a(.4,1,b),b),b);let U=X(x,null,b);if(!b.disableMultiStroke&&b.roughness!==0){const[D]=te(d.increment,O,E,d.rx,d.ry,1.5,0,b),ce=X(D,null,b);U=U.concat(ce)}return{estimatedPoints:P,opset:{type:"path",ops:U}}}function u(O,E,b,d,x,P,U,D,ce){const ie=O,ue=E;let Ce=Math.abs(b/2),Pe=Math.abs(d/2);Ce+=i(.01*Ce,ce),Pe+=i(.01*Pe,ce);let B=x,Y=P;for(;B<0;)B+=2*Math.PI,Y+=2*Math.PI;Y-B>2*Math.PI&&(B=0,Y=2*Math.PI);const $=2*Math.PI/ce.curveStepCount,xe=Math.min($/2,(Y-B)/2),Oe=N(xe,ie,ue,Ce,Pe,B,Y,1,ce);if(!ce.disableMultiStroke){const Ze=N(xe,ie,ue,Ce,Pe,B,Y,1.5,ce);Oe.push(...Ze)}return U&&(D?Oe.push(...l(ie,ue,ie+Ce*Math.cos(B),ue+Pe*Math.sin(B),ce),...l(ie,ue,ie+Ce*Math.cos(Y),ue+Pe*Math.sin(Y),ce)):Oe.push({op:"lineTo",data:[ie,ue]},{op:"lineTo",data:[ie+Ce*Math.cos(B),ue+Pe*Math.sin(B)]})),{type:"path",ops:Oe}}function s(O,E){const b=[];for(const d of O)if(d.length){const x=E.maxRandomnessOffset||0,P=d.length;if(P>2){b.push({op:"move",data:[d[0][0]+i(x,E),d[0][1]+i(x,E)]});for(let U=1;U<P;U++)b.push({op:"lineTo",data:[d[U][0]+i(x,E),d[U][1]+i(x,E)]})}}return{type:"fillPath",ops:b}}function o(O,E){return function(b,d){let x=b.fillStyle||"hachure";if(!H[x])switch(x){case"zigzag":H[x]||(H[x]=new j(d));break;case"cross-hatch":H[x]||(H[x]=new A(d));break;case"dots":H[x]||(H[x]=new R(d));break;case"dashed":H[x]||(H[x]=new n(d));break;case"zigzag-line":H[x]||(H[x]=new Z(d));break;default:x="hachure",H[x]||(H[x]=new c(d))}return H[x]}(E,ye).fillPolygons(O,E)}function e(O){return O.randomizer||(O.randomizer=new G.k(O.seed||0)),O.randomizer.next()}function a(O,E,b,d=1){return b.roughness*d*(e(b)*(E-O)+O)}function i(O,E,b=1){return a(-O,O,E,b)}function l(O,E,b,d,x,P=!1){const U=P?x.disableMultiStrokeFill:x.disableMultiStroke,D=p(O,E,b,d,x,!0,!1);if(U)return D;const ce=p(O,E,b,d,x,!0,!0);return D.concat(ce)}function p(O,E,b,d,x,P,U){const D=Math.pow(O-b,2)+Math.pow(E-d,2),ce=Math.sqrt(D);let ie=1;ie=ce<200?1:ce>500?.4:-.0016668*ce+1.233334;let ue=x.maxRandomnessOffset||0;ue*ue*100>D&&(ue=ce/10);const Ce=ue/2,Pe=.2+.2*e(x);let B=x.bowing*x.maxRandomnessOffset*(d-E)/200,Y=x.bowing*x.maxRandomnessOffset*(O-b)/200;B=i(B,x,ie),Y=i(Y,x,ie);const $=[],xe=()=>i(Ce,x,ie),Oe=()=>i(ue,x,ie),Ze=x.preserveVertices;return P&&(U?$.push({op:"move",data:[O+(Ze?0:xe()),E+(Ze?0:xe())]}):$.push({op:"move",data:[O+(Ze?0:i(ue,x,ie)),E+(Ze?0:i(ue,x,ie))]})),U?$.push({op:"bcurveTo",data:[B+O+(b-O)*Pe+xe(),Y+E+(d-E)*Pe+xe(),B+O+2*(b-O)*Pe+xe(),Y+E+2*(d-E)*Pe+xe(),b+(Ze?0:xe()),d+(Ze?0:xe())]}):$.push({op:"bcurveTo",data:[B+O+(b-O)*Pe+Oe(),Y+E+(d-E)*Pe+Oe(),B+O+2*(b-O)*Pe+Oe(),Y+E+2*(d-E)*Pe+Oe(),b+(Ze?0:Oe()),d+(Ze?0:Oe())]}),$}function T(O,E,b){const d=[];d.push([O[0][0]+i(E,b),O[0][1]+i(E,b)]),d.push([O[0][0]+i(E,b),O[0][1]+i(E,b)]);for(let x=1;x<O.length;x++)d.push([O[x][0]+i(E,b),O[x][1]+i(E,b)]),x===O.length-1&&d.push([O[x][0]+i(E,b),O[x][1]+i(E,b)]);return X(d,null,b)}function X(O,E,b){const d=O.length,x=[];if(d>3){const P=[],U=1-b.curveTightness;x.push({op:"move",data:[O[1][0],O[1][1]]});for(let D=1;D+2<d;D++){const ce=O[D];P[0]=[ce[0],ce[1]],P[1]=[ce[0]+(U*O[D+1][0]-U*O[D-1][0])/6,ce[1]+(U*O[D+1][1]-U*O[D-1][1])/6],P[2]=[O[D+1][0]+(U*O[D][0]-U*O[D+2][0])/6,O[D+1][1]+(U*O[D][1]-U*O[D+2][1])/6],P[3]=[O[D+1][0],O[D+1][1]],x.push({op:"bcurveTo",data:[P[1][0],P[1][1],P[2][0],P[2][1],P[3][0],P[3][1]]})}if(E&&E.length===2){const D=b.maxRandomnessOffset;x.push({op:"lineTo",data:[E[0]+i(D,b),E[1]+i(D,b)]})}}else d===3?(x.push({op:"move",data:[O[1][0],O[1][1]]}),x.push({op:"bcurveTo",data:[O[1][0],O[1][1],O[2][0],O[2][1],O[2][0],O[2][1]]})):d===2&&x.push(...l(O[0][0],O[0][1],O[1][0],O[1][1],b));return x}function te(O,E,b,d,x,P,U,D){const ce=[],ie=[];if(D.roughness===0){O/=4,ie.push([E+d*Math.cos(-O),b+x*Math.sin(-O)]);for(let ue=0;ue<=2*Math.PI;ue+=O){const Ce=[E+d*Math.cos(ue),b+x*Math.sin(ue)];ce.push(Ce),ie.push(Ce)}ie.push([E+d*Math.cos(0),b+x*Math.sin(0)]),ie.push([E+d*Math.cos(O),b+x*Math.sin(O)])}else{const ue=i(.5,D)-Math.PI/2;ie.push([i(P,D)+E+.9*d*Math.cos(ue-O),i(P,D)+b+.9*x*Math.sin(ue-O)]);const Ce=2*Math.PI+ue-.01;for(let Pe=ue;Pe<Ce;Pe+=O){const B=[i(P,D)+E+d*Math.cos(Pe),i(P,D)+b+x*Math.sin(Pe)];ce.push(B),ie.push(B)}ie.push([i(P,D)+E+d*Math.cos(ue+2*Math.PI+.5*U),i(P,D)+b+x*Math.sin(ue+2*Math.PI+.5*U)]),ie.push([i(P,D)+E+.98*d*Math.cos(ue+U),i(P,D)+b+.98*x*Math.sin(ue+U)]),ie.push([i(P,D)+E+.9*d*Math.cos(ue+.5*U),i(P,D)+b+.9*x*Math.sin(ue+.5*U)])}return[ie,ce]}function N(O,E,b,d,x,P,U,D,ce){const ie=P+i(.1,ce),ue=[];ue.push([i(D,ce)+E+.9*d*Math.cos(ie-O),i(D,ce)+b+.9*x*Math.sin(ie-O)]);for(let Ce=ie;Ce<=U;Ce+=O)ue.push([i(D,ce)+E+d*Math.cos(Ce),i(D,ce)+b+x*Math.sin(Ce)]);return ue.push([E+d*Math.cos(U),b+x*Math.sin(U)]),ue.push([E+d*Math.cos(U),b+x*Math.sin(U)]),X(ue,null,ce)}function L(O,E,b,d,x,P,U,D){const ce=[],ie=[D.maxRandomnessOffset||1,(D.maxRandomnessOffset||1)+.3];let ue=[0,0];const Ce=D.disableMultiStroke?1:2,Pe=D.preserveVertices;for(let B=0;B<Ce;B++)B===0?ce.push({op:"move",data:[U[0],U[1]]}):ce.push({op:"move",data:[U[0]+(Pe?0:i(ie[0],D)),U[1]+(Pe?0:i(ie[0],D))]}),ue=Pe?[x,P]:[x+i(ie[B],D),P+i(ie[B],D)],ce.push({op:"bcurveTo",data:[O+i(ie[B],D),E+i(ie[B],D),b+i(ie[B],D),d+i(ie[B],D),ue[0],ue[1]]});return ce}function fe(O){return[...O]}var q=t(1493);const F="none";class h{constructor(E){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=E||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,G.W)()}_o(E){return E?Object.assign({},this.defaultOptions,E):this.defaultOptions}_d(E,b,d){return{shape:E,sets:b||[],options:d||this.defaultOptions}}line(E,b,d,x,P){const U=this._o(P);return this._d("line",[C(E,b,d,x,U)],U)}rectangle(E,b,d,x,P){const U=this._o(P),D=[],ce=g(E,b,d,x,U);if(U.fill){const ie=[[E,b],[E+d,b],[E+d,b+x],[E,b+x]];U.fillStyle==="solid"?D.push(s([ie],U)):D.push(o([ie],U))}return U.stroke!==F&&D.push(ce),this._d("rectangle",D,U)}ellipse(E,b,d,x,P){const U=this._o(P),D=[],ce=M(d,x,U),ie=v(E,b,U,ce);if(U.fill)if(U.fillStyle==="solid"){const ue=v(E,b,U,ce).opset;ue.type="fillPath",D.push(ue)}else D.push(o([ie.estimatedPoints],U));return U.stroke!==F&&D.push(ie.opset),this._d("ellipse",D,U)}circle(E,b,d,x){const P=this.ellipse(E,b,d,d,x);return P.shape="circle",P}linearPath(E,b){const d=this._o(b);return this._d("linearPath",[J(E,!1,d)],d)}arc(E,b,d,x,P,U,D=!1,ce){const ie=this._o(ce),ue=[],Ce=u(E,b,d,x,P,U,D,!0,ie);if(D&&ie.fill)if(ie.fillStyle==="solid"){const Pe=Object.assign({},ie);Pe.disableMultiStroke=!0;const B=u(E,b,d,x,P,U,!0,!1,Pe);B.type="fillPath",ue.push(B)}else ue.push(function(Pe,B,Y,$,xe,Oe,Ze){const Fe=Pe,Je=B;let Ke=Math.abs(Y/2),Be=Math.abs($/2);Ke+=i(.01*Ke,Ze),Be+=i(.01*Be,Ze);let Le=xe,ne=Oe;for(;Le<0;)Le+=2*Math.PI,ne+=2*Math.PI;ne-Le>2*Math.PI&&(Le=0,ne=2*Math.PI);const me=(ne-Le)/Ze.curveStepCount,ve=[];for(let we=Le;we<=ne;we+=me)ve.push([Fe+Ke*Math.cos(we),Je+Be*Math.sin(we)]);return ve.push([Fe+Ke*Math.cos(ne),Je+Be*Math.sin(ne)]),ve.push([Fe,Je]),o([ve],Ze)}(E,b,d,x,P,U,ie));return ie.stroke!==F&&ue.push(Ce),this._d("arc",ue,ie)}curve(E,b){const d=this._o(b),x=[],P=m(E,d);if(d.fill&&d.fill!==F&&E.length>=3){const U=function(ce,ie=0){const ue=ce.length;if(ue<3)throw new Error("A curve must have at least three points.");const Ce=[];if(ue===3)Ce.push(fe(ce[0]),fe(ce[1]),fe(ce[2]),fe(ce[2]));else{const Pe=[];Pe.push(ce[0],ce[0]);for(let $=1;$<ce.length;$++)Pe.push(ce[$]),$===ce.length-1&&Pe.push(ce[$]);const B=[],Y=1-ie;Ce.push(fe(Pe[0]));for(let $=1;$+2<Pe.length;$++){const xe=Pe[$];B[0]=[xe[0],xe[1]],B[1]=[xe[0]+(Y*Pe[$+1][0]-Y*Pe[$-1][0])/6,xe[1]+(Y*Pe[$+1][1]-Y*Pe[$-1][1])/6],B[2]=[Pe[$+1][0]+(Y*Pe[$][0]-Y*Pe[$+2][0])/6,Pe[$+1][1]+(Y*Pe[$][1]-Y*Pe[$+2][1])/6],B[3]=[Pe[$+1][0],Pe[$+1][1]],Ce.push(B[1],B[2],B[3])}}return Ce}(E),D=(0,q.s)(U,10,(1+d.roughness)/2);d.fillStyle==="solid"?x.push(s([D],d)):x.push(o([D],d))}return d.stroke!==F&&x.push(P),this._d("curve",x,d)}polygon(E,b){const d=this._o(b),x=[],P=J(E,!0,d);return d.fill&&(d.fillStyle==="solid"?x.push(s([E],d)):x.push(o([E],d))),d.stroke!==F&&x.push(P),this._d("polygon",x,d)}path(E,b){const d=this._o(b),x=[];if(!E)return this._d("path",x,d);E=(E||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const P=d.fill&&d.fill!=="transparent"&&d.fill!==F,U=d.stroke!==F,D=!!(d.simplification&&d.simplification<1),ce=function(ie,ue,Ce){const Pe=Ee(pe(se(ie))),B=[];let Y=[],$=[0,0],xe=[];const Oe=()=>{xe.length>=4&&Y.push(...(0,q.s)(xe,ue)),xe=[]},Ze=()=>{Oe(),Y.length&&(B.push(Y),Y=[])};for(const{key:Je,data:Ke}of Pe)switch(Je){case"M":Ze(),$=[Ke[0],Ke[1]],Y.push($);break;case"L":Oe(),Y.push([Ke[0],Ke[1]]);break;case"C":if(!xe.length){const Be=Y.length?Y[Y.length-1]:$;xe.push([Be[0],Be[1]])}xe.push([Ke[0],Ke[1]]),xe.push([Ke[2],Ke[3]]),xe.push([Ke[4],Ke[5]]);break;case"Z":Oe(),Y.push([$[0],$[1]])}if(Ze(),!Ce)return B;const Fe=[];for(const Je of B){const Ke=(0,q.o)(Je,Ce);Ke.length&&Fe.push(Ke)}return Fe}(E,1,D?4-4*d.simplification:(1+d.roughness)/2);return P&&(d.fillStyle==="solid"?x.push(s(ce,d)):x.push(o(ce,d))),U&&(D?ce.forEach(ie=>{x.push(J(ie,!1,d))}):x.push(function(ie,ue){const Ce=Ee(pe(se(ie))),Pe=[];let B=[0,0],Y=[0,0];for(const{key:$,data:xe}of Ce)switch($){case"M":{const Oe=1*(ue.maxRandomnessOffset||0),Ze=ue.preserveVertices;Pe.push({op:"move",data:xe.map(Fe=>Fe+(Ze?0:i(Oe,ue)))}),Y=[xe[0],xe[1]],B=[xe[0],xe[1]];break}case"L":Pe.push(...l(Y[0],Y[1],xe[0],xe[1],ue)),Y=[xe[0],xe[1]];break;case"C":{const[Oe,Ze,Fe,Je,Ke,Be]=xe;Pe.push(...L(Oe,Ze,Fe,Je,Ke,Be,Y,ue)),Y=[Ke,Be];break}case"Z":Pe.push(...l(Y[0],Y[1],B[0],B[1],ue)),Y=[B[0],B[1]]}return{type:"path",ops:Pe}}(E,d))),this._d("path",x,d)}opsToPath(E,b){let d="";for(const x of E.ops){const P=typeof b=="number"&&b>=0?x.data.map(U=>+U.toFixed(b)):x.data;switch(x.op){case"move":d+=`M${P[0]} ${P[1]} `;break;case"bcurveTo":d+=`C${P[0]} ${P[1]}, ${P[2]} ${P[3]}, ${P[4]} ${P[5]} `;break;case"lineTo":d+=`L${P[0]} ${P[1]} `}}return d.trim()}toPaths(E){const b=E.sets||[],d=E.options||this.defaultOptions,x=[];for(const P of b){let U=null;switch(P.type){case"path":U={d:this.opsToPath(P),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:F};break;case"fillPath":U={d:this.opsToPath(P),stroke:F,strokeWidth:0,fill:d.fill||F};break;case"fillSketch":U=this.fillSketch(P,d)}U&&x.push(U)}return x}fillSketch(E,b){let d=b.fillWeight;return d<0&&(d=b.strokeWidth/2),{d:this.opsToPath(E),stroke:b.fill||F,strokeWidth:d,fill:F}}}class _{constructor(E,b){this.canvas=E,this.ctx=this.canvas.getContext("2d"),this.gen=new h(b)}draw(E){const b=E.sets||[],d=E.options||this.getDefaultOptions(),x=this.ctx,P=E.options.fixedDecimalPlaceDigits;for(const U of b)switch(U.type){case"path":x.save(),x.strokeStyle=d.stroke==="none"?"transparent":d.stroke,x.lineWidth=d.strokeWidth,d.strokeLineDash&&x.setLineDash(d.strokeLineDash),d.strokeLineDashOffset&&(x.lineDashOffset=d.strokeLineDashOffset),this._drawToContext(x,U,P),x.restore();break;case"fillPath":{x.save(),x.fillStyle=d.fill||"";const D=E.shape==="curve"||E.shape==="polygon"||E.shape==="path"?"evenodd":"nonzero";this._drawToContext(x,U,P,D),x.restore();break}case"fillSketch":this.fillSketch(x,U,d)}}fillSketch(E,b,d){let x=d.fillWeight;x<0&&(x=d.strokeWidth/2),E.save(),d.fillLineDash&&E.setLineDash(d.fillLineDash),d.fillLineDashOffset&&(E.lineDashOffset=d.fillLineDashOffset),E.strokeStyle=d.fill||"",E.lineWidth=x,this._drawToContext(E,b,d.fixedDecimalPlaceDigits),E.restore()}_drawToContext(E,b,d,x="nonzero"){E.beginPath();for(const P of b.ops){const U=typeof d=="number"&&d>=0?P.data.map(D=>+D.toFixed(d)):P.data;switch(P.op){case"move":E.moveTo(U[0],U[1]);break;case"bcurveTo":E.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5]);break;case"lineTo":E.lineTo(U[0],U[1])}}b.type==="fillPath"?E.fill(x):E.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(E,b,d,x,P){const U=this.gen.line(E,b,d,x,P);return this.draw(U),U}rectangle(E,b,d,x,P){const U=this.gen.rectangle(E,b,d,x,P);return this.draw(U),U}ellipse(E,b,d,x,P){const U=this.gen.ellipse(E,b,d,x,P);return this.draw(U),U}circle(E,b,d,x){const P=this.gen.circle(E,b,d,x);return this.draw(P),P}linearPath(E,b){const d=this.gen.linearPath(E,b);return this.draw(d),d}polygon(E,b){const d=this.gen.polygon(E,b);return this.draw(d),d}arc(E,b,d,x,P,U,D=!1,ce){const ie=this.gen.arc(E,b,d,x,P,U,D,ce);return this.draw(ie),ie}curve(E,b){const d=this.gen.curve(E,b);return this.draw(d),d}path(E,b){const d=this.gen.path(E,b);return this.draw(d),d}}const W="http://www.w3.org/2000/svg";class I{constructor(E,b){this.svg=E,this.gen=new h(b)}draw(E){const b=E.sets||[],d=E.options||this.getDefaultOptions(),x=this.svg.ownerDocument||window.document,P=x.createElementNS(W,"g"),U=E.options.fixedDecimalPlaceDigits;for(const D of b){let ce=null;switch(D.type){case"path":ce=x.createElementNS(W,"path"),ce.setAttribute("d",this.opsToPath(D,U)),ce.setAttribute("stroke",d.stroke),ce.setAttribute("stroke-width",d.strokeWidth+""),ce.setAttribute("fill","none"),d.strokeLineDash&&ce.setAttribute("stroke-dasharray",d.strokeLineDash.join(" ").trim()),d.strokeLineDashOffset&&ce.setAttribute("stroke-dashoffset",`${d.strokeLineDashOffset}`);break;case"fillPath":ce=x.createElementNS(W,"path"),ce.setAttribute("d",this.opsToPath(D,U)),ce.setAttribute("stroke","none"),ce.setAttribute("stroke-width","0"),ce.setAttribute("fill",d.fill||""),E.shape!=="curve"&&E.shape!=="polygon"||ce.setAttribute("fill-rule","evenodd");break;case"fillSketch":ce=this.fillSketch(x,D,d)}ce&&P.appendChild(ce)}return P}fillSketch(E,b,d){let x=d.fillWeight;x<0&&(x=d.strokeWidth/2);const P=E.createElementNS(W,"path");return P.setAttribute("d",this.opsToPath(b,d.fixedDecimalPlaceDigits)),P.setAttribute("stroke",d.fill||""),P.setAttribute("stroke-width",x+""),P.setAttribute("fill","none"),d.fillLineDash&&P.setAttribute("stroke-dasharray",d.fillLineDash.join(" ").trim()),d.fillLineDashOffset&&P.setAttribute("stroke-dashoffset",`${d.fillLineDashOffset}`),P}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(E,b){return this.gen.opsToPath(E,b)}line(E,b,d,x,P){const U=this.gen.line(E,b,d,x,P);return this.draw(U)}rectangle(E,b,d,x,P){const U=this.gen.rectangle(E,b,d,x,P);return this.draw(U)}ellipse(E,b,d,x,P){const U=this.gen.ellipse(E,b,d,x,P);return this.draw(U)}circle(E,b,d,x){const P=this.gen.circle(E,b,d,x);return this.draw(P)}linearPath(E,b){const d=this.gen.linearPath(E,b);return this.draw(d)}polygon(E,b){const d=this.gen.polygon(E,b);return this.draw(d)}arc(E,b,d,x,P,U,D=!1,ce){const ie=this.gen.arc(E,b,d,x,P,U,D,ce);return this.draw(ie)}curve(E,b){const d=this.gen.curve(E,b);return this.draw(d)}path(E,b){const d=this.gen.path(E,b);return this.draw(d)}}var re={canvas:(O,E)=>new _(O,E),svg:(O,E)=>new I(O,E),generator:O=>new h(O),newSeed:()=>h.newSeed()}},5714:function(ge){ge.exports=function(Q,t,w){var y=[],f=Q.length;if(f===0)return y;var c=t<0?Math.max(0,t+f):t||0;for(w!==void 0&&(f=w<0?w+f:w);f-- >c;)y[f-c]=Q[f];return y}},5422:function(ge,Q,t){var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),R=t(4010),n=t.n(R),Z=t(1469),H=t.n(Z),G=t(9329),le=t.n(G),k=t(2044),se={};se.styleTagTransform=le(),se.setAttributes=n(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=H(),y()(k.Z,se),k.Z&&k.Z.locals&&k.Z.locals},487:function(ge){var Q=[];function t(f){for(var c=-1,j=0;j<Q.length;j++)if(Q[j].identifier===f){c=j;break}return c}function w(f,c){for(var j={},A=[],R=0;R<f.length;R++){var n=f[R],Z=c.base?n[0]+c.base:n[0],H=j[Z]||0,G="".concat(Z," ").concat(H);j[Z]=H+1;var le=t(G),k={css:n[1],media:n[2],sourceMap:n[3],supports:n[4],layer:n[5]};if(le!==-1)Q[le].references++,Q[le].updater(k);else{var se=y(k,c);c.byIndex=R,Q.splice(R,0,{identifier:G,updater:se,references:1})}A.push(G)}return A}function y(f,c){var j=c.domAPI(c);return j.update(f),function(A){if(A){if(A.css===f.css&&A.media===f.media&&A.sourceMap===f.sourceMap&&A.supports===f.supports&&A.layer===f.layer)return;j.update(f=A)}else j.remove()}}ge.exports=function(f,c){var j=w(f=f||[],c=c||{});return function(A){A=A||[];for(var R=0;R<j.length;R++){var n=t(j[R]);Q[n].references--}for(var Z=w(A,c),H=0;H<j.length;H++){var G=t(j[H]);Q[G].references===0&&(Q[G].updater(),Q.splice(G,1))}j=Z}}},2052:function(ge){var Q={};ge.exports=function(t,w){var y=function(f){if(Q[f]===void 0){var c=document.querySelector(f);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch{c=null}Q[f]=c}return Q[f]}(t);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");y.appendChild(w)}},1469:function(ge){ge.exports=function(Q){var t=document.createElement("style");return Q.setAttributes(t,Q.attributes),Q.insert(t,Q.options),t}},4010:function(ge,Q,t){ge.exports=function(w){var y=t.nc;y&&w.setAttribute("nonce",y)}},631:function(ge){ge.exports=function(Q){var t=Q.insertStyleElement(Q);return{update:function(w){(function(y,f,c){var j="";c.supports&&(j+="@supports (".concat(c.supports,") {")),c.media&&(j+="@media ".concat(c.media," {"));var A=c.layer!==void 0;A&&(j+="@layer".concat(c.layer.length>0?" ".concat(c.layer):""," {")),j+=c.css,A&&(j+="}"),c.media&&(j+="}"),c.supports&&(j+="}");var R=c.sourceMap;R&&typeof btoa!="undefined"&&(j+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),f.styleTagTransform(j,y,f.options)})(t,Q,w)},remove:function(){(function(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w)})(t)}}}},9329:function(ge){ge.exports=function(Q,t){if(t.styleSheet)t.styleSheet.cssText=Q;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(Q))}}},2173:function(ge,Q,t){var w=t(9787),y=typeof Object.is=="function"?Object.is:function(Z,H){return Z===H&&(Z!==0||1/Z==1/H)||Z!=Z&&H!=H},f=w.useState,c=w.useEffect,j=w.useLayoutEffect,A=w.useDebugValue;function R(Z){var H=Z.getSnapshot;Z=Z.value;try{var G=H();return!y(Z,G)}catch{return!0}}var n=typeof window=="undefined"||window.document===void 0||window.document.createElement===void 0?function(Z,H){return H()}:function(Z,H){var G=H(),le=f({inst:{value:G,getSnapshot:H}}),k=le[0].inst,se=le[1];return j(function(){k.value=G,k.getSnapshot=H,R(k)&&se({inst:k})},[Z,G,H]),c(function(){return R(k)&&se({inst:k}),Z(function(){R(k)&&se({inst:k})})},[Z]),A(G),G};Q.useSyncExternalStore=w.useSyncExternalStore!==void 0?w.useSyncExternalStore:n},5917:function(ge,Q,t){var w=t(9787),y=t(1374),f=typeof Object.is=="function"?Object.is:function(Z,H){return Z===H&&(Z!==0||1/Z==1/H)||Z!=Z&&H!=H},c=y.useSyncExternalStore,j=w.useRef,A=w.useEffect,R=w.useMemo,n=w.useDebugValue;Q.useSyncExternalStoreWithSelector=function(Z,H,G,le,k){var se=j(null);if(se.current===null){var pe={hasValue:!1,value:null};se.current=pe}else pe=se.current;se=R(function(){function ae(g){if(!C){if(C=!0,de=g,g=le(g),k!==void 0&&pe.hasValue){var m=pe.value;if(k(m,g))return ye=m}return ye=g}if(m=ye,f(de,g))return m;var M=le(g);return k!==void 0&&k(m,M)?m:(de=g,ye=M)}var de,ye,C=!1,J=G===void 0?null:G;return[function(){return ae(H())},J===null?void 0:function(){return ae(J())}]},[H,G,le,k]);var Ee=c(Z,se[0],se[1]);return A(function(){pe.hasValue=!0,pe.value=Ee},[Ee]),n(Ee),Ee}},1374:function(ge,Q,t){ge.exports=t(2173)},5668:function(ge,Q,t){ge.exports=t(5917)},940:function(ge,Q,t){var w={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function y(f){if(!t.o(w,f))return Promise.resolve().then(function(){var A=new Error("Cannot find module '"+f+"'");throw A.code="MODULE_NOT_FOUND",A});var c=w[f],j=c[0];return Promise.all(c.slice(1).map(t.e)).then(function(){return t.t(j,19)})}y.keys=function(){return Object.keys(w)},y.id=940,ge.exports=y},9713:function(ge){ge.exports=function(Q,t,w){return t in Q?Object.defineProperty(Q,t,{value:w,enumerable:!0,configurable:!0,writable:!0}):Q[t]=w,Q}},6479:function(ge,Q,t){var w=t(7316);ge.exports=function(y,f){if(y==null)return{};var c,j,A=w(y,f);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(y);for(j=0;j<R.length;j++)c=R[j],f.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(y,c)&&(A[c]=y[c])}return A}},7316:function(ge){ge.exports=function(Q,t){if(Q==null)return{};var w,y,f={},c=Object.keys(Q);for(y=0;y<c.length;y++)w=c[y],t.indexOf(w)>=0||(f[w]=Q[w]);return f}},4295:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),R=new URL(t(3940),t.b),n=new URL(t(3147),t.b),Z=new URL(t(8303),t.b),H=new URL(t(1273),t.b),G=new URL(t(9577),t.b),le=new URL(t(9729),t.b),k=c()(y()),se=A()(R),pe=A()(n),Ee=A()(Z),ae=A()(H),de=A()(G),ye=A()(le);k.push([ge.id,'@font-face{font-family:"Virgil";src:url('+se+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+pe+');font-display:swap}@font-face{font-family:"Assistant";src:url('+Ee+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ae+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+de+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+ye+");font-display:swap;font-weight:700}",""]),Q.Z=k},6086:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),Q.Z=c},3729:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),Q.Z=c},3137:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),R=new URL(t(7984),t.b),n=new URL(t(1639),t.b),Z=c()(y()),H=A()(R),G=A()(n);Z.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+H+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+G+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),Q.Z=Z},4241:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),Q.Z=c},6029:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),Q.Z=c},2345:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),R=new URL(t(9669),t.b),n=c()(y()),Z=A()(R);n.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+Z+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),Q.Z=n},9393:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),Q.Z=c},6578:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),Q.Z=c},9482:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),Q.Z=c},6148:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),Q.Z=c},7955:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),R=new URL(t(9669),t.b),n=c()(y()),Z=A()(R);n.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+Z+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),Q.Z=n},3195:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),Q.Z=c},2978:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),Q.Z=c},1587:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),Q.Z=c},9478:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),Q.Z=c},7369:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),Q.Z=c},1434:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),Q.Z=c},2316:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),Q.Z=c},8923:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),Q.Z=c},6440:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),Q.Z=c},2701:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),Q.Z=c},6843:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),Q.Z=c},8461:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),Q.Z=c},9935:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px}",""]),Q.Z=c},532:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),Q.Z=c},7589:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}",""]),Q.Z=c},8208:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),Q.Z=c},8465:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),Q.Z=c},5892:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),Q.Z=c},3874:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),Q.Z=c},2681:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),Q.Z=c},6759:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),Q.Z=c},9650:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),Q.Z=c},2044:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),Q.Z=c},9144:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),Q.Z=c},6626:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),Q.Z=c},6359:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),Q.Z=c},7399:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),Q.Z=c},8793:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),Q.Z=c},3397:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),Q.Z=c},4343:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),Q.Z=c},1569:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),Q.Z=c},9915:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),Q.Z=c},9310:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),R=new URL(t(7984),t.b),n=new URL(t(1639),t.b),Z=c()(y()),H=A()(R),G=A()(n);Z.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+H+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+G+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:hidden;max-width:100vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),Q.Z=Z},6464:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,"",""]),c.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},Q.Z=c},5260:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),Q.Z=c},3645:function(ge){ge.exports=function(Q){var t=[];return t.toString=function(){return this.map(function(w){var y="",f=w[5]!==void 0;return w[4]&&(y+="@supports (".concat(w[4],") {")),w[2]&&(y+="@media ".concat(w[2]," {")),f&&(y+="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {")),y+=Q(w),f&&(y+="}"),w[2]&&(y+="}"),w[4]&&(y+="}"),y}).join("")},t.i=function(w,y,f,c,j){typeof w=="string"&&(w=[[null,w,void 0]]);var A={};if(f)for(var R=0;R<this.length;R++){var n=this[R][0];n!=null&&(A[n]=!0)}for(var Z=0;Z<w.length;Z++){var H=[].concat(w[Z]);f&&A[H[0]]||(j!==void 0&&(H[5]===void 0||(H[1]="@layer".concat(H[5].length>0?" ".concat(H[5]):""," {").concat(H[1],"}")),H[5]=j),y&&(H[2]&&(H[1]="@media ".concat(H[2]," {").concat(H[1],"}")),H[2]=y),c&&(H[4]?(H[1]="@supports (".concat(H[4],") {").concat(H[1],"}"),H[4]=c):H[4]="".concat(c)),t.push(H))}},t}},1667:function(ge){ge.exports=function(Q,t){return t||(t={}),Q&&(Q=String(Q.__esModule?Q.default:Q),/^['"].*['"]$/.test(Q)&&(Q=Q.slice(1,-1)),t.hash&&(Q+=t.hash),/["'() \t\n]|(%20)/.test(Q)||t.needQuotes?'"'.concat(Q.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):Q)}},8081:function(ge){ge.exports=function(Q){return Q[1]}},2416:function(ge,Q,t){t.d(Q,{CZ:function(){return m},Lo:function(){return g},Zp:function(){return u},eF:function(){return s},mo:function(){return J}});var w=t(2577),y=t(7169),f=t(4499),c=t(3646),j=t(1319),A=t(2335),R=t(1047),n=t(8211),Z=t(6066),H=t(75),G=t(2264),le=t(746),k=t(6340),se=t(7901),pe=t(1894),Ee=t(1935),ae=t(8897),de=t(4512);function ye(o,e){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),a.push.apply(a,i)}return a}function C(o){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ye(Object(a),!0).forEach(function(i){(0,y.Z)(o,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(a,i))})}return o}(0,se.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(o,e,a,i){return!!i.props.UIOptions.canvasActions.changeViewBackgroundColor&&!e.viewModeEnabled},perform:function(o,e,a){return{appState:C(C({},e),a),commitToHistory:!!a.viewBackgroundColor}},PanelComponent:function(o){var e=o.elements,a=o.appState,i=o.updateData;return(0,de.jsx)("div",{style:{position:"relative"},children:(0,de.jsx)(f.z,{label:(0,n.t)("labels.canvasBackground"),type:"canvasBackground",color:a.viewBackgroundColor,onChange:function(l){return i({viewBackgroundColor:l})},isActive:a.openPopup==="canvasColorPicker",setActive:function(l){return i({openPopup:l?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:e,appState:a})})}});var J=(0,se.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(o,e,a,i){return!!i.props.UIOptions.canvasActions.clearCanvas&&!e.viewModeEnabled},perform:function(o,e,a,i){return i.imageCache.clear(),{elements:o.map(function(l){return(0,Ee.BE)(l,{isDeleted:!0})}),appState:C(C({},(0,ae.im)()),{},{files:{},theme:e.theme,penMode:e.penMode,penDetected:e.penDetected,exportBackground:e.exportBackground,exportEmbedScene:e.exportEmbedScene,gridSize:e.gridSize,showStats:e.showStats,pasteDialog:e.pasteDialog,activeTool:e.activeTool.type==="image"?C(C({},e.activeTool),{},{type:"selection"}):e.activeTool}),commitToHistory:!0}}}),g=(0,se.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,e,a,i){return{appState:C(C({},e),(0,le.E)({viewportX:e.width/2+e.offsetLeft,viewportY:e.height/2+e.offsetTop,nextZoom:(0,H.j)(e.zoom.value+A.V4)},e)),commitToHistory:!1}},PanelComponent:function(o){var e=o.updateData;return(0,de.jsx)(j.V,{type:"button",className:"zoom-in-button zoom-button",icon:c.Sd,title:"".concat((0,n.t)("buttons.zoomIn")," \u2014 ").concat((0,k.uY)("CtrlOrCmd++")),"aria-label":(0,n.t)("buttons.zoomIn"),onClick:function(){e(null)}})},keyTest:function(o){return(o.code===Z.aU.EQUAL||o.code===Z.aU.NUM_ADD)&&(o[Z.tW.CTRL_OR_CMD]||o.shiftKey)}}),m=(0,se.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,e,a,i){return{appState:C(C({},e),(0,le.E)({viewportX:e.width/2+e.offsetLeft,viewportY:e.height/2+e.offsetTop,nextZoom:(0,H.j)(e.zoom.value-A.V4)},e)),commitToHistory:!1}},PanelComponent:function(o){var e=o.updateData;return(0,de.jsx)(j.V,{type:"button",className:"zoom-out-button zoom-button",icon:c.xL,title:"".concat((0,n.t)("buttons.zoomOut")," \u2014 ").concat((0,k.uY)("CtrlOrCmd+-")),"aria-label":(0,n.t)("buttons.zoomOut"),onClick:function(){e(null)}})},keyTest:function(o){return(o.code===Z.aU.MINUS||o.code===Z.aU.NUM_SUBTRACT)&&(o[Z.tW.CTRL_OR_CMD]||o.shiftKey)}}),M=((0,se.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,e,a,i){return{appState:C(C({},e),(0,le.E)({viewportX:e.width/2+e.offsetLeft,viewportY:e.height/2+e.offsetTop,nextZoom:(0,H.j)(1)},e)),commitToHistory:!1}},PanelComponent:function(o){var e=o.updateData,a=o.appState;return(0,de.jsx)(pe.u,{label:(0,n.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,de.jsxs)(j.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,n.t)("buttons.resetZoom"),"aria-label":(0,n.t)("buttons.resetZoom"),onClick:function(){e(null)},children:[(100*a.zoom.value).toFixed(0),"%"]})})},keyTest:function(o){return(o.code===Z.aU.ZERO||o.code===Z.aU.NUM_ZERO)&&(o[Z.tW.CTRL_OR_CMD]||o.shiftKey)}}),function(o,e){var a=(0,w.Z)(o,4),i=a[0],l=a[1],p=a[2],T=a[3],X=p-i,te=e.width/X,N=T-l,L=e.height/N,fe=Math.min(te,L),q=Math.floor(fe/A.V4)*A.V4;return Math.min(Math.max(q,A.Zj),1)}),v=function(o,e,a){var i=(0,R.Lm)(o),l=(0,H.eD)(i,e),p=a&&l.length>0?(0,R.KP)(l):(0,R.KP)(i),T={value:M(p,{width:e.width,height:e.height})},X=(0,w.Z)(p,4),te=X[0],N=X[1],L=(te+X[2])/2,fe=(N+X[3])/2;return{appState:C(C(C({},e),(0,G.s)({scenePoint:{x:L,y:fe},viewportDimensions:{width:e.width,height:e.height},zoom:T})),{},{zoom:T}),commitToHistory:!1}},u=((0,se.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(o,e){return v(o,e,!0)},keyTest:function(o){return o.code===Z.aU.TWO&&o.shiftKey&&!o.altKey&&!o[Z.tW.CTRL_OR_CMD]}}),(0,se.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,e){return v(o,e,!1)},keyTest:function(o){return o.code===Z.aU.ONE&&o.shiftKey&&!o.altKey&&!o[Z.tW.CTRL_OR_CMD]}}),(0,se.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,e,a){return{appState:C(C({},e),{},{theme:a||(e.theme===A.C6.LIGHT?A.C6.DARK:A.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(o){return o.altKey&&o.shiftKey&&o.code===Z.aU.D},predicate:function(o,e,a,i){return!!i.props.UIOptions.canvasActions.toggleTheme}})),s=((0,se.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(o,e){var a;return a=(0,ae.EN)(e)?(0,k.Om)(e,C(C({},e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,k.Om)(e,{type:"eraser",lastActiveToolBeforeEraser:e.activeTool}),{appState:C(C({},e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:a}),commitToHistory:!0}},keyTest:function(o){return o.key===Z.tW.E}}),(0,se.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(o,e,a,i){var l;return(0,ae.l$)(e)?l=(0,k.Om)(e,C(C({},e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(l=(0,k.Om)(e,{type:"hand",lastActiveToolBeforeEraser:e.activeTool}),(0,k.KJ)(i.canvas,A.oc.GRAB)),{appState:C(C({},e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:l}),commitToHistory:!0}},keyTest:function(o){return o.key===Z.tW.H}}))},4688:function(ge,Q,t){t.d(Q,{FA:function(){return C},ZM:function(){return ye},jK:function(){return J},uN:function(){return ae},yQ:function(){return de},zp:function(){return g}});var w=t(7169),y=t(8950),f=t(2975),c=t.n(f),j=t(6066),A=t(7901),R=t(6665),n=t(533),Z=t(1868),H=t(9485),G=t(1047),le=t(8211);function k(m,M){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);M&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),v.push.apply(v,u)}return v}function se(m){for(var M=1;M<arguments.length;M++){var v=arguments[M]!=null?arguments[M]:{};M%2?k(Object(v),!0).forEach(function(u){(0,w.Z)(m,u,v[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):k(Object(v)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(v,u))})}return m}var pe,Ee,ae=(0,A.z)({name:"copy",trackEvent:{category:"element"},perform:function(m,M,v,u){var s=(0,Z.eD)(m,M,!0);return(0,R.vQ)(s,M,u.files),{commitToHistory:!1}},predicate:function(m,M,v,u){return u.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),de=(0,A.z)({name:"paste",trackEvent:{category:"element"},perform:function(m,M,v,u){return u.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(m,M,v,u){return u.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),ye=(0,A.z)({name:"cut",trackEvent:{category:"element"},perform:function(m,M,v,u){return ae.perform(m,M,v,u),n.X.perform(m,M)},predicate:function(m,M,v,u){return u.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(m){return m[j.tW.CTRL_OR_CMD]&&m.key===j.tW.X}}),C=(0,A.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(pe=(0,y.Z)(c().mark(function m(M,v,u,s){var o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return o=(0,Z.eD)((0,G.Lm)(M),v,!0),e.prev=3,e.next=6,(0,H.p1)("clipboard-svg",o.length?o:(0,G.Lm)(M),v,s.files,v);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:se(se({},v),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}},m,null,[[3,9]])})),function(m,M,v,u){return pe.apply(this,arguments)}),predicate:function(m){return R.wx&&m.length>0},contextItemLabel:"labels.copyAsSvg"}),J=(0,A.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(Ee=(0,y.Z)(c().mark(function m(M,v,u,s){var o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return o=(0,Z.eD)((0,G.Lm)(M),v,!0),e.prev=3,e.next=6,(0,H.p1)("clipboard",o.length?o:(0,G.Lm)(M),v,s.files,v);case 6:return e.abrupt("return",{appState:se(se({},v),{},{toast:{message:(0,le.t)("toast.copyToClipboardAsPng",{exportSelection:o.length?(0,le.t)("toast.selection"):(0,le.t)("toast.canvas"),exportColorScheme:v.exportWithDarkMode?(0,le.t)("buttons.darkMode"):(0,le.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:se(se({},v),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}},m,null,[[3,9]])})),function(m,M,v,u){return Ee.apply(this,arguments)}),predicate:function(m){return R.vt&&m.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(m){return m.code===j.aU.C&&m.altKey&&m.shiftKey}}),g=(0,A.z)({name:"copyText",trackEvent:{category:"element"},perform:function(m,M){var v=(0,Z.eD)((0,G.Lm)(m),M,!0).reduce(function(u,s){return(0,G.iB)(s)&&u.push(s.text),u},[]).join(`

`);return(0,R.dd)(v),{commitToHistory:!1}},predicate:function(m,M){return R.wx&&(0,Z.eD)(m,M,!0).some(G.iB)},contextItemLabel:"labels.copyText"})},533:function(ge,Q,t){t.d(Q,{X:function(){return ye}});var w=t(7169),y=t(75),f=t(6066),c=t(1319),j=t(8211),A=t(7901),R=t(1047),n=t(1935),Z=t(242),H=t(6938),G=t(8290),le=t(1974),k=t(6340),se=t(3646),pe=t(4512);function Ee(C,J){var g=Object.keys(C);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(C);J&&(m=m.filter(function(M){return Object.getOwnPropertyDescriptor(C,M).enumerable})),g.push.apply(g,m)}return g}function ae(C){for(var J=1;J<arguments.length;J++){var g=arguments[J]!=null?arguments[J]:{};J%2?Ee(Object(g),!0).forEach(function(m){(0,w.Z)(C,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(g)):Ee(Object(g)).forEach(function(m){Object.defineProperty(C,m,Object.getOwnPropertyDescriptor(g,m))})}return C}var de=function(C,J){if(C.editingGroupId){var g=(0,Z.Fb)((0,R.Lm)(J),C.editingGroupId);if(g.length)return ae(ae({},C),{},{selectedElementIds:(0,w.Z)({},g[0].id,!0)})}return C},ye=(0,A.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(C,J){if(J.editingLinearElement){var g=J.editingLinearElement,m=g.elementId,M=g.selectedPointsIndices,v=g.startBindingElement,u=g.endBindingElement,s=H._.getElement(m);if(!s||M==null)return!1;if(s.points.length<2){var o=C.map(function(p){return p.id===s.id?(0,n.BE)(p,{isDeleted:!0}):p});return{elements:o,appState:ae(ae({},de(J,o)),{},{editingLinearElement:null}),commitToHistory:!1}}var e={startBindingElement:M!=null&&M.includes(0)?null:v,endBindingElement:M!=null&&M.includes(s.points.length-1)?null:u};return H._.deletePoints(s,M),{elements:C,appState:ae(ae({},J),{},{editingLinearElement:ae(ae(ae({},J.editingLinearElement),e),{},{selectedPointsIndices:(M==null?void 0:M[0])>0?[M[0]-1]:[0]})}),commitToHistory:!0}}var a=function(p,T){return{elements:p.map(function(X){return T.selectedElementIds[X.id]||(0,le.Xh)(X)&&T.selectedElementIds[X.containerId]?(0,n.BE)(X,{isDeleted:!0}):X}),appState:ae(ae({},T),{},{selectedElementIds:{}})}}(C,J),i=a.elements,l=a.appState;return(0,G.$q)(i,C.filter(function(p){var T=p.id;return J.selectedElementIds[T]})),{elements:i,appState:ae(ae({},l=de(l,i)),{},{activeTool:(0,k.Om)(J,{type:"selection"}),multiElement:null}),commitToHistory:(0,y.N)((0,R.Lm)(C),J)}},contextItemLabel:"labels.delete",keyTest:function(C){return C.key===f.tW.BACKSPACE||C.key===f.tW.DELETE},PanelComponent:function(C){var J=C.elements,g=C.appState,m=C.updateData;return(0,pe.jsx)(c.V,{type:"button",icon:se.XH,title:(0,j.t)("labels.delete"),"aria-label":(0,j.t)("labels.delete"),onClick:function(){return m(null)},visible:(0,y.N)((0,R.Lm)(J),g)})}})},8671:function(ge,Q,t){t.d(Q,{_d:function(){return U},mM:function(){return P},ns:function(){return x}});var w=t(8950),y=t(2577),f=t(7169),c=t(2975),j=t.n(c),A=t(3646),R=t(487),n=t.n(R),Z=t(631),H=t.n(Z),G=t(2052),le=t.n(G),k=t(4010),se=t.n(k),pe=t(1469),Ee=t.n(pe),ae=t(9329),de=t.n(ae),ye=t(6759),C={};C.styleTagTransform=de(),C.setAttributes=se(),C.insert=le().bind(null,"head"),C.domAPI=H(),C.insertStyleElement=Ee(),n()(ye.Z,C),ye.Z&&ye.Z.locals&&ye.Z.locals;var J=t(9787),g=t(6340),m=t(532),M={};M.styleTagTransform=de(),M.setAttributes=se(),M.insert=le().bind(null,"head"),M.domAPI=H(),M.insertStyleElement=Ee(),n()(m.Z,M),m.Z&&m.Z.locals&&m.Z.locals;var v=t(4206),u=t(4512),s=function(D){var ce=(0,v.J0)().id,ie=(0,J.useState)(D.value),ue=(0,y.Z)(ie,2),Ce=ue[0],Pe=ue[1];return(0,u.jsxs)("div",{className:"ProjectName",children:[(0,u.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(D.label).concat(D.isNameEditable?"":":")}),D.isNameEditable?(0,u.jsx)("input",{type:"text",className:"TextInput",onBlur:function(B){(0,g.qz)(B.target);var Y=B.target.value;Y!==D.value&&D.onChange(Y)},onKeyDown:function(B){if(B.key==="Enter"){if(B.preventDefault(),B.nativeEvent.isComposing||B.keyCode===229)return;B.currentTarget.blur()}},id:"".concat(ce,"-filename"),value:Ce,onChange:function(B){return Pe(B.target.value)}}):(0,u.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(ce,"-filename"),children:D.value})]})},o=t(1319),e=t(1894),a=(t(5422),t(8211)),i=t(2335),l=function(D){var ce=D.title||(D.value==="dark"?(0,a.t)("buttons.lightMode"):(0,a.t)("buttons.darkMode"));return(0,u.jsx)(o.V,{type:"icon",icon:D.value===i.C6.LIGHT?p.MOON:p.SUN,title:ce,"aria-label":ce,onClick:function(){return D.onChange(D.value===i.C6.DARK?i.C6.LIGHT:i.C6.DARK)},"data-testid":"toggle-dark-mode"})},p={SUN:(0,u.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,u.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,u.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,u.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},T=t(9485),X=t(1047),te=t(434);function N(D,ce){var ie=Object.keys(D);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(D);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(D,Ce).enumerable})),ie.push.apply(ie,ue)}return ie}function L(D){for(var ce=1;ce<arguments.length;ce++){var ie=arguments[ce]!=null?arguments[ce]:{};ce%2?N(Object(ie),!0).forEach(function(ue){(0,f.Z)(D,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(ie)):N(Object(ie)).forEach(function(ue){Object.defineProperty(D,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return D}var fe=function(){var D=(0,w.Z)(j().mark(function ce(ie,ue,Ce){var Pe,B,Y,$,xe,Oe;return j().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(B=(Pe=ue).exportBackground,Y=Pe.viewBackgroundColor,$=Pe.name,xe=Pe.fileHandle,Oe=(0,te.Qk)(xe),xe&&(0,te.DQ)(Oe)){Ze.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return ue=L(L({},ue),{},{exportEmbedScene:!0}),Ze.next=7,(0,T.p1)(Oe,(0,X.Lm)(ie),ue,Ce,{exportBackground:B,viewBackgroundColor:Y,name:$,fileHandle:xe});case 7:return Ze.abrupt("return",{fileHandle:xe});case 8:case"end":return Ze.stop()}},ce)}));return function(ce,ie,ue){return D.apply(this,arguments)}}(),q=t(6066),F=t(7901),h=t(3807),_=t(4162),W=t(75),I=t(1393);function re(D,ce){var ie=Object.keys(D);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(D);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(D,Ce).enumerable})),ie.push.apply(ie,ue)}return ie}function O(D){for(var ce=1;ce<arguments.length;ce++){var ie=arguments[ce]!=null?arguments[ce]:{};ce%2?re(Object(ie),!0).forEach(function(ue){(0,f.Z)(D,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(ie)):re(Object(ie)).forEach(function(ue){Object.defineProperty(D,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return D}(0,F.z)({name:"changeProjectName",trackEvent:!1,perform:function(D,ce,ie){return{appState:O(O({},ce),{},{name:ie}),commitToHistory:!1}},PanelComponent:function(D){var ce=D.appState,ie=D.updateData,ue=D.appProps;return(0,u.jsx)(s,{label:(0,a.t)("labels.fileTitle"),value:ce.name||"Unnamed",onChange:function(Ce){return ie(Ce)},isNameEditable:ue.name===void 0&&!ce.viewModeEnabled})}}),(0,F.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(D,ce,ie){return{appState:O(O({},ce),{},{exportScale:ie}),commitToHistory:!1}},PanelComponent:function(D){var ce=D.elements,ie=D.appState,ue=D.updateData,Ce=(0,X.Lm)(ce),Pe=(0,W.N)(Ce,ie)?(0,W.eD)(Ce,ie):Ce;return(0,u.jsx)(u.Fragment,{children:i.ZB.map(function(B){var Y=(0,_.Cg)(Pe,i.qy,B),$=(0,y.Z)(Y,2),xe=$[0],Oe=$[1],Ze="".concat((0,a.t)("buttons.scale")," ").concat(B,"x (").concat(xe,"x").concat(Oe,")");return(0,u.jsx)(o.V,{size:"small",type:"radio",icon:"".concat(B,"x"),name:"export-canvas-scale",title:Ze,"aria-label":Ze,id:"export-canvas-scale",checked:B===ie.exportScale,onChange:function(){return ue(B)}},B)})})}}),(0,F.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(D,ce,ie){return{appState:O(O({},ce),{},{exportBackground:ie}),commitToHistory:!1}},PanelComponent:function(D){var ce=D.appState,ie=D.updateData;return(0,u.jsx)(h.o,{checked:ce.exportBackground,onChange:function(ue){return ie(ue)},children:(0,a.t)("labels.withBackground")})}}),(0,F.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(D,ce,ie){return{appState:O(O({},ce),{},{exportEmbedScene:ie}),commitToHistory:!1}},PanelComponent:function(D){var ce=D.appState,ie=D.updateData;return(0,u.jsxs)(h.o,{checked:ce.exportEmbedScene,onChange:function(ue){return ie(ue)},children:[(0,a.t)("labels.exportEmbedScene"),(0,u.jsx)(e.u,{label:(0,a.t)("labels.exportEmbedScene_details"),long:!0,children:(0,u.jsx)("div",{className:"excalidraw-tooltip-icon",children:A.Vl})})]})}});var E,b,d,x=(0,F.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(D,ce,ie,ue){return!!ue.props.UIOptions.canvasActions.saveToActiveFile&&!!ce.fileHandle&&!ce.viewModeEnabled},perform:(E=(0,w.Z)(j().mark(function D(ce,ie,ue,Ce){var Pe,B,Y;return j().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(Pe=!!ie.fileHandle,$.prev=1,!(0,te.g8)(ie.fileHandle)){$.next=8;break}return $.next=5,fe(ce,ie,Ce.files);case 5:$.t0=$.sent,$.next=11;break;case 8:return $.next=10,(0,T.Um)(ce,ie,Ce.files);case 10:$.t0=$.sent;case 11:return B=$.t0,Y=B.fileHandle,$.abrupt("return",{commitToHistory:!1,appState:O(O({},ie),{},{fileHandle:Y,toast:Pe?{message:Y!=null&&Y.name?(0,a.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Y.name,'"')):(0,a.t)("toast.fileSaved")}:null})});case 16:return $.prev=16,$.t1=$.catch(1),($.t1===null||$.t1===void 0?void 0:$.t1.name)!=="AbortError"?console.error($.t1):console.warn($.t1),$.abrupt("return",{commitToHistory:!1});case 20:case"end":return $.stop()}},D,null,[[1,16]])})),function(D,ce,ie,ue){return E.apply(this,arguments)}),keyTest:function(D){return D.key===q.tW.S&&D[q.tW.CTRL_OR_CMD]&&!D.shiftKey}}),P=(0,F.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(b=(0,w.Z)(j().mark(function D(ce,ie,ue,Ce){var Pe,B;return j().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.prev=0,Y.next=3,(0,T.Um)(ce,O(O({},ie),{},{fileHandle:null}),Ce.files);case 3:return Pe=Y.sent,B=Pe.fileHandle,Y.abrupt("return",{commitToHistory:!1,appState:O(O({},ie),{},{fileHandle:B})});case 8:return Y.prev=8,Y.t0=Y.catch(0),(Y.t0===null||Y.t0===void 0?void 0:Y.t0.name)!=="AbortError"?console.error(Y.t0):console.warn(Y.t0),Y.abrupt("return",{commitToHistory:!1});case 12:case"end":return Y.stop()}},D,null,[[0,8]])})),function(D,ce,ie,ue){return b.apply(this,arguments)}),keyTest:function(D){return D.key===q.tW.S&&D.shiftKey&&D[q.tW.CTRL_OR_CMD]},PanelComponent:function(D){var ce=D.updateData;return(0,u.jsx)(o.V,{type:"button",icon:A.po,title:(0,a.t)("buttons.saveAs"),"aria-label":(0,a.t)("buttons.saveAs"),showAriaLabel:(0,v.Fy)().isMobile,hidden:!I.kr,onClick:function(){return ce(null)},"data-testid":"save-as-button"})}}),U=(0,F.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(D,ce,ie,ue){return!!ue.props.UIOptions.canvasActions.loadScene&&!ce.viewModeEnabled},perform:(d=(0,w.Z)(j().mark(function D(ce,ie,ue,Ce){var Pe,B,Y,$;return j().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.prev=0,xe.next=3,(0,T.n8)(ie,ce);case 3:return Pe=xe.sent,B=Pe.elements,Y=Pe.appState,$=Pe.files,xe.abrupt("return",{elements:B,appState:Y,files:$,commitToHistory:!0});case 10:if(xe.prev=10,xe.t0=xe.catch(0),(xe.t0===null||xe.t0===void 0?void 0:xe.t0.name)!=="AbortError"){xe.next=15;break}return console.warn(xe.t0),xe.abrupt("return",!1);case 15:return xe.abrupt("return",{elements:ce,appState:O(O({},ie),{},{errorMessage:xe.t0.message}),files:Ce.files,commitToHistory:!1});case 16:case"end":return xe.stop()}},D,null,[[0,10]])})),function(D,ce,ie,ue){return d.apply(this,arguments)}),keyTest:function(D){return D[q.tW.CTRL_OR_CMD]&&D.key===q.tW.O}});(0,F.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(D,ce,ie){return{appState:O(O({},ce),{},{exportWithDarkMode:ie}),commitToHistory:!1}},PanelComponent:function(D){var ce=D.appState,ie=D.updateData;return(0,u.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,u.jsx)(l,{value:ce.exportWithDarkMode?i.C6.DARK:i.C6.LIGHT,onChange:function(ue){ie(ue===i.C6.DARK)},title:(0,a.t)("labels.toggleExportColorScheme")})})}})},6208:function(ge,Q,t){t.d(Q,{Tu:function(){return O},Zq:function(){return E}});var w=t(1930),y=t(7169),f=t(45),c=t(4512),j=function(b){var d=b.options,x=b.value,P=b.onChange,U=b.group;return(0,c.jsx)("div",{className:"buttonList buttonListIcon",children:d.map(function(D){return(0,c.jsxs)("label",{className:(0,f.Z)({active:x===D.value}),title:D.text,children:[(0,c.jsx)("input",{type:"radio",name:U,onChange:function(){return P(D.value)},checked:x===D.value,"data-testid":D.testId}),D.icon]},D.text)})})},A=t(4499),R=t(2577),n=t(9787),Z=t.n(n),H=t(2891),G=t(487),le=t.n(G),k=t(631),se=t.n(k),pe=t(2052),Ee=t.n(pe),ae=t(4010),de=t.n(ae),ye=t(1469),C=t.n(ye),J=t(9329),g=t.n(J),m=t(9478),M={};M.styleTagTransform=g(),M.setAttributes=de(),M.insert=Ee().bind(null,"head"),M.domAPI=se(),M.insertStyleElement=C(),le()(m.Z,M),m.Z&&m.Z.locals&&m.Z.locals;var v=t(6066),u=t(8211);function s(b,d){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(b);d&&(P=P.filter(function(U){return Object.getOwnPropertyDescriptor(b,U).enumerable})),x.push.apply(x,P)}return x}function o(b){for(var d=1;d<arguments.length;d++){var x=arguments[d]!=null?arguments[d]:{};d%2?s(Object(x),!0).forEach(function(P){(0,y.Z)(b,P,x[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):s(Object(x)).forEach(function(P){Object.defineProperty(b,P,Object.getOwnPropertyDescriptor(x,P))})}return b}function e(b){var d=b.options,x=b.value,P=b.label,U=b.onChange,D=b.onClose,ce=Z().useRef(),ie=Z().useRef(),ue=Z().useRef(null);return Z().useEffect(function(){ie.current?ie.current.focus():ue.current&&ue.current.focus()},[]),(0,c.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":P,onKeyDown:function(Ce){var Pe=d.find(function(Fe){return Fe.keyBinding===Ce.key.toLowerCase()});if(Ce.metaKey||Ce.altKey||Ce.ctrlKey||!Pe)if(Ce.key===v.tW.TAB)setTimeout(function(){ie.current!==document.activeElement&&D()},0);else if((0,v.Wl)(Ce.key)){var B=document.activeElement,Y=(0,u.G3)().rtl,$=Array.prototype.indexOf.call(ue.current.children,B);if($!==-1){var xe=d.length,Oe=$;switch(Ce.key){case(Y?v.tW.ARROW_LEFT:v.tW.ARROW_RIGHT):case v.tW.ARROW_DOWN:Oe=($+1)%xe;break;case(Y?v.tW.ARROW_RIGHT:v.tW.ARROW_LEFT):case v.tW.ARROW_UP:Oe=(xe+$-1)%xe}ue.current.children[Oe].focus()}Ce.preventDefault()}else Ce.key!==v.tW.ESCAPE&&Ce.key!==v.tW.ENTER||(Ce.preventDefault(),D());else{var Ze=d.indexOf(Pe);ue.current.children[Ze].focus(),Ce.preventDefault()}Ce.nativeEvent.stopImmediatePropagation(),Ce.stopPropagation()},children:(0,c.jsx)("div",{className:"picker-content",ref:ue,children:d.map(function(Ce,Pe){return(0,c.jsxs)("button",{className:(0,f.Z)("picker-option",{active:x===Ce.value}),onClick:function(B){B.currentTarget.focus(),U(Ce.value)},title:"".concat(Ce.text," \u2014 ").concat(Ce.keyBinding.toUpperCase()),"aria-label":Ce.text||"none","aria-keyshortcuts":Ce.keyBinding,ref:function(B){B&&Pe===0&&(ce.current=B),B&&Ce.value===x&&(ie.current=B)},onFocus:function(){U(Ce.value)},children:[Ce.icon,(0,c.jsx)("span",{className:"picker-keybinding",children:Ce.keyBinding})]},Ce.text)})})})}function a(b){var d,x=b.value,P=b.label,U=b.options,D=b.onChange,ce=b.group,ie=ce===void 0?"":ce,ue=Z().useState(!1),Ce=(0,R.Z)(ue,2),Pe=Ce[0],B=Ce[1],Y=Z().useRef(null),$=(0,u.G3)().rtl;return(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{name:ie,className:Pe?"active":"","aria-label":P,onClick:function(){return B(!Pe)},ref:Y,children:(d=U.find(function(xe){return xe.value===x}))===null||d===void 0?void 0:d.icon}),(0,c.jsx)(Z().Suspense,{fallback:"",children:Pe?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(H.J,o(o({onCloseRequest:function(xe){return xe.target!==Y.current&&B(!1)}},$?{right:5.5}:{left:-5.5}),{},{children:(0,c.jsx)(e,{options:U,value:x,label:P,onChange:D,onClose:function(){var xe;B(!1),(xe=Y.current)===null||xe===void 0||xe.focus()}})})),(0,c.jsx)("div",{className:"picker-triangle"})]}):null})]})}var i=t(3646),l=t(2335),p=t(1047),T=t(1935),X=t(5710),te=t(1974),N=t(6954),L=t(75),fe=t(8120),q=t(6340),F=t(7901);function h(b,d){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(b);d&&(P=P.filter(function(U){return Object.getOwnPropertyDescriptor(b,U).enumerable})),x.push.apply(x,P)}return x}function _(b){for(var d=1;d<arguments.length;d++){var x=arguments[d]!=null?arguments[d]:{};d%2?h(Object(x),!0).forEach(function(P){(0,y.Z)(b,P,x[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):h(Object(x)).forEach(function(P){Object.defineProperty(b,P,Object.getOwnPropertyDescriptor(x,P))})}return b}var W=function(b,d,x){var P=arguments.length>3&&arguments[3]!==void 0&&arguments[3],U=(0,q.xn)((0,L.eD)(b,d,P));return b.map(function(D){var ce;return U.get(D.id)||D.id===((ce=d.editingElement)===null||ce===void 0?void 0:ce.id)?x(D):D})},I=function(b,d,x,P){var U,D,ce=d.editingElement,ie=(0,p.Lm)(b);return(U=(D=ce&&x(ce))!==null&&D!==void 0?D:(0,L.N)(ie,d)?(0,L.PR)(ie,d,x):P)!==null&&U!==void 0?U:null},re=function(b,d,x,P){var U=new Set;return{elements:W(b,d,function(D){if((0,p.iB)(D)){var ce=x(D);U.add(ce);var ie=(0,T.BE)(D,{fontSize:ce});return(0,p.oN)(ie,(0,X.tl)(D)),ue=D,Ce=ie,ie=(0,te.Xh)(Ce)?Ce:(0,T.DR)(Ce,{x:ue.textAlign==="left"?ue.x:ue.x+(ue.width-Ce.width)/(ue.textAlign==="center"?2:1),y:ue.y+(ue.height-Ce.height)/2},!1)}var ue,Ce;return D},!0),appState:_(_({},d),{},{currentItemFontSize:U.size===1?(0,w.Z)(U)[0]:P!=null?P:d.currentItemFontSize}),commitToHistory:!0}},O=((0,F.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(b,d,x){return _(_({},x.currentItemStrokeColor&&{elements:W(b,d,function(P){return(0,fe.PD)(P.type)?(0,T.BE)(P,{strokeColor:x.currentItemStrokeColor}):P},!0)}),{},{appState:_(_({},d),x),commitToHistory:!!x.currentItemStrokeColor})},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{"aria-hidden":"true",children:(0,u.t)("labels.stroke")}),(0,c.jsx)(A.z,{type:"elementStroke",label:(0,u.t)("labels.stroke"),color:I(d,x,function(U){return U.strokeColor},x.currentItemStrokeColor),onChange:function(U){return P({currentItemStrokeColor:U})},isActive:x.openPopup==="strokeColorPicker",setActive:function(U){return P({openPopup:U?"strokeColorPicker":null})},elements:d,appState:x})]})}}),(0,F.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(b,d,x){return _(_({},x.currentItemBackgroundColor&&{elements:W(b,d,function(P){return(0,T.BE)(P,{backgroundColor:x.currentItemBackgroundColor})})}),{},{appState:_(_({},d),x),commitToHistory:!!x.currentItemBackgroundColor})},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{"aria-hidden":"true",children:(0,u.t)("labels.background")}),(0,c.jsx)(A.z,{type:"elementBackground",label:(0,u.t)("labels.background"),color:I(d,x,function(U){return U.backgroundColor},x.currentItemBackgroundColor),onChange:function(U){return P({currentItemBackgroundColor:U})},isActive:x.openPopup==="backgroundColorPicker",setActive:function(U){return P({openPopup:U?"backgroundColorPicker":null})},elements:d,appState:x})]})}}),(0,F.z)({name:"changeFillStyle",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{fillStyle:x})}),appState:_(_({},d),{},{currentItemFillStyle:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.fill")}),(0,c.jsx)(j,{options:[{value:"hachure",text:(0,u.t)("labels.hachure"),icon:i.a0},{value:"cross-hatch",text:(0,u.t)("labels.crossHatch"),icon:i.np},{value:"solid",text:(0,u.t)("labels.solid"),icon:i.X7}],group:"fill",value:I(d,x,function(U){return U.fillStyle},x.currentItemFillStyle),onChange:function(U){P(U)}})]})}}),(0,F.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{strokeWidth:x})}),appState:_(_({},d),{},{currentItemStrokeWidth:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.strokeWidth")}),(0,c.jsx)(j,{group:"stroke-width",options:[{value:1,text:(0,u.t)("labels.thin"),icon:i.ZA},{value:2,text:(0,u.t)("labels.bold"),icon:i.Wl},{value:4,text:(0,u.t)("labels.extraBold"),icon:i.m9}],value:I(d,x,function(U){return U.strokeWidth},x.currentItemStrokeWidth),onChange:function(U){return P(U)}})]})}}),(0,F.z)({name:"changeSloppiness",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{seed:(0,N.LU)(),roughness:x})}),appState:_(_({},d),{},{currentItemRoughness:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.sloppiness")}),(0,c.jsx)(j,{group:"sloppiness",options:[{value:0,text:(0,u.t)("labels.architect"),icon:i.bf},{value:1,text:(0,u.t)("labels.artist"),icon:i.kM},{value:2,text:(0,u.t)("labels.cartoonist"),icon:i.W2}],value:I(d,x,function(U){return U.roughness},x.currentItemRoughness),onChange:function(U){return P(U)}})]})}}),(0,F.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{strokeStyle:x})}),appState:_(_({},d),{},{currentItemStrokeStyle:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.strokeStyle")}),(0,c.jsx)(j,{group:"strokeStyle",options:[{value:"solid",text:(0,u.t)("labels.strokeStyle_solid"),icon:i.ZA},{value:"dashed",text:(0,u.t)("labels.strokeStyle_dashed"),icon:i.a5},{value:"dotted",text:(0,u.t)("labels.strokeStyle_dotted"),icon:i.aT}],value:I(d,x,function(U){return U.strokeStyle},x.currentItemStrokeStyle),onChange:function(U){return P(U)}})]})}}),(0,F.z)({name:"changeOpacity",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{opacity:x})},!0),appState:_(_({},d),{},{currentItemOpacity:x}),commitToHistory:!0}},PanelComponent:function(b){var d,x=b.elements,P=b.appState,U=b.updateData;return(0,c.jsxs)("label",{className:"control-label",children:[(0,u.t)("labels.opacity"),(0,c.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(D){return U(+D.target.value)},value:(d=I(x,P,function(D){return D.opacity},P.currentItemOpacity))!==null&&d!==void 0?d:void 0})]})}}),(0,F.z)({name:"changeFontSize",trackEvent:!1,perform:function(b,d,x){return re(b,d,function(){return x},x)},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.fontSize")}),(0,c.jsx)(j,{group:"font-size",options:[{value:16,text:(0,u.t)("labels.small"),icon:i.q0,testId:"fontSize-small"},{value:20,text:(0,u.t)("labels.medium"),icon:i.nq,testId:"fontSize-medium"},{value:28,text:(0,u.t)("labels.large"),icon:i.tW,testId:"fontSize-large"},{value:36,text:(0,u.t)("labels.veryLarge"),icon:i.OA,testId:"fontSize-veryLarge"}],value:I(d,x,function(U){if((0,p.iB)(U))return U.fontSize;var D=(0,X.WJ)(U);return D?D.fontSize:null},x.currentItemFontSize||l.n5),onChange:function(U){return P(U)}})]})}}),(0,F.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(b,d,x){return re(b,d,function(P){return Math.round(1/1.1*P.fontSize)})},keyTest:function(b){return b[v.tW.CTRL_OR_CMD]&&b.shiftKey&&(b.key===v.tW.CHEVRON_LEFT||b.key===v.tW.COMMA)}})),E=(0,F.z)({name:"increaseFontSize",trackEvent:!1,perform:function(b,d,x){return re(b,d,function(P){return Math.round(1.1*P.fontSize)})},keyTest:function(b){return b[v.tW.CTRL_OR_CMD]&&b.shiftKey&&(b.key===v.tW.CHEVRON_RIGHT||b.key===v.tW.PERIOD)}});(0,F.z)({name:"changeFontFamily",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,p.iB)(P)){var U=(0,T.BE)(P,{fontFamily:x});return(0,p.oN)(U,(0,X.tl)(P)),U}return P},!0),appState:_(_({},d),{},{currentItemFontFamily:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData,U=[{value:l.ut.Virgil,text:(0,u.t)("labels.handDrawn"),icon:i.Pm},{value:l.ut.Helvetica,text:(0,u.t)("labels.normal"),icon:i.vo},{value:l.ut.Cascadia,text:(0,u.t)("labels.code"),icon:i.z6}];return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.fontFamily")}),(0,c.jsx)(j,{group:"font-family",options:U,value:I(d,x,function(D){if((0,p.iB)(D))return D.fontFamily;var ce=(0,X.WJ)(D);return ce?ce.fontFamily:null},x.currentItemFontFamily||l.rk),onChange:function(D){return P(D)}})]})}}),(0,F.z)({name:"changeTextAlign",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,p.iB)(P)){var U=(0,T.BE)(P,{textAlign:x});return(0,p.oN)(U,(0,X.tl)(P)),U}return P},!0),appState:_(_({},d),{},{currentItemTextAlign:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.textAlign")}),(0,c.jsx)(j,{group:"text-align",options:[{value:"left",text:(0,u.t)("labels.left"),icon:i.rr},{value:"center",text:(0,u.t)("labels.center"),icon:i.o3},{value:"right",text:(0,u.t)("labels.right"),icon:i.oT}],value:I(d,x,function(U){if((0,p.iB)(U))return U.textAlign;var D=(0,X.WJ)(U);return D?D.textAlign:null},x.currentItemTextAlign),onChange:function(U){return P(U)}})]})}}),(0,F.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,p.iB)(P)){var U=(0,T.BE)(P,{verticalAlign:x});return(0,p.oN)(U,(0,X.tl)(P)),U}return P},!0),appState:_({},d),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsx)("fieldset",{children:(0,c.jsx)(j,{group:"text-align",options:[{value:l.oX.TOP,text:(0,u.t)("labels.alignTop"),icon:(0,c.jsx)(i.EO,{theme:x.theme}),testId:"align-top"},{value:l.oX.MIDDLE,text:(0,u.t)("labels.centerVertically"),icon:(0,c.jsx)(i.P7,{theme:x.theme}),testId:"align-middle"},{value:l.oX.BOTTOM,text:(0,u.t)("labels.alignBottom"),icon:(0,c.jsx)(i.aA,{theme:x.theme}),testId:"align-bottom"}],value:I(d,x,function(U){if((0,p.iB)(U)&&U.containerId)return U.verticalAlign;var D=(0,X.WJ)(U);return D?D.verticalAlign:null}),onChange:function(U){return P(U)}})})}}),(0,F.z)({name:"changeRoundness",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{roundness:x==="round"?{type:(0,te.QI)(P.type)?l.a6.ADAPTIVE_RADIUS:l.a6.PROPORTIONAL_RADIUS}:null})}),appState:_(_({},d),{},{currentItemRoundness:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData,U=(0,L.Zs)((0,p.Lm)(d),x).some(function(D){var ce;return((ce=D.roundness)===null||ce===void 0?void 0:ce.type)===l.a6.LEGACY});return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.edges")}),(0,c.jsx)(j,{group:"edges",options:[{value:"sharp",text:(0,u.t)("labels.sharp"),icon:i.wr},{value:"round",text:(0,u.t)("labels.round"),icon:i.DS}],value:I(d,x,function(D){return U?null:D.roundness?"round":"sharp"},(0,L.sh)(x.activeTool.type)&&x.currentItemRoundness||null),onChange:function(D){return P(D)}})]})}}),(0,F.z)({name:"changeArrowhead",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,te.bt)(P)){var U=x.position,D=x.type;if(U==="start")return(0,T.BE)(P,{startArrowhead:D});if(U==="end")return(0,T.BE)(P,{endArrowhead:D})}return P}),appState:_(_({},d),{},(0,y.Z)({},x.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",x.type)),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData,U=(0,u.G3)().rtl;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.arrowheads")}),(0,c.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,c.jsx)(a,{label:"arrowhead_start",options:[{value:null,text:(0,u.t)("labels.arrowhead_none"),icon:i.fr,keyBinding:"q"},{value:"arrow",text:(0,u.t)("labels.arrowhead_arrow"),icon:(0,c.jsx)(i.il,{flip:!U}),keyBinding:"w"},{value:"bar",text:(0,u.t)("labels.arrowhead_bar"),icon:(0,c.jsx)(i.m,{flip:!U}),keyBinding:"e"},{value:"dot",text:(0,u.t)("labels.arrowhead_dot"),icon:(0,c.jsx)(i.tn,{flip:!U}),keyBinding:"r"},{value:"triangle",text:(0,u.t)("labels.arrowhead_triangle"),icon:(0,c.jsx)(i.j8,{flip:!U}),keyBinding:"t"}],value:I(d,x,function(D){return(0,te.bt)(D)&&(0,L.Un)(D.type)?D.startArrowhead:x.currentItemStartArrowhead},x.currentItemStartArrowhead),onChange:function(D){return P({position:"start",type:D})}}),(0,c.jsx)(a,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,u.t)("labels.arrowhead_none"),keyBinding:"q",icon:i.fr},{value:"arrow",text:(0,u.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,c.jsx)(i.il,{flip:U})},{value:"bar",text:(0,u.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,c.jsx)(i.m,{flip:U})},{value:"dot",text:(0,u.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,c.jsx)(i.tn,{flip:U})},{value:"triangle",text:(0,u.t)("labels.arrowhead_triangle"),icon:(0,c.jsx)(i.j8,{flip:U}),keyBinding:"t"}],value:I(d,x,function(D){return(0,te.bt)(D)&&(0,L.Un)(D.type)?D.endArrowhead:x.currentItemEndArrowhead},x.currentItemEndArrowhead),onChange:function(D){return P({position:"end",type:D})}})]})]})}})},4958:function(ge,Q,t){t.d(Q,{u:function(){return A}});var w=t(7169),y=t(7901),f=t(6066);function c(R,n){var Z=Object.keys(R);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(R);n&&(H=H.filter(function(G){return Object.getOwnPropertyDescriptor(R,G).enumerable})),Z.push.apply(Z,H)}return Z}function j(R){for(var n=1;n<arguments.length;n++){var Z=arguments[n]!=null?arguments[n]:{};n%2?c(Object(Z),!0).forEach(function(H){(0,w.Z)(R,H,Z[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(Z)):c(Object(Z)).forEach(function(H){Object.defineProperty(R,H,Object.getOwnPropertyDescriptor(Z,H))})}return R}var A=(0,y.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(R,n){return{appState:j(j({},n),{},{showStats:!this.checked(n)}),commitToHistory:!1}},checked:function(R){return R.showStats},contextItemLabel:"stats.title",keyTest:function(R){return!R[f.tW.CTRL_OR_CMD]&&R.altKey&&R.code===f.aU.SLASH}})},5654:function(ge,Q,t){t.d(Q,{FL:function(){return _t},vD:function(){return qr},yA:function(){return M},BZ:function(){return u},mo:function(){return F.mo},uN:function(){return Tt.uN},jK:function(){return Tt.jK},FA:function(){return Tt.FA},pw:function(){return x},ZM:function(){return Tt.ZM},X9:function(){return w.X},xF:function(){return fe},pL:function(){return re},jl:function(){return dt},kt:function(){return gt},EQ:function(){return xe},nz:function(){return Wr.nz},_d:function(){return O._d},W3:function(){return P},ns:function(){return O.ns},Yy:function(){return p},V:function(){return m},zi:function(){return v},jY:function(){return ce},Pb:function(){return sr},Qs:function(){return fn},iL:function(){return Dr},u0:function(){return $t.u},Zp:function(){return F.Zp},JN:function(){return Ft},y7:function(){return Xr},s:function(){return Oe},zp:function(){return Tt.zp}});var w=t(533),y=t(1930),f=t(1935),c=t(242),j=t(75),A=t(1564),R=t(6340),n=function(V,he){for(var je=[],_e=[],Ge=null,Qe=-1,bt=(0,R.xn)((0,j.eD)(V,he,!0));++Qe<V.length;)bt.get(V[Qe].id)?(_e.length&&(je=je.concat(_e),_e=[]),je.push(Qe),Ge=Qe+1):V[Qe].isDeleted&&Ge===Qe?(Ge=Qe+1,_e.push(Qe)):_e=[];return je},Z=function(V,he,je){if("containerId"in V&&V.containerId){if(je!=="left")return he.indexOf(V);var _e=A.Z.getScene(V).getElement(V.containerId);if(_e)return he.indexOf(_e)}else{var Ge,Qe,bt=(Ge=V.boundElements)===null||Ge===void 0||(Qe=Ge.find(function(ut){return ut.type!=="arrow"}))===null||Qe===void 0?void 0:Qe.id;if(bt){if(je==="left")return he.indexOf(V);var xt=A.Z.getScene(V).getElement(bt);if(xt)return he.indexOf(xt)}}},H=function(V,he){return he.reduce(function(je,_e){var Ge=V[_e];return je[Ge.id]=Ge,je},{})},G=function(V,he,je){var _e,Ge,Qe=n(he,V),bt=H(he,Qe),xt=(Ge=0,(_e=Qe).reduce(function(ut,Rt,mt){return mt>0&&_e[mt-1]!==Rt-1&&(Ge=++Ge),(ut[Ge]||(ut[Ge]=[])).push(Rt),ut},[]));return je==="right"&&(xt=xt.reverse()),xt.forEach(function(ut,Rt){var mt=ut[0],Gt=ut[ut.length-1],er=je==="left"?mt:Gt,Ut=function(gr,ar,Cr,zr){var Ur,Kr=ar[Cr],pt=function(Rr){return!Rr.isDeleted&&(!gr.editingGroupId||Rr.groupIds.includes(gr.editingGroupId))},Ir=zr==="left"?(0,R.qr)(ar,pt,Math.max(0,Cr-1)):(0,R.cx)(ar,pt,Cr+1),cr=ar[Ir];if(!cr)return-1;if(gr.editingGroupId){var Yr;if((Kr==null?void 0:Kr.groupIds.join(""))===(cr==null?void 0:cr.groupIds.join("")))return(Yr=Z(cr,ar,zr))!==null&&Yr!==void 0?Yr:Ir;if(cr==null||!cr.groupIds.includes(gr.editingGroupId))return-1}if(!cr.groupIds.length)return(Ur=Z(cr,ar,zr))!==null&&Ur!==void 0?Ur:Ir;var tn=gr.editingGroupId?cr.groupIds[cr.groupIds.indexOf(gr.editingGroupId)-1]:cr.groupIds[cr.groupIds.length-1],Mr=(0,c.Fb)(ar,tn);return Mr.length?zr==="left"?ar.indexOf(Mr[0]):ar.indexOf(Mr[Mr.length-1]):Ir}(V,he,er,je);if(Ut!==-1&&er!==Ut){var tr=je==="left"?he.slice(0,Ut):he.slice(0,mt),Ht=he.slice(mt,Gt+1),Mt=je==="left"?he.slice(Ut,mt):he.slice(Gt+1,Ut+1),yr=je==="left"?he.slice(Gt+1):he.slice(Ut+1);he=je==="left"?[].concat((0,y.Z)(tr),(0,y.Z)(Ht),(0,y.Z)(Mt),(0,y.Z)(yr)):[].concat((0,y.Z)(tr),(0,y.Z)(Mt),(0,y.Z)(Ht),(0,y.Z)(yr))}}),he.map(function(ut){return bt[ut.id]?(0,f.ZP)(ut):ut})},le=function(V,he,je){var _e,Ge,Qe=n(V,he),bt=H(V,Qe),xt=[];if(je==="left"){if(he.editingGroupId){var ut=(0,c.Fb)(V,he.editingGroupId);if(!ut.length)return V;_e=V.indexOf(ut[0])}else _e=0;Ge=Qe[Qe.length-1]}else{if(he.editingGroupId){var Rt=(0,c.Fb)(V,he.editingGroupId);if(!Rt.length)return V;Ge=V.indexOf(Rt[Rt.length-1])}else Ge=V.length-1;_e=Qe[0]}for(var mt=_e;mt<Ge+1;mt++)Qe.includes(mt)||xt.push(V[mt]);var Gt=Object.values(bt).map(function(tr){return(0,f.ZP)(tr)}),er=V.slice(0,_e),Ut=V.slice(Ge+1);return je==="left"?[].concat((0,y.Z)(er),(0,y.Z)(Gt),xt,(0,y.Z)(Ut)):[].concat((0,y.Z)(er),xt,(0,y.Z)(Gt),(0,y.Z)(Ut))},k=function(V,he){return G(he,V,"left")},se=function(V,he){return G(he,V,"right")},pe=function(V,he){return le(V,he,"left")},Ee=function(V,he){return le(V,he,"right")},ae=t(6066),de=t(8211),ye=t(7901),C=t(3646),J=t(2335),g=t(4512),m=(0,ye.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(V,he){return{elements:k(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&!V.shiftKey&&V.code===ae.aU.BRACKET_LEFT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return he(null)},title:"".concat((0,de.t)("labels.sendBackward")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+[")),children:C.Gc})}}),M=(0,ye.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(V,he){return{elements:se(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&!V.shiftKey&&V.code===ae.aU.BRACKET_RIGHT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return he(null)},title:"".concat((0,de.t)("labels.bringForward")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+]")),children:C.t5})}}),v=(0,ye.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(V,he){return{elements:pe(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(V){return J.Um?V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.BRACKET_LEFT:V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&V.code===ae.aU.BRACKET_LEFT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return he(null)},title:"".concat((0,de.t)("labels.sendToBack")," \u2014 ").concat(J.Um?(0,R.uY)("CtrlOrCmd+Alt+["):(0,R.uY)("CtrlOrCmd+Shift+[")),children:C.pw})}}),u=(0,ye.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(V,he){return{elements:Ee(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(V){return J.Um?V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.BRACKET_RIGHT:V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&V.code===ae.aU.BRACKET_RIGHT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(je){return he(null)},title:"".concat((0,de.t)("labels.bringToFront")," \u2014 ").concat(J.Um?(0,R.uY)("CtrlOrCmd+Alt+]"):(0,R.uY)("CtrlOrCmd+Shift+]")),children:C.IN})}}),s=t(7169),o=t(1047),e=t(1974),a=t(6938);function i(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function l(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?i(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):i(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var p=(0,ye.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(V,he,je,_e){if(he.editingLinearElement)return!1;var Ge=V.reduce(function(Qe,bt){return bt.isDeleted||(0,o.iB)(bt)&&bt.containerId||bt.locked||(Qe[bt.id]=!0),Qe},{});return{appState:(0,c.bO)(l(l({},he),{},{selectedLinearElement:Object.keys(Ge).length===1&&(0,e.bt)(V[0])?new a._(V[0],_e.scene):null,editingGroupId:null,selectedElementIds:Ge}),(0,o.Lm)(V)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.key===ae.tW.A}}),T=t(1319),X=t(8290),te=t(5710);function N(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function L(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?N(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):N(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var fe=(0,ye.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(V,he){if(he.editingLinearElement){var je=a._.duplicateSelectedPoints(he);return!!je&&{elements:V,appState:je.appState,commitToHistory:!0}}return L(L({},q(V,he)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.key===ae.tW.D},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{type:"button",icon:C.NA,title:"".concat((0,de.t)("labels.duplicateSelection")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+D")),"aria-label":(0,de.t)("labels.duplicateSelection"),onClick:function(){return _e(null)},visible:(0,j.N)((0,o.Lm)(he),je)})}}),q=function(V,he){for(var je=new Map,_e=[],Ge=[],Qe=new Map,bt=function(Ut){var tr=(0,o.Sy)(he.editingGroupId,je,Ut,{x:Ut.x+J.k/2,y:Ut.y+J.k/2});return Qe.set(Ut.id,tr.id),Ge.push(Ut),_e.push(tr),tr},xt=[],ut=0,Rt=(0,R.xn)((0,j.eD)(V,he,!0));ut<V.length;){var mt=V[ut];if(Rt.get(mt.id)){if(mt.groupIds.length){var Gt=(0,c.yO)(he,mt);if(Gt){var er=(0,c.Fb)(V,Gt);xt.push.apply(xt,(0,y.Z)(er).concat((0,y.Z)(er.map(function(Ut){return bt(Ut)})))),ut+=er.length;continue}}xt.push(mt,bt(mt))}else xt.push(mt);ut++}return(0,te.P7)(xt,Ge,Qe),(0,X.ek)(xt,Ge,Qe),{elements:xt,appState:(0,c.bO)(L(L({},he),{},{selectedGroupIds:{},selectedElementIds:_e.reduce(function(Ut,tr){return(0,e.Xh)(tr)||(Ut[tr.id]=!0),Ut},{})}),(0,o.Lm)(xt))}},F=(t(6208),t(2416)),h=t(2577),_=t(6552);function W(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function I(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?W(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):W(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var re=(0,ye.z)({name:"finalize",trackEvent:!1,perform:function(V,he,je,_e){var Ge,Qe=_e.canvas,bt=_e.focusContainer,xt=_e.scene;if(he.editingLinearElement){var ut=he.editingLinearElement,Rt=ut.elementId,mt=ut.startBindingElement,Gt=ut.endBindingElement,er=a._.getElement(Rt);if(er)return(0,e.Mn)(er)&&(0,X.HG)(er,mt,Gt),{elements:er.points.length<2||(0,o.QD)(er)?V.filter(function(cr){return cr.id!==er.id}):void 0,appState:I(I({},he),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Ut=V,tr=he.pendingImageElementId&&xt.getElement(he.pendingImageElementId);tr&&(0,f.DR)(tr,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&bt();var Ht,Mt=he.multiElement?he.multiElement:((Ge=he.editingElement)===null||Ge===void 0?void 0:Ge.type)==="freedraw"?he.editingElement:null;if(Mt){if(Mt.type!=="freedraw"&&he.lastPointerDownWith!=="touch"){var yr=Mt.points,gr=Mt.lastCommittedPoint;gr&&yr[yr.length-1]===gr||(0,f.DR)(Mt,{points:Mt.points.slice(0,-1)})}(0,o.QD)(Mt)&&(Ut=Ut.slice(0,-1));var ar=(0,_.g6)(Mt.points,he.zoom.value);if((Mt.type==="line"||Mt.type==="freedraw")&&ar){var Cr=Mt.points,zr=Cr[0];(0,f.DR)(Mt,{points:Cr.map(function(cr,Yr){return Yr===Cr.length-1?[zr[0],zr[1]]:cr})})}if((0,e.Mn)(Mt)&&!ar&&Mt.points.length>1){var Ur=a._.getPointAtIndexGlobalCoordinates(Mt,-1),Kr=(0,h.Z)(Ur,2),pt=Kr[0],Ir=Kr[1];(0,X.R)(Mt,he,A.Z.getScene(Mt),{x:pt,y:Ir})}he.activeTool.locked||he.activeTool.type==="freedraw"||(he.selectedElementIds[Mt.id]=!0)}return(he.activeTool.locked||he.activeTool.type==="freedraw")&&Mt||(0,R.z8)(Qe),Ht=he.activeTool.type==="eraser"?(0,R.Om)(he,I(I({},he.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,R.Om)(he,{type:"selection"}),{elements:Ut,appState:I(I({},he),{},{cursorButton:"up",activeTool:(he.activeTool.locked||he.activeTool.type==="freedraw")&&Mt?he.activeTool:Ht,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Mt&&!he.activeTool.locked&&he.activeTool.type!=="freedraw"?I(I({},he.selectedElementIds),{},(0,s.Z)({},Mt.id,!0)):he.selectedElementIds,selectedLinearElement:Mt&&(0,e.bt)(Mt)?new a._(Mt,xt):he.selectedLinearElement,pendingImageElementId:null}),commitToHistory:he.activeTool.type==="freedraw"}},keyTest:function(V,he){return V.key===ae.tW.ESCAPE&&(he.editingLinearElement!==null||!he.draggingElement&&he.multiElement===null)||(V.key===ae.tW.ESCAPE||V.key===ae.tW.ENTER)&&he.multiElement!==null},PanelComponent:function(V){var he=V.appState,je=V.updateData,_e=V.data;return(0,g.jsx)(T.V,{type:"button",icon:C.$c,title:(0,de.t)("buttons.done"),"aria-label":(0,de.t)("buttons.done"),onClick:je,visible:he.multiElement!=null,size:(_e==null?void 0:_e.size)||"medium"})}}),O=t(8671);function E(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function b(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?E(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):E(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var d="{}",x=(0,ye.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(V,he){var je=[],_e=V.find(function(Qe){return he.selectedElementIds[Qe.id]});if(je.push(_e),_e&&(0,e.Xo)(_e)){var Ge=(0,te.WJ)(_e);je.push(Ge)}return _e&&(d=JSON.stringify(je)),{appState:b(b({},he),{},{toast:{message:(0,de.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.C}}),P=(0,ye.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(V,he){var je=JSON.parse(d),_e=je[0],Ge=je[1];if(!(0,o.r2)(_e))return{elements:V,commitToHistory:!1};var Qe=(0,j.eD)(V,he,!0),bt=Qe.map(function(xt){return xt.id});return{elements:V.map(function(xt){if(bt.includes(xt.id)){var ut,Rt,mt,Gt,er,Ut,tr,Ht=_e;if((0,o.iB)(xt)&&xt.containerId&&(Ht=Ge),!Ht)return xt;var Mt=(0,f.BE)(xt,{backgroundColor:(ut=Ht)===null||ut===void 0?void 0:ut.backgroundColor,strokeWidth:(Rt=Ht)===null||Rt===void 0?void 0:Rt.strokeWidth,strokeColor:(mt=Ht)===null||mt===void 0?void 0:mt.strokeColor,strokeStyle:(Gt=Ht)===null||Gt===void 0?void 0:Gt.strokeStyle,fillStyle:(er=Ht)===null||er===void 0?void 0:er.fillStyle,opacity:(Ut=Ht)===null||Ut===void 0?void 0:Ut.opacity,roughness:(tr=Ht)===null||tr===void 0?void 0:tr.roughness,roundness:Ht.roundness?(0,e.eK)(Ht.roundness.type,xt)?Ht.roundness:(0,e.UQ)(xt):null});if((0,o.iB)(Mt)){var yr,gr,ar,Cr=null;(Mt=(0,f.BE)(Mt,{fontSize:((yr=Ht)===null||yr===void 0?void 0:yr.fontSize)||J.n5,fontFamily:((gr=Ht)===null||gr===void 0?void 0:gr.fontFamily)||J.rk,textAlign:((ar=Ht)===null||ar===void 0?void 0:ar.textAlign)||J.Hg})).containerId&&(Cr=Qe.find(function(zr){return(0,o.iB)(Mt)&&zr.id===Mt.containerId})||null),(0,o.oN)(Mt,Cr)}return Mt.type==="arrow"&&(Mt=(0,f.BE)(Mt,{startArrowhead:Ht.startArrowhead,endArrowhead:Ht.endArrowhead})),Mt}return xt}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.V}});function U(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function D(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?U(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):U(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}(0,ye.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(V,he){return{appState:D(D({},he),{},{openMenu:he.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(V){var he=V.appState,je=V.updateData;return(0,g.jsx)(T.V,{type:"button",icon:C.RY,"aria-label":(0,de.t)("buttons.menu"),onClick:je,selected:he.openMenu==="canvas"})}}),(0,ye.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(V,he){return{appState:D(D({},he),{},{openMenu:he.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{visible:(0,o.RT)(je,(0,o.Lm)(he)),type:"button",icon:C.DG,"aria-label":(0,de.t)("buttons.edit"),onClick:_e,selected:je.openMenu==="shape"})}}),(0,ye.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(V){return!(0,R.rB)()}},perform:function(){return(0,R.rB)()||(0,R.wo)(),(0,R.rB)()&&(0,R.Pr)(),{commitToHistory:!1}},keyTest:function(V){return V.key===ae.tW.F&&!V[ae.tW.CTRL_OR_CMD]}});var ce=(0,ye.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(V,he,je,_e){var Ge=_e.focusContainer;return he.openDialog==="help"&&Ge(),{appState:D(D({},he),{},{openDialog:he.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(V){return V.key===ae.tW.QUESTION_MARK}}),ie=t(6655),ue=t(6954);function Ce(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Pe(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Ce(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Ce(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}function B(V,he){var je=typeof Symbol!="undefined"&&V[Symbol.iterator]||V["@@iterator"];if(!je){if(Array.isArray(V)||(je=function(ut,Rt){if(!!ut){if(typeof ut=="string")return Y(ut,Rt);var mt=Object.prototype.toString.call(ut).slice(8,-1);if(mt==="Object"&&ut.constructor&&(mt=ut.constructor.name),mt==="Map"||mt==="Set")return Array.from(ut);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return Y(ut,Rt)}}(V))||he&&V&&typeof V.length=="number"){je&&(V=je);var _e=0,Ge=function(){};return{s:Ge,n:function(){return _e>=V.length?{done:!0}:{done:!1,value:V[_e++]}},e:function(ut){throw ut},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe,bt=!0,xt=!1;return{s:function(){je=je.call(V)},n:function(){var ut=je.next();return bt=ut.done,ut},e:function(ut){xt=!0,Qe=ut},f:function(){try{bt||je.return==null||je.return()}finally{if(xt)throw Qe}}}}function Y(V,he){(he==null||he>V.length)&&(he=V.length);for(var je=0,_e=new Array(he);je<he;je++)_e[je]=V[je];return _e}var $=function(V,he){var je=(0,j.eD)((0,o.Lm)(V),he,!0);return je.length>=2&&!function(_e){if(_e.length>=2){var Ge,Qe=B(_e[0].groupIds);try{var bt=function(){var ut=Ge.value;if(_e.reduce(function(Rt,mt){return Rt&&(0,c.Nd)(mt,ut)},!0))return{v:!0}};for(Qe.s();!(Ge=Qe.n()).done;){var xt=bt();if((0,ie.Z)(xt)==="object")return xt.v}}catch(ut){Qe.e(ut)}finally{Qe.f()}}return!1}(je)},xe=(0,ye.z)({name:"group",trackEvent:{category:"element"},perform:function(V,he){var je=(0,j.eD)((0,o.Lm)(V),he,!0);if(je.length<2)return{appState:he,elements:V,commitToHistory:!1};var _e=(0,c.iJ)(he);if(_e.length===1){var Ge=_e[0],Qe=new Set((0,c.Fb)(V,Ge).map(function(Mt){return Mt.id})),bt=new Set(je.map(function(Mt){return Mt.id}));if(new Set([].concat((0,y.Z)(Array.from(Qe)),(0,y.Z)(Array.from(bt)))).size===Qe.size)return{appState:he,elements:V,commitToHistory:!1}}var xt=(0,ue.kb)(),ut=(0,R.xn)(je),Rt=V.map(function(Mt){return ut.get(Mt.id)?(0,f.BE)(Mt,{groupIds:(0,c.S_)(Mt.groupIds,xt,he.editingGroupId)}):Mt}),mt=(0,c.Fb)(Rt,xt),Gt=mt[mt.length-1],er=Rt.lastIndexOf(Gt),Ut=Rt.slice(er+1),tr=Rt.slice(0,er).filter(function(Mt){return!(0,c.Nd)(Mt,xt)}),Ht=[].concat((0,y.Z)(tr),(0,y.Z)(mt),(0,y.Z)(Ut));return{appState:(0,c.F$)(xt,Pe(Pe({},he),{},{selectedGroupIds:{}}),(0,o.Lm)(Ht)),elements:Ht,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(V,he){return $(V,he)},keyTest:function(V){return!V.shiftKey&&V[ae.tW.CTRL_OR_CMD]&&V.key===ae.tW.G},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!$(he,je),type:"button",icon:(0,g.jsx)(C.BF,{theme:je.theme}),onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.group")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+G")),"aria-label":(0,de.t)("labels.group"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),Oe=(0,ye.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(V,he){if((0,c.iJ)(he).length===0)return{appState:he,elements:V,commitToHistory:!1};var je=[],_e=V.map(function(Qe){(0,e.Xh)(Qe)&&je.push(Qe.id);var bt=(0,c.h6)(Qe.groupIds,he.selectedGroupIds);return bt.length===Qe.groupIds.length?Qe:(0,f.BE)(Qe,{groupIds:bt})}),Ge=(0,c.bO)(Pe(Pe({},he),{},{selectedGroupIds:{}}),(0,o.Lm)(_e));return je.forEach(function(Qe){return Ge.selectedElementIds[Qe]=!1}),{appState:Ge,elements:_e,commitToHistory:!0}},keyTest:function(V){return V.shiftKey&&V[ae.tW.CTRL_OR_CMD]&&V.key===ae.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(V,he){return(0,c.iJ)(he).length>0},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{type:"button",hidden:(0,c.iJ)(je).length===0,icon:(0,g.jsx)(C.RJ,{theme:je.theme}),onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.ungroup")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,de.t)("labels.ungroup"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),Ze=t(8982),Fe=t(487),Je=t.n(Fe),Ke=t(631),Be=t.n(Ke),Le=t(2052),ne=t.n(Le),me=t(4010),ve=t.n(me),we=t(1469),Ie=t.n(we),Te=t(9329),ze=t.n(Te),We=t(3729),He={};He.styleTagTransform=ze(),He.setAttributes=ve(),He.insert=ne().bind(null,"head"),He.domAPI=Be(),He.insertStyleElement=Ie(),Je()(We.Z,He),We.Z&&We.Z.locals&&We.Z.locals;var Ye=t(9787),et=function(V){var he=V.color,je=V.onClick,_e=V.name,Ge=V.src,Qe=(0,Ze.f)(_e),bt=(0,Ye.useState)(!1),xt=(0,h.Z)(bt,2),ut=xt[0],Rt=xt[1],mt=!ut&&Ge,Gt=mt?void 0:{background:he};return(0,g.jsx)("div",{className:"Avatar",style:Gt,onClick:je,children:mt?(0,g.jsx)("img",{className:"Avatar-img",src:Ge,alt:Qe,referrerPolicy:"no-referrer",onError:function(){return Rt(!0)}}):Qe})},at=t(2264);function $e(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function tt(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?$e(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):$e(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}(0,ye.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(V,he,je){var _e=je;return _e?{appState:tt(tt(tt({},he),(0,at.s)({scenePoint:_e,viewportDimensions:{width:he.width,height:he.height},zoom:he.zoom})),{},{openMenu:he.openMenu==="canvas"?null:he.openMenu}),commitToHistory:!1}:{appState:he,commitToHistory:!1}},PanelComponent:function(V){var he=V.appState,je=V.updateData,_e=V.data,Ge=(0,h.Z)(_e,2),Qe=Ge[0],bt=Ge[1],xt=(0,Ze.X)(Qe,he),ut=xt.background,Rt=xt.stroke;return(0,g.jsx)(et,{color:ut,border:Rt,onClick:function(){return je(bt.pointer)},name:bt.username||"",src:bt.avatarUrl})}});var ct=t(2791);function Et(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Pt(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Et(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Et(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var _t=(0,ye.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(V,he,je,_e){var Ge=(0,j.eD)((0,o.Lm)(V),he,!0);return Ge.some(function(Qe){return Qe.type==="image"})?{commitToHistory:!1,appState:Pt(Pt({},he),{},{errorMessage:"Support for adding images to the library coming soon!"})}:_e.library.getLatestLibrary().then(function(Qe){return _e.library.setLibrary([{id:(0,ue.kb)(),status:"unpublished",elements:Ge.map(ct.OL),created:Date.now()}].concat((0,y.Z)(Qe)))}).then(function(){return{commitToHistory:!1,appState:Pt(Pt({},he),{},{toast:{message:(0,de.t)("toast.addedToLibrary")}})}}).catch(function(Qe){return{commitToHistory:!1,appState:Pt(Pt({},he),{},{errorMessage:Qe.message})}})},contextItemLabel:"labels.addToLibrary"}),vt=t(8925);function yt(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function ft(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?yt(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):yt(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var St=function(V,he,je){var _e=je.axis,Ge=je.position,Qe=(0,vt.v2)(V),bt=_e==="x"?["minX","maxX"]:["minY","maxY"],xt=(0,h.Z)(bt,2),ut=xt[0],Rt=xt[1],mt={x:0,y:0};return ft(ft({},mt),{},Ge==="start"?(0,s.Z)({},_e,he[ut]-Qe[ut]):Ge==="end"?(0,s.Z)({},_e,he[Rt]-Qe[Rt]):(0,s.Z)({},_e,(he[ut]+he[Rt])/2-(Qe[ut]+Qe[Rt])/2))},Yt=function(V,he){return(0,j.eD)((0,o.Lm)(V),he).length>1},qt=function(V,he,je){var _e=function(Qe,bt){var xt=(0,c.AI)(Qe),ut=(0,vt.v2)(Qe);return xt.flatMap(function(Rt){var mt=St(Rt,ut,bt);return Rt.map(function(Gt){return(0,f.BE)(Gt,{x:Gt.x+mt.x,y:Gt.y+mt.y})})})}((0,j.eD)((0,o.Lm)(V),he),je),Ge=(0,R.xn)(_e);return V.map(function(Qe){return Ge.get(Qe.id)||Qe})};(0,ye.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ae.tW.ARROW_UP},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:C.Ct,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignTop")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,de.t)("labels.alignTop"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),(0,ye.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ae.tW.ARROW_DOWN},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:C.HL,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignBottom")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,de.t)("labels.alignBottom"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),(0,ye.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ae.tW.ARROW_LEFT},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:C.xs,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignLeft")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,de.t)("labels.alignLeft"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),(0,ye.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ae.tW.ARROW_RIGHT},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:C.mh,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignRight")," \u2014 ").concat((0,R.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,de.t)("labels.alignRight"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),(0,ye.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:C.ST,onClick:function(){return _e(null)},title:(0,de.t)("labels.centerVertically"),"aria-label":(0,de.t)("labels.centerVertically"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),(0,ye.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:C.gK,onClick:function(){return _e(null)},title:(0,de.t)("labels.centerHorizontally"),"aria-label":(0,de.t)("labels.centerHorizontally"),visible:(0,j.N)((0,o.Lm)(he),je)})}});function Ct(V,he){var je=typeof Symbol!="undefined"&&V[Symbol.iterator]||V["@@iterator"];if(!je){if(Array.isArray(V)||(je=function(ut,Rt){if(!!ut){if(typeof ut=="string")return At(ut,Rt);var mt=Object.prototype.toString.call(ut).slice(8,-1);if(mt==="Object"&&ut.constructor&&(mt=ut.constructor.name),mt==="Map"||mt==="Set")return Array.from(ut);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return At(ut,Rt)}}(V))||he&&V&&typeof V.length=="number"){je&&(V=je);var _e=0,Ge=function(){};return{s:Ge,n:function(){return _e>=V.length?{done:!0}:{done:!1,value:V[_e++]}},e:function(ut){throw ut},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe,bt=!0,xt=!1;return{s:function(){je=je.call(V)},n:function(){var ut=je.next();return bt=ut.done,ut},e:function(ut){xt=!0,Qe=ut},f:function(){try{bt||je.return==null||je.return()}finally{if(xt)throw Qe}}}}function At(V,he){(he==null||he>V.length)&&(he=V.length);for(var je=0,_e=new Array(he);je<he;je++)_e[je]=V[je];return _e}var Ne=function(V,he){return(0,j.eD)((0,o.Lm)(V),he).length>1},Ue=function(V,he,je){var _e=function(Qe,bt){var xt,ut=bt.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Rt=(0,h.Z)(ut,4),mt=Rt[0],Gt=Rt[1],er=Rt[2],Ut=Rt[3],tr=(0,vt.v2)(Qe),Ht=(0,c.AI)(Qe).map(function(pt){return[pt,(0,vt.v2)(pt)]}).sort(function(pt,Ir){return pt[1][Gt]-Ir[1][Gt]}),Mt=0,yr=Ct(Ht);try{for(yr.s();!(xt=yr.n()).done;)Mt+=xt.value[1][Ut]}catch(pt){yr.e(pt)}finally{yr.f()}var gr=(tr[Ut]-Mt)/(Ht.length-1);if(gr<0){var ar=Ht.findIndex(function(pt){return pt[1][mt]===tr[mt]}),Cr=Ht.findIndex(function(pt){return pt[1][er]===tr[er]}),zr=(Ht[Cr][1][Gt]-Ht[ar][1][Gt])/(Ht.length-1),Ur=Ht[ar][1][Gt];return Ht.flatMap(function(pt,Ir){var cr=(0,h.Z)(pt,2),Yr=cr[0],tn=cr[1],Mr={x:0,y:0};return Ir!==ar&&Ir!==Cr&&(Ur+=zr,Mr[bt.axis]=Ur-tn[Gt]),Yr.map(function(Rr){return(0,f.BE)(Rr,{x:Rr.x+Mr.x,y:Rr.y+Mr.y})})})}var Kr=tr[mt];return Ht.flatMap(function(pt){var Ir=(0,h.Z)(pt,2),cr=Ir[0],Yr=Ir[1],tn={x:0,y:0};return tn[bt.axis]=Kr-Yr[mt],Kr+=gr,Kr+=Yr[Ut],cr.map(function(Mr){return(0,f.BE)(Mr,{x:Mr.x+tn.x,y:Mr.y+tn.y})})})}((0,j.eD)((0,o.Lm)(V),he),je),Ge=(0,R.xn)(_e);return V.map(function(Qe){return Ge.get(Qe.id)||Qe})},ot=((0,ye.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:Ue(V,he,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(V){return!V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.H},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Ne(he,je),type:"button",icon:C.uD,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.distributeHorizontally")," \u2014 ").concat((0,R.uY)("Alt+H")),"aria-label":(0,de.t)("labels.distributeHorizontally"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),(0,ye.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:Ue(V,he,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(V){return!V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.V},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Ne(he,je),type:"button",icon:C.W5,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.distributeVertically")," \u2014 ").concat((0,R.uY)("Alt+V")),"aria-label":(0,de.t)("labels.distributeVertically"),visible:(0,j.N)((0,o.Lm)(he),je)})}}),t(8634)),it=t(267),dt=(0,ye.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(V,he){return{elements:jt(V,he,"horizontal"),appState:he,commitToHistory:!0}},keyTest:function(V){return V.shiftKey&&V.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",predicate:function(V,he){return function(je,_e){var Ge=(0,j.eD)((0,o.Lm)(je),_e);return Ge.length===1&&Ge[0].type!=="text"}(V,he)}}),gt=(0,ye.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(V,he){return{elements:jt(V,he,"vertical"),appState:he,commitToHistory:!0}},keyTest:function(V){return V.shiftKey&&V.code==="KeyV"&&!V[ae.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function(V,he){return function(je,_e){return(0,j.eD)((0,o.Lm)(je),_e).length===1}(V,he)}}),jt=function(V,he,je){var _e=(0,j.eD)((0,o.Lm)(V),he);if(_e.length>1)return V;var Ge=Ot(_e,he,je),Qe=(0,R.xn)(Ge);return V.map(function(bt){return Qe.get(bt.id)||bt})},Ot=function(V,he,je){return V.forEach(function(_e){Zt(_e,he),je==="vertical"&&Bt(_e,Math.PI)}),V},Zt=function(V,he){var je=V.x,_e=V.y,Ge=V.width,Qe=V.height,bt=(0,ot.LW)(V.angle);(0,f.DR)(V,{angle:(0,ot.LW)(0)});var xt=(0,it.PC)(V,he.zoom),ut=!0,Rt=xt.nw;if(Rt||(ut=!1,Rt=xt.ne)){var mt,Gt=0;(0,e.bt)(V)&&V.points.length<3&&(Gt=2*V.points.reduce(function(ar,Cr){return Math.max(ar,Cr[0])},0)-V.width),(0,e.bt)(V)&&(mt=(0,vt.Ut)(V,V.points));var er=(0,vt.qf)(V);if((0,e.bt)(V)&&V.points.length<3){for(var Ut=1;Ut<V.points.length;Ut++)a._.movePoints(V,[{index:Ut,point:[-V.points[Ut][0],V.points[Ut][1]]}]);a._.normalizePoints(V)}else{var tr=mt?mt[2]-mt[0]:er[2]-er[0],Ht=mt?[mt[0],mt[1]]:[er[0],er[1]];(0,ot.l2)(new Map().set(V.id,V),!1,V,ut?"nw":"ne",!0,ut?Ht[0]+tr:Ht[0]-tr,Ht[1])}var Mt=(0,ot.LW)(2*Math.PI-bt);if(Mt<0&&(Mt=(0,ot.LW)(Mt+2*Math.PI)),(0,f.DR)(V,{angle:Mt}),(0,f.DR)(V,{x:je+Gt,y:_e,width:Ge,height:Qe}),(0,X.Ww)(V),mt&&(0,e.bt)(V)){var yr=(0,vt.Ut)(V,V.points),gr=mt[0]-yr[0]+(mt[2]-yr[2]);(0,f.DR)(V,{x:V.x+.5*gr,y:V.y,width:Ge,height:Qe})}}else(0,f.DR)(V,{angle:bt})},Bt=function(V,he){var je=V.x,_e=V.y,Ge=(0,ot.LW)(V.angle+he);Ge<0&&(Ge=(0,ot.LW)(2*Math.PI+Ge)),(0,f.DR)(V,{angle:Ge}),(0,f.DR)(V,{x:je,y:_e})},Tt=t(4688);function Jt(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function or(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Jt(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Jt(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var sr=(0,ye.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(V){return!V.gridSize}},perform:function(V,he){return{appState:or(or({},he),{},{gridSize:this.checked(he)?null:J.k}),commitToHistory:!1}},checked:function(V){return V.gridSize!==null},predicate:function(V,he,je){return je.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(V){return V[ae.tW.CTRL_OR_CMD]&&V.code===ae.aU.QUOTE}});function ir(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function zt(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?ir(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):ir(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var Ft=(0,ye.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(V){return!V.zenModeEnabled}},perform:function(V,he){return{appState:zt(zt({},he),{},{zenModeEnabled:!this.checked(he)}),commitToHistory:!1}},checked:function(V){return V.zenModeEnabled},predicate:function(V,he,je){return je.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(V){return!V[ae.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ae.aU.Z}}),$t=t(4958),lr=t(6906);function Or(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Vr(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Or(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Or(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var Xr=(0,ye.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(V,he){return(0,j.eD)(V,he).some(function(je){return(0,e.Xo)(je)})},perform:function(V,he){return(0,j.eD)((0,o.Lm)(V),he).forEach(function(je){var _e=(0,te.WJ)(je);if(_e){var Ge,Qe=(0,te.X1)(_e.originalText,(0,R.mO)(_e)),bt=Qe.width,xt=Qe.height,ut=Qe.baseline,Rt=(0,lr.eR)(je.id);(0,lr.kT)(je.id),(0,f.DR)(_e,{containerId:null,width:bt,height:xt,baseline:ut,text:_e.originalText}),(0,f.DR)(je,{boundElements:(Ge=je.boundElements)===null||Ge===void 0?void 0:Ge.filter(function(mt){return mt.id!==_e.id}),height:Rt||je.height})}}),{elements:V,appState:he,commitToHistory:!0}}}),qr=(0,ye.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(V,he){var je=(0,j.eD)(V,he);if(je.length===2){var _e,Ge=(0,o.iB)(je[0])||(0,o.iB)(je[1]);if((0,e.mG)(je[0])?_e=je[0]:(0,e.mG)(je[1])&&(_e=je[1]),Ge&&_e&&(0,te.WJ)(_e)===null)return!0}return!1},perform:function(V,he){var je,_e,Ge=(0,j.eD)((0,o.Lm)(V),he);(0,o.iB)(Ge[0])&&(0,e.mG)(Ge[1])?(je=Ge[0],_e=Ge[1]):(je=Ge[1],_e=Ge[0]),(0,f.DR)(je,{containerId:_e.id,verticalAlign:J.oX.MIDDLE}),(0,f.DR)(_e,{boundElements:(_e.boundElements||[]).concat({type:"text",id:je.id})}),(0,te.oN)(je,_e);var Qe=V.slice(),bt=Qe.findIndex(function(ut){return ut.id===je.id});Qe.splice(bt,1);var xt=Qe.findIndex(function(ut){return ut.id===_e.id});return Qe.splice(xt+1,0,je),{elements:Qe,appState:Vr(Vr({},he),{},{selectedElementIds:(0,s.Z)({},_e.id,!0)}),commitToHistory:!0}}}),Wr=t(4929);function fr(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Qr(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?fr(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):fr(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var Dr=(0,ye.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(V,he){var je=(0,j.eD)(V,he,!0);if(!je.length)return!1;var _e=Fr(je),Ge=(0,R.xn)(je),Qe=_e==="lock";return{elements:V.map(function(bt){return Ge.has(bt.id)?(0,f.BE)(bt,{locked:Qe}):bt}),appState:Qr(Qr({},he),{},{selectedLinearElement:Qe?null:he.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(V,he){var je=(0,j.eD)(V,he,!1);return je.length===1?je[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":Fr(je)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(V,he,je){return V.key.toLocaleLowerCase()===ae.tW.L&&V[ae.tW.CTRL_OR_CMD]&&V.shiftKey&&(0,j.eD)(je,he,!1).length>0}}),Fr=function(V){return V.some(function(he){return!he.locked})?"lock":"unlock"};function en(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Jr(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?en(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):en(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var fn=(0,ye.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(V,he){var je=(0,j.eD)(V,he);return!(je.length!==1||!(0,e.bt)(je[0]))},perform:function(V,he,je,_e){var Ge,Qe=(0,j.eD)((0,o.Lm)(V),he,!0)[0],bt=((Ge=he.editingLinearElement)===null||Ge===void 0?void 0:Ge.elementId)===Qe.id?null:new a._(Qe,_e.scene);return{appState:Jr(Jr({},he),{},{editingLinearElement:bt}),commitToHistory:!1}},contextItemLabel:function(V,he){var je,_e=(0,j.eD)((0,o.Lm)(V),he,!0)[0];return((je=he.editingLinearElement)===null||je===void 0?void 0:je.elementId)===_e.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(ge,Q,t){t.d(Q,{N:function(){return w},z:function(){return y}});var w=[],y=function(f){return w=w.concat(f),f}},785:function(ge,Q,t){t.d(Q,{C:function(){return j}});var w=t(2335),y=t(8211),f=t(6340),c={toggleTheme:[(0,f.uY)("Shift+Alt+D")],saveScene:[(0,f.uY)("CtrlOrCmd+S")],loadScene:[(0,f.uY)("CtrlOrCmd+O")],imageExport:[(0,f.uY)("CtrlOrCmd+Shift+E")],cut:[(0,f.uY)("CtrlOrCmd+X")],copy:[(0,f.uY)("CtrlOrCmd+C")],paste:[(0,f.uY)("CtrlOrCmd+V")],copyStyles:[(0,f.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,f.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,f.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,f.uY)("Delete")],duplicateSelection:[(0,f.uY)("CtrlOrCmd+D"),(0,f.uY)("Alt+".concat((0,y.t)("helpDialog.drag")))],sendBackward:[(0,f.uY)("CtrlOrCmd+[")],bringForward:[(0,f.uY)("CtrlOrCmd+]")],sendToBack:[w.Um?(0,f.uY)("CtrlOrCmd+Alt+["):(0,f.uY)("CtrlOrCmd+Shift+[")],bringToFront:[w.Um?(0,f.uY)("CtrlOrCmd+Alt+]"):(0,f.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,f.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,f.uY)("CtrlOrCmd+G")],ungroup:[(0,f.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,f.uY)("CtrlOrCmd+'")],zenMode:[(0,f.uY)("Alt+Z")],stats:[(0,f.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,f.uY)("Shift+H")],flipVertical:[(0,f.uY)("Shift+V")],viewMode:[(0,f.uY)("Alt+R")],hyperlink:[(0,f.uY)("CtrlOrCmd+K")],toggleLock:[(0,f.uY)("CtrlOrCmd+Shift+L")]},j=function(A){var R=c[A];return R&&R.length>0?R[0]:""}},7047:function(ge,Q,t){var w,y;t.d(Q,{L:function(){return f}});var f=typeof process!="undefined"&&(w={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&w!==void 0&&w.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window!="undefined"&&window.gtag?function(c,j,A,R){try{window.gtag("event",j,{event_category:c,event_label:A,value:R})}catch(n){console.error("error logging to ga",n)}}:(typeof process!="undefined"&&(y={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&y!==void 0&&y.JEST_WORKER_ID,function(c,j,A,R){})},8897:function(ge,Q,t){t.d(Q,{EN:function(){return G},eS:function(){return H},im:function(){return A},l$:function(){return le},s:function(){return Z}});var w=t(5284),y=t(2335),f=t(8211),c=t(6340),j=y.ZB.includes(devicePixelRatio)?devicePixelRatio:1,A=function(){return{showWelcomeScreen:!1,theme:y.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:y.rk,currentItemFontSize:y.n5,currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:w.black,currentItemRoundness:"round",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:y.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:!1,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:j,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,f.t)("labels.untitled"),"-").concat((0,c.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:w.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},R={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},n=function(k,se){for(var pe={},Ee=0,ae=Object.keys(k);Ee<ae.length;Ee++){var de=ae[Ee],ye=R[de];if(ye!=null&&ye[se]){var C=k[de];pe[de]=C}}return pe},Z=function(k){return n(k,"export")},H=function(k){return n(k,"server")},G=function(k){return k.activeTool.type==="eraser"},le=function(k){return k.activeTool.type==="hand"}},5674:function(ge,Q,t){t.d(Q,{dz:function(){return C},i$:function(){return Ee},ps:function(){return v}});var w=t(1930),y=t(7169),f=t(2577),c=t(56),j=t(2335),A=t(1047),R=t(6954);function n(u,s){var o=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!o){if(Array.isArray(u)||(o=function(T,X){if(!!T){if(typeof T=="string")return Z(T,X);var te=Object.prototype.toString.call(T).slice(8,-1);if(te==="Object"&&T.constructor&&(te=T.constructor.name),te==="Map"||te==="Set")return Array.from(T);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return Z(T,X)}}(u))||s&&u&&typeof u.length=="number"){o&&(u=o);var e=0,a=function(){};return{s:a,n:function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}},e:function(T){throw T},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,l=!0,p=!1;return{s:function(){o=o.call(u)},n:function(){var T=o.next();return l=T.done,T},e:function(T){p=!0,i=T},f:function(){try{l||o.return==null||o.return()}finally{if(p)throw i}}}}function Z(u,s){(s==null||s>u.length)&&(s=u.length);for(var o=0,e=new Array(s);o<s;o++)e[o]=u[o];return e}function H(u,s){var o=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);s&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),o.push.apply(o,e)}return o}function G(u){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?H(Object(o),!0).forEach(function(e){(0,y.Z)(u,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(o)):H(Object(o)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(o,e))})}return u}var le=32,k=12,se=256,pe="NOT_SPREADSHEET",Ee="VALID_SPREADSHEET",ae=function(u){var s=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(u);return s?parseFloat("".concat((s[1]||s[2])+s[3]).replace(/,/g,"")):null},de=function(u,s){return u.slice(1).every(function(o){return ae(o[s])!==null})},ye=function(u){var s=u[0].length;if(s>2)return{type:pe,reason:"More than 2 columns"};if(s===1){if(!de(u,0))return{type:pe,reason:"Value is not numeric"};var o=ae(u[0][0])===null,e=(o?u.slice(1):u).map(function(L){return ae(L[0])});return e.length<2?{type:pe,reason:"Less than two rows"}:{type:Ee,spreadsheet:{title:o?u[0][0]:null,labels:null,values:e}}}var a=de(u,0),i=de(u,1);if(!a&&!i)return{type:pe,reason:"Value is not numeric"};var l=i?[0,1]:[1,0],p=(0,f.Z)(l,2),T=p[0],X=p[1],te=ae(u[0][X])===null,N=te?u.slice(1):u;return N.length<2?{type:pe,reason:"Less than 2 rows"}:{type:Ee,spreadsheet:{title:te?u[0][X]:null,labels:N.map(function(L){return L[T]}),values:N.map(function(L){return ae(L[X])})}}},C=function(u){var s=u.trim().split(`
`).map(function(i){return i.trim().split("	")});if(s.length&&s[0].length!==2&&(s=u.trim().split(`
`).map(function(i){return i.trim().split(",")})),s.length===0)return{type:pe,reason:"No values"};var o=s[0].length;if(!s.every(function(i){return i.length===o}))return{type:pe,reason:"All rows don't have same number of columns"};var e=ye(s);if(e.type!==Ee){var a=ye(function(i){for(var l=[],p=0;p<i[0].length;p++){for(var T=[],X=0;X<i.length;X++)T.push(i[X][p]);l.push(T)}return l}(s));if(a.type===Ee)return a}return e},J=c.Z.elementBackground.slice(2,c.Z.elementBackground.length),g={fillStyle:"hachure",fontFamily:j.rk,fontSize:j.n5,opacity:100,roughness:1,strokeColor:c.Z.elementStroke[0],roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:j.oX.MIDDLE,locked:!1},m=function(u){return{chartWidth:44*u.values.length+k,chartHeight:280}},M=function(u,s,o,e,a,i){var l=m(u),p=l.chartWidth,T=l.chartHeight,X=u.title?(0,A.VL)(G(G({backgroundColor:a,groupIds:[e]},g),{},{text:u.title,x:s+p/2,y:o-se-24-j.n5,roundness:null,strokeStyle:"solid",textAlign:"center"})):null,te=i?(0,A.Up)(G(G({backgroundColor:a,groupIds:[e]},g),{},{type:"rectangle",x:s,y:o-T,width:p,height:T,strokeColor:c.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,w.Z)(te?[te]:[]),(0,w.Z)(X?[X]:[]),(0,w.Z)(function(N,L,fe,q,F){var h;return((h=N.labels)===null||h===void 0?void 0:h.map(function(_,W){return(0,A.VL)(G(G({groupIds:[q],backgroundColor:F},g),{},{text:_.length>8?"".concat(_.slice(0,5),"..."):_,x:L+44*W+24,y:fe+6,width:le,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(u,s,o,e,a)),(0,w.Z)(function(N,L,fe,q,F){var h=(0,A.VL)(G(G({groupIds:[q],backgroundColor:F},g),{},{x:L-k,y:fe-k,text:"0",textAlign:"right"}));return[h,(0,A.VL)(G(G({groupIds:[q],backgroundColor:F},g),{},{x:L-k,y:fe-se-h.height/2,text:Math.max.apply(Math,(0,w.Z)(N.values)).toLocaleString(),textAlign:"right"}))]}(u,s,o,e,a)),(0,w.Z)(function(N,L,fe,q,F){var h=m(N),_=h.chartWidth,W=h.chartHeight;return[(0,A.y8)(G(G({backgroundColor:F,groupIds:[q]},g),{},{type:"line",x:L,y:fe,startArrowhead:null,endArrowhead:null,width:_,points:[[0,0],[_,0]]})),(0,A.y8)(G(G({backgroundColor:F,groupIds:[q]},g),{},{type:"line",x:L,y:fe,startArrowhead:null,endArrowhead:null,height:W,points:[[0,0],[0,-W]]})),(0,A.y8)(G(G({backgroundColor:F,groupIds:[q]},g),{},{type:"line",x:L,y:fe-se-k,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:_,opacity:50,points:[[0,0],[_,0]]}))]}(u,s,o,e,a)))},v=function(u,s,o,e){return u==="line"?function(a,i,l){var p,T=Math.max.apply(Math,(0,w.Z)(a.values)),X=(0,R.kb)(),te=J[Math.floor(Math.random()*J.length)],N=0,L=[],fe=n(a.values);try{for(fe.s();!(p=fe.n()).done;){var q=p.value,F=44*N,h=-q/T*se;L.push([F,h]),N++}}catch(d){fe.e(d)}finally{fe.f()}var _=Math.max.apply(Math,(0,w.Z)(L.map(function(d){return d[0]}))),W=Math.max.apply(Math,(0,w.Z)(L.map(function(d){return d[1]}))),I=Math.min.apply(Math,(0,w.Z)(L.map(function(d){return d[0]}))),re=Math.min.apply(Math,(0,w.Z)(L.map(function(d){return d[1]}))),O=(0,A.y8)(G(G({backgroundColor:te,groupIds:[X]},g),{},{type:"line",x:i+k+16,y:l-k,startArrowhead:null,endArrowhead:null,height:W-re,width:_-I,strokeWidth:2,points:L})),E=a.values.map(function(d,x){var P=44*x+6,U=-d/T*se+6;return(0,A.Up)(G(G({backgroundColor:te,groupIds:[X]},g),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:i+P+16,y:l+U-24,width:k,height:k}))}),b=a.values.map(function(d,x){var P=44*x+6,U=d/T*se+6+k;return(0,A.y8)(G(G({backgroundColor:te,groupIds:[X]},g),{},{type:"line",x:i+P+16+6,y:l-U,startArrowhead:null,endArrowhead:null,height:U,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,U]]}))});return[].concat((0,w.Z)(M(a,i,l,X,te,j.Vi.DEVELOPMENT==="production")),[O],(0,w.Z)(b),(0,w.Z)(E))}(s,o,e):function(a,i,l){var p=Math.max.apply(Math,(0,w.Z)(a.values)),T=(0,R.kb)(),X=J[Math.floor(Math.random()*J.length)],te=a.values.map(function(N,L){var fe=N/p*se;return(0,A.Up)(G(G({backgroundColor:X,groupIds:[T]},g),{},{type:"rectangle",x:i+44*L+k,y:l-fe-k,width:le,height:fe}))});return[].concat((0,w.Z)(te),(0,w.Z)(M(a,i,l,T,X,j.Vi.DEVELOPMENT==="production")))}(s,o,e)}},8982:function(ge,Q,t){t.d(Q,{X:function(){return y},f:function(){return f}});var w=t(56),y=function(c,j){if(j!=null&&j.collaborators){var A=j.collaborators.get(c);if(A!=null&&A.color)return A.color}var R=c.split("").reduce(function(H,G){return H+G.charCodeAt(0)},0),n=w.Z.elementBackground.slice(3),Z=w.Z.elementStroke.slice(3);return{background:n[R%n.length],stroke:Z[R%Z.length]}},f=function(c){return c?c.trim()[0].toUpperCase():"?"}},6665:function(ge,Q,t){t.d(Q,{dd:function(){return M},mQ:function(){return g},uR:function(){return m},vQ:function(){return de},vt:function(){return Ee},wx:function(){return pe}});var w=t(7169),y=t(8950),f=t(2975),c=t.n(f),j=t(4162),A=t(5674),R=t(2335),n=t(1974),Z=t(6340);function H(u,s){var o=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);s&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),o.push.apply(o,e)}return o}function G(u){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?H(Object(o),!0).forEach(function(e){(0,w.Z)(u,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(o)):H(Object(o)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(o,e))})}return u}var le="",k=!1,se="clipboard"in navigator&&"readText"in navigator.clipboard,pe="clipboard"in navigator&&"writeText"in navigator.clipboard,Ee="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ae=function(u){return!(![R.r8.excalidraw,R.r8.excalidrawClipboard].includes(u==null?void 0:u.type)||!Array.isArray(u.elements))},de=function(){var u=(0,y.Z)(c().mark(function s(o,e,a){var i,l;return c().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i={type:R.r8.excalidrawClipboard,elements:o,files:a?o.reduce(function(T,X){return(0,n.wi)(X)&&a[X.fileId]&&(T[X.fileId]=a[X.fileId]),T},{}):void 0},l=JSON.stringify(i),le=l,p.prev=3,k=!1,p.next=7,M(l);case 7:p.next=13;break;case 9:p.prev=9,p.t0=p.catch(3),k=!0,console.error(p.t0);case 13:case"end":return p.stop()}},s,null,[[3,9]])}));return function(s,o,e){return u.apply(this,arguments)}}(),ye=function(){if(!le)return{};try{return JSON.parse(le)}catch(u){return console.error(u),{}}},C=function(u){var s=(0,A.dz)(u);return s.type===A.i$?{spreadsheet:s.spreadsheet}:null},J=function(){var u=(0,y.Z)(c().mark(function s(o){var e,a;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,!o){i.next=5;break}i.t0=(e=o.clipboardData)===null||e===void 0?void 0:e.getData("text/plain"),i.next=11;break;case 5:if(i.t1=se,!i.t1){i.next=10;break}return i.next=9,navigator.clipboard.readText();case 9:i.t1=i.sent;case 10:i.t0=i.t1;case 11:return a=i.t0,i.abrupt("return",(a||"").trim());case 15:return i.prev=15,i.t2=i.catch(0),i.abrupt("return","");case 18:case"end":return i.stop()}},s,null,[[0,15]])}));return function(s){return u.apply(this,arguments)}}(),g=function(){var u=(0,y.Z)(c().mark(function s(o){var e,a,i,l,p,T=arguments;return c().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return e=T.length>1&&T[1]!==void 0&&T[1],X.next=3,J(o);case 3:if((a=X.sent)&&(e||!a.includes(j.oj))){X.next=6;break}return X.abrupt("return",ye());case 6:if(!(i=!e&&C(a))){X.next=9;break}return X.abrupt("return",i);case 9:if(l=ye(),X.prev=10,p=JSON.parse(a),!ae(p)){X.next=14;break}return X.abrupt("return",{elements:p.elements,files:p.files,text:e?JSON.stringify(p.elements,null,2):void 0});case 14:X.next=18;break;case 16:X.prev=16,X.t0=X.catch(10);case 18:return X.abrupt("return",k&&l.elements?G(G({},l),{},{text:e?JSON.stringify(l.elements,null,2):void 0}):{text:a});case 19:case"end":return X.stop()}},s,null,[[10,16]])}));return function(s){return u.apply(this,arguments)}}(),m=function(){var u=(0,y.Z)(c().mark(function s(o){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,w.Z)({},R.LO.png,o))]);case 3:case 21:e.next=24;break;case 5:if(e.prev=5,e.t0=e.catch(0),!(0,Z.y8)(o)){e.next=23;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=w.Z,e.t4={},e.t5=R.LO.png,e.next=15,o;case 15:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=21,e.t1.write.call(e.t1,e.t9);case 23:throw e.t0;case 24:case"end":return e.stop()}},s,null,[[0,5]])}));return function(s){return u.apply(this,arguments)}}(),M=function(){var u=(0,y.Z)(c().mark(function s(o){var e;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=!1,!pe){a.next=11;break}return a.prev=2,a.next=5,navigator.clipboard.writeText(o||"");case 5:e=!0,a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.error(a.t0);case 11:if(e||v(o||" ")){a.next=13;break}throw new Error("couldn't copy");case 13:case"end":return a.stop()}},s,null,[[2,8]])}));return function(s){return u.apply(this,arguments)}}(),v=function(u){var s=document.documentElement.getAttribute("dir")==="rtl",o=document.createElement("textarea");o.style.border="0",o.style.padding="0",o.style.margin="0",o.style.position="absolute",o.style[s?"right":"left"]="-9999px";var e=window.pageYOffset||document.documentElement.scrollTop;o.style.top="".concat(e,"px"),o.style.fontSize="12pt",o.setAttribute("readonly",""),o.value=u,document.body.appendChild(o);var a=!1;try{o.select(),o.setSelectionRange(0,o.value.length),a=document.execCommand("copy")}catch(i){console.error(i)}return o.remove(),a}},56:function(ge,Q,t){var w=t(1930),y=t(5284),f=function(c){return[y.red[c],y.pink[c],y.grape[c],y.violet[c],y.indigo[c],y.blue[c],y.cyan[c],y.teal[c],y.green[c],y.lime[c],y.yellow[c],y.orange[c]]};Q.Z={canvasBackground:[y.white,y.gray[0],y.gray[1]].concat((0,w.Z)(f(0))),elementBackground:["transparent",y.gray[4],y.gray[6]].concat((0,w.Z)(f(6))),elementStroke:[y.black,y.gray[8],y.gray[7]].concat((0,w.Z)(f(9)))}},6798:function(ge,Q,t){t.d(Q,{o:function(){return Z},w:function(){return n}});var w=t(2577),y=t(4739),f=t(5654),c=t(8211),j=t(4206),A=t(7046),R=t(4512),n=(0,y.cn)(null),Z=function(){var H=(0,y.KO)(n),G=(0,w.Z)(H,2),le=G[0],k=G[1],se=(0,j.eh)();return le&&le==="clearCanvas"?(0,R.jsx)(A.Z,{onConfirm:function(){se.executeAction(f.mo),k(null)},onCancel:function(){return k(null)},title:(0,c.t)("clearCanvasDialog.title"),children:(0,R.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,c.t)("alerts.clearReset")]})}):null}},4206:function(ge,Q,t){t.d(Q,{ZP:function(){return ci},Fy:function(){return ln},eh:function(){return li},gF:function(){return ko},J0:function(){return Un},bd:function(){return Kn},n9:function(){return Yn}});var w=t(6655),y=t(2577),f=t(1930),c=t(8950),j=t(8821),A=t(5169),R=t(3173),n=t(2248),Z=t(7245),H=t(2312),G=t(7169),le=t(2975),k=t.n(le),se=t(9787),pe=t.n(se),Ee=t(5156),ae=t(8234),de=t(45),ye=t(5605),C=t(5654),J=t(3646),g=t(1319),m=t(8211),M=t(6066),v=t(1935),u=t(8290),s=t(6340),o=t(2335),e=t(4512);function a(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function i(r){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?a(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):a(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var l=function(r,S,K){var oe=!1;if(!(S.multiElement||S.resizingElement||S.editingElement||S.draggingElement)){var Se=K();if(Se===null)return{commitToHistory:oe};var ee=(0,s.xn)(r),z=Se.elements,be=(0,s.xn)(z),ke=r.filter(function(De){return!be.has(De.id)}),Me=z.map(function(De){return(0,v.BE)(ee.get(De.id)||De,De)}).concat(ke.map(function(De){return(0,v.BE)(De,{isDeleted:!0})}));return(0,u.$q)(Me,ke),{elements:Me,appState:i(i({},S),Se.appState),commitToHistory:oe,syncHistory:!0}}return{commitToHistory:oe}},p=t(7047),T=function(r,S,K,oe,Se,ee){if(r.trackEvent)try{(0,w.Z)(r.trackEvent)==="object"&&(!r.trackEvent.predicate||r.trackEvent.predicate(K,oe,ee))&&(0,p.L)(r.trackEvent.category,r.trackEvent.action||r.name,"".concat(S," (").concat(Se.device.isMobile?"mobile":"desktop",")"))}catch(z){console.error("error while logging action:",z)}},X=function(){function r(S,K,oe,Se){var ee=this;(0,j.Z)(this,r),this.actions={},this.renderAction=function(z,be){var ke=ee.app.props.UIOptions.canvasActions;if(ee.actions[z]&&"PanelComponent"in ee.actions[z]&&(!(z in ke)||ke[z])){var Me=ee.actions[z],De=Me.PanelComponent;De.displayName="PanelComponent";var Ae=ee.getElementsIncludingDeleted(),Re=ee.getAppState();return(0,e.jsx)(De,{elements:ee.getElementsIncludingDeleted(),appState:ee.getAppState(),updateData:function(Xe){T(Me,"ui",Re,Ae,ee.app,Xe),ee.updater(Me.perform(ee.getElementsIncludingDeleted(),ee.getAppState(),Xe,ee.app))},appProps:ee.app.props,data:be})}return null},this.isActionEnabled=function(z){var be=ee.getElementsIncludingDeleted(),ke=ee.getAppState();return!z.predicate||z.predicate(be,ke,ee.app.props,ee.app)},this.updater=function(z){if(!z||!("then"in z))return S(z);z.then(function(be){return S(be)})},this.getAppState=K,this.getElementsIncludingDeleted=oe,this.app=Se}return(0,A.Z)(r,[{key:"registerAction",value:function(S){this.actions[S.name]=S}},{key:"registerAll",value:function(S){var K=this;S.forEach(function(oe){return K.registerAction(oe)})}},{key:"handleKeyDown",value:function(S){var K=this,oe=this.app.props.UIOptions.canvasActions,Se=Object.values(this.actions).sort(function(ke,Me){return(Me.keyPriority||0)-(ke.keyPriority||0)}).filter(function(ke){return(!(ke.name in oe)||oe[ke.name])&&ke.keyTest&&ke.keyTest(S,K.getAppState(),K.getElementsIncludingDeleted())});if(Se.length!==1)return Se.length>1&&console.warn("Canceling as multiple actions match this shortcut",Se),!1;var ee=Se[0];if(this.getAppState().viewModeEnabled&&ee.viewMode!==!0)return!1;var z=this.getElementsIncludingDeleted(),be=this.getAppState();return T(ee,"keyboard",be,z,this.app,null),S.preventDefault(),S.stopPropagation(),this.updater(Se[0].perform(z,be,null,this.app)),!0}},{key:"executeAction",value:function(S){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",oe=this.getElementsIncludingDeleted(),Se=this.getAppState(),ee=null;T(S,K,Se,oe,this.app,ee),this.updater(S.perform(oe,Se,ee,this.app))}}]),r}(),te=t(7901),N=t(8897),L=t(6665),fe=t(9485),q=t(7053),F=t(679),h=t(1047),_=t(6938),W=t(2791),I=t(1974),re=function(r){var S=Array.from(r.values());return{x:E(S,function(K){return K.x})/S.length,y:E(S,function(K){return K.y})/S.length}},O=function(r){var S=(0,y.Z)(r,2),K=S[0],oe=S[1];return Math.hypot(K.x-oe.x,K.y-oe.y)},E=function(r,S){return r.reduce(function(K,oe){return K+S(oe)},0)},b=t(242);function d(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function x(r){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?d(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):d(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var P=function(r){return{selectedElementIds:r.selectedElementIds,selectedGroupIds:r.selectedGroupIds,viewBackgroundColor:r.viewBackgroundColor,editingLinearElement:r.editingLinearElement,editingGroupId:r.editingGroupId,name:r.name}},U=function(){function r(){var S=this;(0,j.Z)(this,r),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(K,oe){return S.dehydrateHistoryEntry({appState:P(K),elements:oe.reduce(function(Se,ee){if((0,I.bt)(ee)&&K.multiElement&&K.multiElement.id===ee.id){if(K.multiElement&&K.multiElement.id===ee.id&&ee.points.length<2)return Se;Se.push(x(x({},ee),{},{points:ee.lastCommittedPoint!==ee.points[ee.points.length-1]?ee.points.slice(0,-1):ee.points}))}else Se.push(ee);return Se},[])})}}return(0,A.Z)(r,[{key:"hydrateHistoryEntry",value:function(S){var K=this,oe=S.appState,Se=S.elements;return{appState:JSON.parse(oe),elements:Se.map(function(ee){var z,be=(z=K.elementCache.get(ee.id))===null||z===void 0?void 0:z.get(ee.versionNonce);if(!be)throw new Error("Element not found: ".concat(ee.id,":").concat(ee.versionNonce));return be})}}},{key:"dehydrateHistoryEntry",value:function(S){var K=this,oe=S.appState,Se=S.elements;return{appState:JSON.stringify(oe),elements:Se.map(function(ee){K.elementCache.has(ee.id)||K.elementCache.set(ee.id,new Map);var z=K.elementCache.get(ee.id);return z.has(ee.versionNonce)||z.set(ee.versionNonce,(0,W.OL)(ee)),{id:ee.id,versionNonce:ee.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var S=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(K){return S.hydrateHistoryEntry(K)}),redoStack:this.redoStack.map(function(K){return S.hydrateHistoryEntry(K)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(S){var K,oe=this.lastEntry;if(!oe||S.elements.length!==oe.elements.length)return!0;for(var Se=S.elements.length-1;Se>-1;Se--){var ee=S.elements[Se],z=oe.elements[Se];if(!ee||!z||ee.id!==z.id||ee.versionNonce!==z.versionNonce)return!0}for(K in S.appState){var be,ke;if(!(K==="editingLinearElement"&&((be=S.appState[K])===null||be===void 0?void 0:be.elementId)===((ke=oe.appState[K])===null||ke===void 0?void 0:ke.elementId))&&K!=="selectedElementIds"&&K!=="selectedGroupIds"&&S.appState[K]!==oe.appState[K])return!0}return!1}},{key:"pushEntry",value:function(S,K){var oe=this.generateEntry(S,K),Se=this.hydrateHistoryEntry(oe);if(Se){if(!this.shouldCreateEntry(Se))return;this.stateHistory.push(oe),this.lastEntry=Se,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var S=this.redoStack.pop();return S!==void 0?(this.stateHistory.push(S),this.hydrateHistoryEntry(S)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var S=this.stateHistory.pop(),K=this.stateHistory[this.stateHistory.length-1];return S!==void 0?(this.redoStack.push(S),this.hydrateHistoryEntry(K)):null}},{key:"setCurrentState",value:function(S,K){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(S,K))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(S,K){this.recording&&(this.pushEntry(S,K),this.recording=!1)}}]),r}(),D=t(6552),ce=t(3547),ie=t(3063),ue=t(75),Ce=t(1564),Pe=t(746),B=[{icon:J.zu,value:"selection",key:M.tW.V,numericKey:M.tW[1],fillable:!0},{icon:J.OW,value:"rectangle",key:M.tW.R,numericKey:M.tW[2],fillable:!0},{icon:J.nb,value:"diamond",key:M.tW.D,numericKey:M.tW[3],fillable:!0},{icon:J.Re,value:"ellipse",key:M.tW.O,numericKey:M.tW[4],fillable:!0},{icon:J.e0,value:"arrow",key:M.tW.A,numericKey:M.tW[5],fillable:!0},{icon:J.zb,value:"line",key:M.tW.L,numericKey:M.tW[6],fillable:!0},{icon:J.Pm,value:"freedraw",key:[M.tW.P,M.tW.X],numericKey:M.tW[7],fillable:!1},{icon:J.VL,value:"text",key:M.tW.T,numericKey:M.tW[8],fillable:!1},{icon:J.XB,value:"image",key:null,numericKey:M.tW[9],fillable:!1},{icon:J.$q,value:"eraser",key:M.tW.E,numericKey:M.tW[0],fillable:!1}],Y=t(2891),$=t(487),xe=t.n($),Oe=t(631),Ze=t.n(Oe),Fe=t(2052),Je=t.n(Fe),Ke=t(4010),Be=t.n(Ke),Le=t(1469),ne=t.n(Le),me=t(9329),ve=t.n(me),we=t(6578),Ie={};Ie.styleTagTransform=ve(),Ie.setAttributes=Be(),Ie.insert=Je().bind(null,"head"),Ie.domAPI=Ze(),Ie.insertStyleElement=ne(),xe()(we.Z,Ie),we.Z&&we.Z.locals&&we.Z.locals;var Te=t(785),ze="separator",We=pe().memo(function(r){var S=r.actionManager,K=r.items,oe=r.top,Se=r.left,ee=ko(),z=Yn(),be=Kn(),ke=K.reduce(function(Me,De){return!De||De!==ze&&De.predicate&&!De.predicate(be,ee,S.app.props,S.app)||Me.push(De),Me},[]);return(0,e.jsx)(Y.J,{onCloseRequest:function(){return z({contextMenu:null})},top:oe,left:Se,fitInViewport:!0,offsetLeft:ee.offsetLeft,offsetTop:ee.offsetTop,viewportWidth:ee.width,viewportHeight:ee.height,children:(0,e.jsx)("ul",{className:"context-menu",onContextMenu:function(Me){return Me.preventDefault()},children:ke.map(function(Me,De){var Ae;if(Me===ze)return ke[De-1]&&ke[De-1]!==ze?(0,e.jsx)("hr",{className:"context-menu-item-separator"},De):null;var Re=Me.name,Xe="";return Me.contextItemLabel&&(Xe=typeof Me.contextItemLabel=="function"?(0,m.t)(Me.contextItemLabel(be,ee)):(0,m.t)(Me.contextItemLabel)),(0,e.jsx)("li",{"data-testid":Re,onClick:function(){z({contextMenu:null},function(){S.executeAction(Me,"contextMenu")})},children:(0,e.jsxs)("button",{className:(0,de.Z)("context-menu-item",{dangerous:Re==="deleteSelectedElements",checkmark:(Ae=Me.checked)===null||Ae===void 0?void 0:Ae.call(Me,ee)}),children:[(0,e.jsx)("div",{className:"context-menu-item__label",children:Xe}),(0,e.jsx)("kbd",{className:"context-menu-item__shortcut",children:Re?(0,Te.C)(Re):""})]})},De)})})})}),He=t(2726),Ye=t(7239),et=t(8120),at=t(6086),$e={};$e.styleTagTransform=ve(),$e.setAttributes=Be(),$e.insert=Je().bind(null,"head"),$e.domAPI=Ze(),$e.insertStyleElement=ne(),xe()(at.Z,$e),at.Z&&at.Z.locals&&at.Z.locals;var tt=t(1894),ct=t(5710);function Et(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function Pt(r){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?Et(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):Et(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}function _t(r,S){var K=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!K){if(Array.isArray(r)||(K=function(ke,Me){if(!!ke){if(typeof ke=="string")return vt(ke,Me);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return vt(ke,Me)}}(r))||S&&r&&typeof r.length=="number"){K&&(r=K);var oe=0,Se=function(){};return{s:Se,n:function(){return oe>=r.length?{done:!0}:{done:!1,value:r[oe++]}},e:function(ke){throw ke},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,z=!0,be=!1;return{s:function(){K=K.call(r)},n:function(){var ke=K.next();return z=ke.done,ke},e:function(ke){be=!0,ee=ke},f:function(){try{z||K.return==null||K.return()}finally{if(be)throw ee}}}}function vt(r,S){(S==null||S>r.length)&&(S=r.length);for(var K=0,oe=new Array(S);K<S;K++)oe[K]=r[K];return oe}var yt=function(r){var S,K=r.appState,oe=r.elements,Se=r.renderAction,ee=(0,ue.Zs)((0,h.Lm)(oe),K),z=!1;ee.length===2&&((0,I.Xo)(ee[0])||(0,I.Xo)(ee[1]))&&(z=!0);var be,ke=Boolean(K.editingElement),Me=ln(),De=document.documentElement.getAttribute("dir")==="rtl",Ae=(0,ue.$b)(K.activeTool.type)||ee.some(function(ht){return(0,ue.$b)(ht.type)&&!(0,s.Qm)(ht.backgroundColor)}),Re=(0,ue.$b)(K.activeTool.type)||ee.some(function(ht){return(0,ue.$b)(ht.type)}),Xe=ee.length===1||z,qe=((S=ee[0])===null||S===void 0?void 0:S.type)||null,Ve=_t(ee);try{for(Ve.s();!(be=Ve.n()).done;)if(be.value.type!==qe){qe=null;break}}catch(ht){Ve.e(ht)}finally{Ve.f()}return(0,e.jsxs)("div",{className:"panelColumn",children:[(0,e.jsx)("div",{children:((0,et.PD)(K.activeTool.type)&&K.activeTool.type!=="image"&&qe!=="image"||ee.some(function(ht){return(0,et.PD)(ht.type)}))&&Se("changeStrokeColor")}),Re&&(0,e.jsx)("div",{children:Se("changeBackgroundColor")}),Ae&&Se("changeFillStyle"),((0,ue.Zd)(K.activeTool.type)||ee.some(function(ht){return(0,ue.Zd)(ht.type)}))&&Se("changeStrokeWidth"),(K.activeTool.type==="freedraw"||ee.some(function(ht){return ht.type==="freedraw"}))&&Se("changeStrokeShape"),((0,ue.M9)(K.activeTool.type)||ee.some(function(ht){return(0,ue.M9)(ht.type)}))&&(0,e.jsxs)(e.Fragment,{children:[Se("changeStrokeStyle"),Se("changeSloppiness")]}),((0,ue.sh)(K.activeTool.type)||ee.some(function(ht){return(0,ue.sh)(ht.type)}))&&(0,e.jsx)(e.Fragment,{children:Se("changeRoundness")}),((0,ue.bZ)(K.activeTool.type)||ee.some(function(ht){return(0,ue.bZ)(ht.type)}))&&(0,e.jsxs)(e.Fragment,{children:[Se("changeFontSize"),Se("changeFontFamily"),Se("changeTextAlign")]}),(0,ct.cn)(ee)&&Se("changeVerticalAlign"),((0,ue.Un)(K.activeTool.type)||ee.some(function(ht){return(0,ue.Un)(ht.type)}))&&(0,e.jsx)(e.Fragment,{children:Se("changeArrowhead")}),Se("changeOpacity"),(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("legend",{children:(0,m.t)("labels.layers")}),(0,e.jsxs)("div",{className:"buttonList",children:[Se("sendToBack"),Se("sendBackward"),Se("bringToFront"),Se("bringForward")]})]}),ee.length>1&&!z&&(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("legend",{children:(0,m.t)("labels.align")}),(0,e.jsxs)("div",{className:"buttonList",children:[De?(0,e.jsxs)(e.Fragment,{children:[Se("alignRight"),Se("alignHorizontallyCentered"),Se("alignLeft")]}):(0,e.jsxs)(e.Fragment,{children:[Se("alignLeft"),Se("alignHorizontallyCentered"),Se("alignRight")]}),ee.length>2&&Se("distributeHorizontally"),(0,e.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[Se("alignTop"),Se("alignVerticallyCentered"),Se("alignBottom"),ee.length>2&&Se("distributeVertically")]})]})]}),!ke&&ee.length>0&&(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("legend",{children:(0,m.t)("labels.actions")}),(0,e.jsxs)("div",{className:"buttonList",children:[!Me.isMobile&&Se("duplicateSelection"),!Me.isMobile&&Se("deleteSelectedElements"),Se("group"),Se("ungroup"),Xe&&Se("hyperlink")]})]})]})},ft=function(r){var S=r.canvas,K=r.activeTool,oe=r.setAppState,Se=r.onImageAction,ee=r.appState;return(0,e.jsx)(e.Fragment,{children:B.map(function(z,be){var ke=z.value,Me=z.icon,De=z.key,Ae=z.numericKey,Re=z.fillable,Xe=(0,m.t)("toolBar.".concat(ke)),qe=De&&(0,s.Oo)(typeof De=="string"?De:De[0]),Ve=qe?"".concat(qe," ").concat((0,m.t)("helpDialog.or")," ").concat(Ae):"".concat(Ae);return(0,e.jsx)(g.V,{className:(0,de.Z)("Shape",{fillable:Re}),type:"radio",icon:Me,checked:K.type===ke,name:"editor-current-shape",title:"".concat((0,s.Oo)(Xe)," \u2014 ").concat(Ve),keyBindingLabel:Ae||qe,"aria-label":(0,s.Oo)(Xe),"aria-keyshortcuts":Ve,"data-testid":"toolbar-".concat(ke),onPointerDown:function(ht){var lt=ht.pointerType;ee.penDetected||lt!=="pen"||oe({penDetected:!0,penMode:!0})},onChange:function(ht){var lt=ht.pointerType;ee.activeTool.type!==ke&&(0,p.L)("toolbar",ke,"ui");var kt=(0,s.Om)(ee,{type:ke});oe({activeTool:kt,multiElement:null,selectedElementIds:{}}),(0,s.Uk)(S,Pt(Pt({},ee),{},{activeTool:kt})),ke==="image"&&Se({pointerType:lt})}},ke)})})},St=function(r){var S=r.renderAction;return r.zoom,(0,e.jsx)(Ye.Z.Col,{gap:1,className:"zoom-actions",children:(0,e.jsxs)(Ye.Z.Row,{align:"center",children:[S("zoomOut"),S("resetZoom"),S("zoomIn")]})})},Yt=function(r){var S=r.renderAction,K=r.className;return(0,e.jsxs)("div",{className:"undo-redo-buttons ".concat(K),children:[(0,e.jsx)("div",{className:"undo-button-container",children:(0,e.jsx)(tt.u,{label:(0,m.t)("buttons.undo"),children:S("undo")})}),(0,e.jsx)("div",{className:"redo-button-container",children:(0,e.jsxs)(tt.u,{label:(0,m.t)("buttons.redo"),children:[" ",S("redo")]})})]})},qt=function(r){var S=r.actionManager,K=r.showExitZenModeBtn;return(0,e.jsx)("button",{className:(0,de.Z)("disable-zen-mode",{"disable-zen-mode--visible":K}),onClick:function(){return S.executeAction(C.JN)},children:(0,m.t)("buttons.exitZenMode")})},Ct=function(r){var S=r.renderAction,K=r.className;return(0,e.jsx)("div",{className:"finalize-button ".concat(K),children:S("finalize",{size:"small"})})},At=t(8396),Ne=function(r){var S=r.message,K=r.onClose,oe=(0,se.useState)(!!S),Se=(0,y.Z)(oe,2),ee=Se[0],z=Se[1],be=Un().container,ke=pe().useCallback(function(){z(!1),K&&K(),be==null||be.focus()},[K,be]);return(0,e.jsx)(e.Fragment,{children:ee&&(0,e.jsx)(At.V,{small:!0,onCloseRequest:ke,title:(0,m.t)("errorDialog.title"),children:(0,e.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:S})})})},Ue=t(434),ot=t(4162),it=t(7955),dt={};dt.styleTagTransform=ve(),dt.setAttributes=Be(),dt.insert=Je().bind(null,"head"),dt.domAPI=Ze(),dt.insertStyleElement=ne(),xe()(it.Z,dt),it.Z&&it.Z.locals&&it.Z.locals;var gt=t(5284),jt=t(3807),Ot=t(1393),Zt="filter"in document.createElement("canvas").getContext("2d"),Bt=function(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{children:(0,m.t)("canvasError.cannotShowPreview")}),(0,e.jsx)("p",{children:(0,e.jsx)("span",{children:(0,m.t)("canvasError.canvasTooBig")})}),(0,e.jsxs)("em",{children:["(",(0,m.t)("canvasError.canvasTooBigTip"),")"]})]})},Tt=function(r){var S,K=r.children,oe=r.title,Se=r.onClick,ee=r.color,z=r.shade,be=z===void 0?6:z;return(0,e.jsx)("button",{className:"ExportDialog-imageExportButton",style:(S={},(0,G.Z)(S,"--button-color",gt[ee][be]),(0,G.Z)(S,"--button-color-darker",gt[ee][be+1]),(0,G.Z)(S,"--button-color-darkest",gt[ee][be+2]),S),title:oe,"aria-label":oe,onClick:Se,children:K})},Jt=function(r){var S=r.elements,K=r.appState,oe=r.files,Se=r.exportPadding,ee=Se===void 0?o.qy:Se,z=r.actionManager,be=r.onExportToPng,ke=r.onExportToSvg,Me=r.onExportToClipboard,De=(0,ue.N)(S,K),Ae=(0,se.useState)(De),Re=(0,y.Z)(Ae,2),Xe=Re[0],qe=Re[1],Ve=(0,se.useRef)(null),ht=K.exportBackground,lt=K.viewBackgroundColor,kt=(0,se.useState)(null),nt=(0,y.Z)(kt,2),Nt=nt[0],Lt=nt[1],It=Xe?(0,ue.eD)(S,K,!0):S;return(0,se.useEffect)(function(){qe(De)},[De]),(0,se.useEffect)(function(){var Wt=Ve.current;Wt&&(0,ot.NL)(It,K,oe,{exportBackground:ht,viewBackgroundColor:lt,exportPadding:ee}).then(function(wt){return Lt(null),(0,Ue._c)(wt).then(function(){Wt.replaceChildren(wt)})}).catch(function(wt){console.error(wt),Lt(wt)})},[K,oe,It,ht,ee,lt]),(0,e.jsxs)("div",{className:"ExportDialog",children:[(0,e.jsx)("div",{className:"ExportDialog__preview",ref:Ve,children:Nt&&(0,e.jsx)(Bt,{})}),Zt&&z.renderAction("exportWithDarkMode"),(0,e.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[z.renderAction("changeExportBackground"),De&&(0,e.jsx)(jt.o,{checked:Xe,onChange:function(Wt){return qe(Wt)},children:(0,m.t)("labels.onlySelected")}),z.renderAction("changeExportEmbedScene")]})}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,e.jsx)(Ye.Z.Row,{gap:2,children:z.renderAction("changeExportScale")}),(0,e.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,m.t)("buttons.scale")})]}),(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Ot.kr&&z.renderAction("changeProjectName")}),(0,e.jsxs)(Ye.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,e.jsx)(Tt,{color:"indigo",title:(0,m.t)("buttons.exportToPng"),"aria-label":(0,m.t)("buttons.exportToPng"),onClick:function(){return be(It)},children:"PNG"}),(0,e.jsx)(Tt,{color:"red",title:(0,m.t)("buttons.exportToSvg"),"aria-label":(0,m.t)("buttons.exportToSvg"),onClick:function(){return ke(It)},children:"SVG"}),(L.vt||o.vU)&&(0,e.jsx)(Tt,{title:(0,m.t)("buttons.copyPngToClipboard"),onClick:function(){return Me(It)},color:"gray",shade:7,children:J.BR})]})]})},or=function(r){var S=r.elements,K=r.appState,oe=r.setAppState,Se=r.files,ee=r.exportPadding,z=ee===void 0?o.qy:ee,be=r.actionManager,ke=r.onExportToPng,Me=r.onExportToSvg,De=r.onExportToClipboard,Ae=pe().useCallback(function(){oe({openDialog:null})},[oe]);return(0,e.jsx)(e.Fragment,{children:K.openDialog==="imageExport"&&(0,e.jsx)(At.V,{onCloseRequest:Ae,title:(0,m.t)("buttons.exportImage"),children:(0,e.jsx)(Jt,{elements:S,appState:K,files:Se,exportPadding:z,actionManager:be,onExportToPng:ke,onExportToSvg:Me,onExportToClipboard:De,onCloseRequest:Ae})})})},sr=t(3195),ir={};ir.styleTagTransform=ve(),ir.setAttributes=Be(),ir.insert=Je().bind(null,"head"),ir.domAPI=Ze(),ir.insertStyleElement=ne(),xe()(sr.Z,ir),sr.Z&&sr.Z.locals&&sr.Z.locals;var zt=function(r){var S=r.children,K=r.side,oe=r.className;return(0,e.jsx)("div",{className:(0,de.Z)("FixedSideContainer","FixedSideContainer_side_".concat(K),oe),children:S})},Ft=t(1587),$t={};$t.styleTagTransform=ve(),$t.setAttributes=Be(),$t.insert=Je().bind(null,"head"),$t.domAPI=Ze(),$t.insertStyleElement=ne(),xe()(Ft.Z,$t),Ft.Z&&Ft.Z.locals&&Ft.Z.locals;var lr=function(r){var S=function(K){var oe=K.appState,Se=K.elements,ee=K.isMobile,z=K.device,be=oe.activeTool,ke=oe.isResizing,Me=oe.isRotating,De=oe.lastPointerDownWith,Ae=oe.multiElement!==null;if(oe.openSidebar==="library"&&!z.canDeviceFitSidebar)return null;if((0,N.EN)(oe))return(0,m.t)("hints.eraserRevert");if(be.type==="arrow"||be.type==="line")return Ae?(0,m.t)("hints.linearElementMulti"):(0,m.t)("hints.linearElement");if(be.type==="freedraw")return(0,m.t)("hints.freeDraw");if(be.type==="text")return(0,m.t)("hints.text");if(oe.activeTool.type==="image"&&oe.pendingImageElementId)return(0,m.t)("hints.placeImage");var Re=(0,ue.eD)(Se,oe);if(ke&&De==="mouse"&&Re.length===1){var Xe=Re[0];return(0,I.bt)(Xe)&&Xe.points.length===2?(0,m.t)("hints.lockAngle"):(0,I.pC)(Xe)?(0,m.t)("hints.resizeImage"):(0,m.t)("hints.resize")}if(Me&&De==="mouse")return(0,m.t)("hints.rotate");if(Re.length===1&&(0,I.iB)(Re[0]))return(0,m.t)("hints.text_selected");if(oe.editingElement&&(0,I.iB)(oe.editingElement))return(0,m.t)("hints.text_editing");if(be.type==="selection"){var qe;if(((qe=oe.draggingElement)===null||qe===void 0?void 0:qe.type)==="selection"&&!oe.editingElement&&!oe.editingLinearElement)return(0,m.t)("hints.deepBoxSelect");if(!Re.length&&!ee)return(0,m.t)("hints.canvasPanning")}if(Re.length===1){if((0,I.bt)(Re[0]))return oe.editingLinearElement?oe.editingLinearElement.selectedPointsIndices?(0,m.t)("hints.lineEditor_pointSelected"):(0,m.t)("hints.lineEditor_nothingSelected"):(0,m.t)("hints.lineEditor_info");if((0,I.mG)(Re[0]))return(0,m.t)("hints.bindTextToElement")}return null}({appState:r.appState,elements:r.elements,isMobile:r.isMobile,device:r.device});return S?(S=(0,s.uY)(S),(0,e.jsx)("div",{className:"HintViewer",children:(0,e.jsx)("span",{children:S})})):null},Or=t(1881),Vr=t(5440),Xr=(t(5422),{CHECKED:J.FC,UNCHECKED:J._C}),qr=function(r){return(0,e.jsxs)("label",{className:(0,de.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":r.isMobile}),title:"".concat(r.title," \u2014 Q"),children:[(0,e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,onChange:r.onChange,checked:r.checked,"aria-label":r.title,"data-testid":"toolbar-lock"}),(0,e.jsx)("div",{className:"ToolIcon__icon",children:r.checked?Xr.CHECKED:Xr.UNCHECKED})]})},Wr=["heading","children"];function fr(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function Qr(r){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?fr(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):fr(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var Dr=function(r){var S=r.heading,K=r.children,oe=(0,He.Z)(r,Wr),Se=Un().id,ee=(0,e.jsx)("h2",{className:"visually-hidden",id:"".concat(Se,"-").concat(S,"-title"),children:(0,m.t)("headings.".concat(S))});return(0,e.jsx)("section",Qr(Qr({},oe),{},{"aria-labelledby":"".concat(Se,"-").concat(S,"-title"),children:typeof K=="function"?K(ee):(0,e.jsxs)(e.Fragment,{children:[ee,K]})}))},Fr=t(756),en=t(2316),Jr={};Jr.styleTagTransform=ve(),Jr.setAttributes=Be(),Jr.insert=Je().bind(null,"head"),Jr.domAPI=Ze(),Jr.insertStyleElement=ne(),xe()(en.Z,Jr),en.Z&&en.Z.locals&&en.Z.locals;var fn=function(r){var S=r.appState,K=r.setAppState,oe=r.isMobile,Se=ln(),ee=!oe;return S.isSidebarDocked&&S.openSidebar==="library"?null:(0,e.jsxs)("label",{title:"".concat((0,s.Oo)((0,m.t)("toolBar.library"))),children:[(0,e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(z){var be;(be=document.querySelector(".layer-ui__wrapper"))===null||be===void 0||be.classList.remove("animate");var ke=z.target.checked;K({openSidebar:ke?"library":null}),ke&&(0,p.L)("library","toggleLibrary (open)","toolbar (".concat(Se.isMobile?"mobile":"desktop",")"))},checked:S.openSidebar==="library","aria-label":(0,s.Oo)((0,m.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,e.jsxs)("div",{className:"library-button",children:[(0,e.jsx)("div",{children:J.Vq}),ee&&(0,e.jsx)("div",{className:"library-button__label",children:(0,m.t)("toolBar.library")})]})]})},V=function(r){return r.penDetected?(0,e.jsxs)("label",{className:(0,de.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":r.isMobile}),title:"".concat(r.title),children:[(0,e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,onChange:r.onChange,checked:r.checked,"aria-label":r.title}),(0,e.jsx)("div",{className:"ToolIcon__icon",children:J.tb})]}):null},he=t(8925),je=t(2681),_e={};_e.styleTagTransform=ve(),_e.setAttributes=Be(),_e.insert=Je().bind(null,"head"),_e.domAPI=Ze(),_e.insertStyleElement=ne(),xe()(je.Z,_e),je.Z&&je.Z.locals&&je.Z.locals;var Ge=function(r){var S,K=(0,he.KP)(r.elements),oe=(0,ue.Zs)(r.elements,r.appState),Se=(0,he.KP)(oe);return(0,e.jsx)("div",{className:"Stats",children:(0,e.jsxs)(Or.W,{padding:2,children:[(0,e.jsx)("div",{className:"close",onClick:r.onClose,children:J.Tw}),(0,e.jsx)("h3",{children:(0,m.t)("stats.title")}),(0,e.jsx)("table",{children:(0,e.jsxs)("tbody",{children:[(0,e.jsx)("tr",{children:(0,e.jsx)("th",{colSpan:2,children:(0,m.t)("stats.scene")})}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.elements")}),(0,e.jsx)("td",{children:r.elements.length})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.width")}),(0,e.jsx)("td",{children:Math.round(K[2])-Math.round(K[0])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.height")}),(0,e.jsx)("td",{children:Math.round(K[3])-Math.round(K[1])})]}),oe.length===1&&(0,e.jsx)("tr",{children:(0,e.jsx)("th",{colSpan:2,children:(0,m.t)("stats.element")})}),oe.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("tr",{children:(0,e.jsx)("th",{colSpan:2,children:(0,m.t)("stats.selected")})}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.elements")}),(0,e.jsx)("td",{children:oe.length})]})]}),oe.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"x"}),(0,e.jsx)("td",{children:Math.round(Se[0])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"y"}),(0,e.jsx)("td",{children:Math.round(Se[1])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.width")}),(0,e.jsx)("td",{children:Math.round(Se[2]-Se[0])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.height")}),(0,e.jsx)("td",{children:Math.round(Se[3]-Se[1])})]})]}),oe.length===1&&(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.angle")}),(0,e.jsx)("td",{children:"".concat(Math.round(180*oe[0].angle/Math.PI),"\xB0")})]}),(S=r.renderCustomStats)===null||S===void 0?void 0:S.call(r,r.elements,r.appState)]})})]})})},Qe=function(r){return(0,e.jsx)(g.V,{className:(0,de.Z)("Shape",{fillable:!1}),type:"radio",icon:J.Hk,name:"editor-current-shape",checked:r.checked,title:"".concat(r.title," \u2014 H"),keyBindingLabel:r.isMobile?void 0:M.tW.H.toLocaleUpperCase(),"aria-label":"".concat(r.title," \u2014 H"),"aria-keyshortcuts":M.tW.H,"data-testid":"toolbar-hand",onChange:function(){var S;return(S=r.onChange)===null||S===void 0?void 0:S.call(r)}})},bt=t(8888);function xt(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var ut=function(r){var S=r.appState,K=r.elements,oe=r.actionManager,Se=r.setAppState,ee=r.onLockToggle,z=r.onHandToolToggle,be=r.onPenModeToggle,ke=r.canvas,Me=r.onImageAction,De=r.renderTopRightUI,Ae=r.renderCustomStats,Re=r.renderSidebars,Xe=r.device,qe=(0,bt.R6)(),Ve=qe.welcomeScreenCenterTunnel,ht=qe.mainMenuTunnel;return(0,e.jsxs)(e.Fragment,{children:[Re(),!S.viewModeEnabled&&(0,e.jsxs)(zt,{side:"top",className:"App-top-bar",children:[(0,e.jsx)(Ve.Out,{}),(0,e.jsx)(Dr,{heading:"shapes",children:function(lt){return(0,e.jsx)(Ye.Z.Col,{gap:4,align:"center",children:(0,e.jsxs)(Ye.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,e.jsxs)(Or.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[lt,(0,e.jsx)(Ye.Z.Row,{gap:1,children:(0,e.jsx)(ft,{appState:S,canvas:ke,activeTool:S.activeTool,setAppState:Se,onImageAction:function(kt){var nt=kt.pointerType;Me({insertOnCanvasDirectly:nt!=="mouse"})}})})]}),De&&De(!0,S),(0,e.jsxs)("div",{className:"mobile-misc-tools-container",children:[!S.viewModeEnabled&&(0,e.jsx)(fn,{appState:S,setAppState:Se,isMobile:!0}),(0,e.jsx)(V,{checked:S.penMode,onChange:be,title:(0,m.t)("toolBar.penMode"),isMobile:!0,penDetected:S.penDetected}),(0,e.jsx)(qr,{checked:S.activeTool.locked,onChange:ee,title:(0,m.t)("toolBar.lock"),isMobile:!0}),(0,e.jsx)(Qe,{checked:(0,N.l$)(S),onChange:function(){return z()},title:(0,m.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,e.jsx)(lr,{appState:S,elements:K,isMobile:!0,device:Xe})]}),!S.openMenu&&S.showStats&&(0,e.jsx)(Ge,{appState:S,setAppState:Se,elements:K,onClose:function(){oe.executeAction(C.u0)},renderCustomStats:Ae}),(0,e.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Fr.nn+2*Fr.WM,marginLeft:Fr.nn+2*Fr.WM,marginRight:Fr.nn+2*Fr.WM},children:(0,e.jsxs)(Or.W,{padding:0,children:[S.openMenu==="shape"&&!S.viewModeEnabled&&(0,h.RT)(S,K)?(0,e.jsx)(Dr,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,e.jsx)(yt,{appState:S,elements:K,renderAction:oe.renderAction})}):null,(0,e.jsxs)("footer",{className:"App-toolbar",children:[S.viewModeEnabled?(0,e.jsx)("div",{className:"App-toolbar-content",children:(0,e.jsx)(ht.Out,{})}):(0,e.jsxs)("div",{className:"App-toolbar-content",children:[(0,e.jsx)(ht.Out,{}),oe.renderAction("toggleEditMenu"),oe.renderAction("undo"),oe.renderAction("redo"),oe.renderAction(S.multiElement?"finalize":"duplicateSelection"),oe.renderAction("deleteSelectedElements")]}),S.scrolledOutside&&!S.openMenu&&S.openSidebar!=="library"&&(0,e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){Se(function(lt){for(var kt=1;kt<arguments.length;kt++){var nt=arguments[kt]!=null?arguments[kt]:{};kt%2?xt(Object(nt),!0).forEach(function(Nt){(0,G.Z)(lt,Nt,nt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(nt)):xt(Object(nt)).forEach(function(Nt){Object.defineProperty(lt,Nt,Object.getOwnPropertyDescriptor(nt,Nt))})}return lt}({},(0,ue.W)(K,S,ke)))},children:(0,m.t)("buttons.scrollBackToContent")})]})]})})]})},Rt=t(5674),mt=t(8461),Gt={};Gt.styleTagTransform=ve(),Gt.setAttributes=Be(),Gt.insert=Je().bind(null,"head"),Gt.domAPI=Ze(),Gt.insertStyleElement=ne(),xe()(mt.Z,Gt),mt.Z&&mt.Z.locals&&mt.Z.locals;var er=function(r){var S=(0,se.useRef)(null),K=(0,se.useState)(null),oe=(0,y.Z)(K,2),Se=oe[0],ee=oe[1];return(0,se.useLayoutEffect)(function(){if(r.spreadsheet){var z,be=(0,Rt.ps)(r.chartType,r.spreadsheet,0,0);ee(be);var ke=S.current;return(0,c.Z)(k().mark(function Me(){var De;return k().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,(0,ot.$D)(be,{exportBackground:!1,viewBackgroundColor:gt.white},null);case 2:z=Ae.sent,(De=z.querySelector(".style-fonts"))===null||De===void 0||De.remove(),ke.replaceChildren(),ke.appendChild(z),r.selected&&ke.parentNode.focus();case 7:case"end":return Ae.stop()}},Me)}))(),function(){ke.replaceChildren()}}},[r.spreadsheet,r.chartType,r.selected]),(0,e.jsx)("button",{className:"ChartPreview",onClick:function(){Se&&r.onClick(r.chartType,Se)},children:(0,e.jsx)("div",{ref:S})})},Ut=function(r){var S=r.setAppState,K=r.appState,oe=r.onClose,Se=r.onInsertChart,ee=pe().useCallback(function(){oe&&oe()},[oe]),z=function(be,ke){Se(ke),(0,p.L)("magic","chart",be),S({currentChartType:be,pasteDialog:{shown:!1,data:null}})};return(0,e.jsx)(At.V,{small:!0,onCloseRequest:ee,title:(0,m.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,e.jsxs)("div",{className:"container",children:[(0,e.jsx)(er,{chartType:"bar",spreadsheet:K.pasteDialog.data,selected:K.currentChartType==="bar",onClick:z}),(0,e.jsx)(er,{chartType:"line",spreadsheet:K.pasteDialog.data,selected:K.currentChartType==="line",onClick:z})]})})},tr=t(2978),Ht={};Ht.styleTagTransform=ve(),Ht.setAttributes=Be(),Ht.insert=Je().bind(null,"head"),Ht.domAPI=Ze(),Ht.insertStyleElement=ne(),xe()(tr.Z,Ht),tr.Z&&tr.Z.locals&&tr.Z.locals;function Mt(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var yr=k().mark(Kr);function gr(r,S){var K=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!K){if(Array.isArray(r)||(K=function(ke,Me){if(!!ke){if(typeof ke=="string")return ar(ke,Me);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return ar(ke,Me)}}(r))||S&&r&&typeof r.length=="number"){K&&(r=K);var oe=0,Se=function(){};return{s:Se,n:function(){return oe>=r.length?{done:!0}:{done:!1,value:r[oe++]}},e:function(ke){throw ke},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,z=!0,be=!1;return{s:function(){K=K.call(r)},n:function(){var ke=K.next();return z=ke.done,ke},e:function(ke){be=!0,ee=ke},f:function(){try{z||K.return==null||K.return()}finally{if(be)throw ee}}}}function ar(r,S){(S==null||S>r.length)&&(S=r.length);for(var K=0,oe=new Array(S);K<S;K++)oe[K]=r[K];return oe}var Cr=function(){return(0,e.jsxs)("div",{className:"HelpDialog__header",children:[(0,e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,m.t)("helpDialog.documentation"),(0,e.jsx)("div",{className:"HelpDialog__link-icon",children:J.h0})]}),(0,e.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,m.t)("helpDialog.blog"),(0,e.jsx)("div",{className:"HelpDialog__link-icon",children:J.h0})]}),(0,e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,m.t)("helpDialog.github"),(0,e.jsx)("div",{className:"HelpDialog__link-icon",children:J.h0})]})]})},zr=function(r){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:r.title}),(0,e.jsx)("div",{className:"HelpDialog__islands-container",children:r.children})]})},Ur=function(r){return(0,e.jsxs)("div",{className:"HelpDialog__island ".concat(r.className),children:[(0,e.jsx)("h4",{className:"HelpDialog__island-title",children:r.caption}),(0,e.jsx)("div",{className:"HelpDialog__island-content",children:r.children})]})};function Kr(r,S){var K,oe,Se,ee;return k().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:K=!0,oe=gr(r),z.prev=2,oe.s();case 4:if((Se=oe.n()).done){z.next=14;break}if(ee=Se.value,K){z.next=9;break}return z.next=9,S;case 9:return K=!1,z.next=12,ee;case 12:z.next=4;break;case 14:z.next=19;break;case 16:z.prev=16,z.t0=z.catch(2),oe.e(z.t0);case 19:return z.prev=19,oe.f(),z.finish(19);case 22:case"end":return z.stop()}},yr,null,[[2,16,19,22]])}var pt=function(r){var S=r.label,K=r.shortcuts,oe=r.isOr,Se=oe===void 0||oe,ee=K.map(function(z){return(z.endsWith("++")?[].concat((0,f.Z)(z.slice(0,-2).split("+")),["+"]):z.split("+")).map(function(be){return(0,e.jsx)(Ir,{children:(ke=be,ke.replace(/\b[a-z]\b/,function(Me){return Me.toUpperCase()}))},be);var ke})});return(0,e.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,e.jsx)("div",{children:S}),(0,e.jsx)("div",{className:"HelpDialog__key-container",children:(0,f.Z)(Kr(ee,Se?(0,m.t)("helpDialog.or"):null))})]})},Ir=function(r){return(0,e.jsx)("kbd",function(S){for(var K=1;K<arguments.length;K++){var oe=arguments[K]!=null?arguments[K]:{};K%2?Mt(Object(oe),!0).forEach(function(Se){(0,G.Z)(S,Se,oe[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(oe)):Mt(Object(oe)).forEach(function(Se){Object.defineProperty(S,Se,Object.getOwnPropertyDescriptor(oe,Se))})}return S}({className:"HelpDialog__key"},r))},cr=function(r){var S=r.onClose,K=pe().useCallback(function(){S&&S()},[S]);return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(At.V,{onCloseRequest:K,title:(0,m.t)("helpDialog.title"),className:"HelpDialog",children:[(0,e.jsx)(Cr,{}),(0,e.jsxs)(zr,{title:(0,m.t)("helpDialog.shortcuts"),children:[(0,e.jsxs)(Ur,{className:"HelpDialog__island--tools",caption:(0,m.t)("helpDialog.tools"),children:[(0,e.jsx)(pt,{label:(0,m.t)("toolBar.hand"),shortcuts:[M.tW.H]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.selection"),shortcuts:[M.tW.V,M.tW[1]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.rectangle"),shortcuts:[M.tW.R,M.tW[2]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.diamond"),shortcuts:[M.tW.D,M.tW[3]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.ellipse"),shortcuts:[M.tW.O,M.tW[4]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.arrow"),shortcuts:[M.tW.A,M.tW[5]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.line"),shortcuts:[M.tW.L,M.tW[6]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.freedraw"),shortcuts:[M.tW.P,M.tW[7]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.text"),shortcuts:[M.tW.T,M.tW[8]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.image"),shortcuts:[M.tW[9]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.eraser"),shortcuts:[M.tW.E,M.tW[0]]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.editSelectedShape"),shortcuts:[(0,s.uY)("CtrlOrCmd+Enter"),(0,s.uY)("CtrlOrCmd + ".concat((0,m.t)("helpDialog.doubleClick")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.textNewLine"),shortcuts:[(0,s.uY)("Enter"),(0,s.uY)("Shift+Enter")]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.textFinish"),shortcuts:[(0,s.uY)("Esc"),(0,s.uY)("CtrlOrCmd+Enter")]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click")],isOr:!1}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.curvedLine"),shortcuts:["L",(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click")],isOr:!1}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.lock"),shortcuts:[M.tW.Q]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.preventBinding"),shortcuts:[(0,s.uY)("CtrlOrCmd")]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.link"),shortcuts:[(0,s.uY)("CtrlOrCmd+K")]})]}),(0,e.jsxs)(Ur,{className:"HelpDialog__island--view",caption:(0,m.t)("helpDialog.view"),children:[(0,e.jsx)(pt,{label:(0,m.t)("buttons.zoomIn"),shortcuts:[(0,s.uY)("CtrlOrCmd++")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.zoomOut"),shortcuts:[(0,s.uY)("CtrlOrCmd+-")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.resetZoom"),shortcuts:[(0,s.uY)("CtrlOrCmd+0")]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.zenMode"),shortcuts:[(0,s.uY)("Alt+Z")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.showGrid"),shortcuts:[(0,s.uY)("CtrlOrCmd+'")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.viewMode"),shortcuts:[(0,s.uY)("Alt+R")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.toggleTheme"),shortcuts:[(0,s.uY)("Alt+Shift+D")]}),(0,e.jsx)(pt,{label:(0,m.t)("stats.title"),shortcuts:[(0,s.uY)("Alt+/")]})]}),(0,e.jsxs)(Ur,{className:"HelpDialog__island--editor",caption:(0,m.t)("helpDialog.editor"),children:[(0,e.jsx)(pt,{label:(0,m.t)("labels.selectAll"),shortcuts:[(0,s.uY)("CtrlOrCmd+A")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.multiSelect"),shortcuts:[(0,s.uY)("Shift+".concat((0,m.t)("helpDialog.click")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.deepSelect"),shortcuts:[(0,s.uY)("CtrlOrCmd+".concat((0,m.t)("helpDialog.click")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,s.uY)("CtrlOrCmd+".concat((0,m.t)("helpDialog.drag")))]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.moveCanvas"),shortcuts:[(0,s.uY)("Space+".concat((0,m.t)("helpDialog.drag"))),(0,s.uY)("Wheel+".concat((0,m.t)("helpDialog.drag")))],isOr:!0}),(0,e.jsx)(pt,{label:(0,m.t)("labels.cut"),shortcuts:[(0,s.uY)("CtrlOrCmd+X")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.copy"),shortcuts:[(0,s.uY)("CtrlOrCmd+C")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.paste"),shortcuts:[(0,s.uY)("CtrlOrCmd+V")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.pasteAsPlaintext"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+V")]}),(L.vt||o.vU)&&(0,e.jsx)(pt,{label:(0,m.t)("labels.copyAsPng"),shortcuts:[(0,s.uY)("Shift+Alt+C")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.copyStyles"),shortcuts:[(0,s.uY)("CtrlOrCmd+Alt+C")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.pasteStyles"),shortcuts:[(0,s.uY)("CtrlOrCmd+Alt+V")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.delete"),shortcuts:[(0,s.uY)("Delete")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.sendToBack"),shortcuts:[o.Um?(0,s.uY)("CtrlOrCmd+Alt+["):(0,s.uY)("CtrlOrCmd+Shift+[")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.bringToFront"),shortcuts:[o.Um?(0,s.uY)("CtrlOrCmd+Alt+]"):(0,s.uY)("CtrlOrCmd+Shift+]")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.sendBackward"),shortcuts:[(0,s.uY)("CtrlOrCmd+[")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.bringForward"),shortcuts:[(0,s.uY)("CtrlOrCmd+]")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignTop"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Up")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignBottom"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Down")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignLeft"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Left")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignRight"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Right")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.duplicateSelection"),shortcuts:[(0,s.uY)("CtrlOrCmd+D"),(0,s.uY)("Alt+".concat((0,m.t)("helpDialog.drag")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.toggleElementLock"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+L")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.undo"),shortcuts:[(0,s.uY)("CtrlOrCmd+Z")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.redo"),shortcuts:o.ED?[(0,s.uY)("CtrlOrCmd+Y"),(0,s.uY)("CtrlOrCmd+Shift+Z")]:[(0,s.uY)("CtrlOrCmd+Shift+Z")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.group"),shortcuts:[(0,s.uY)("CtrlOrCmd+G")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.ungroup"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+G")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.flipHorizontal"),shortcuts:[(0,s.uY)("Shift+H")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.flipVertical"),shortcuts:[(0,s.uY)("Shift+V")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.showStroke"),shortcuts:[(0,s.uY)("S")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.showBackground"),shortcuts:[(0,s.uY)("G")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.decreaseFontSize"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+<")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.increaseFontSize"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Yr=t(6773),tn=t(8671),Mr=t(4241),Rr={};Rr.styleTagTransform=ve(),Rr.setAttributes=Be(),Rr.insert=Je().bind(null,"head"),Rr.domAPI=Ze(),Rr.insertStyleElement=ne(),xe()(Mr.Z,Rr),Mr.Z&&Mr.Z.locals&&Mr.Z.locals;var oo=function(r){var S,K=r.children,oe=r.color;return(0,e.jsx)("div",{className:"Card",style:(S={},(0,G.Z)(S,"--card-color",oe==="primary"?"var(--color-primary)":gt[oe][7]),(0,G.Z)(S,"--card-color-darker",oe==="primary"?"var(--color-primary-darker)":gt[oe][8]),(0,G.Z)(S,"--card-color-darkest",oe==="primary"?"var(--color-primary-darkest)":gt[oe][9]),S),children:K})},Lo=function(r){var S=r.elements,K=r.appState,oe=r.files,Se=r.actionManager,ee=r.exportOpts,z=r.canvas,be=ee.onExportToBackend;return(0,e.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,e.jsxs)("div",{className:"ExportDialog-cards",children:[ee.saveFileToDisk&&(0,e.jsxs)(oo,{color:"lime",children:[(0,e.jsx)("div",{className:"Card-icon",children:J.TP}),(0,e.jsx)("h2",{children:(0,m.t)("exportDialog.disk_title")}),(0,e.jsxs)("div",{className:"Card-details",children:[(0,m.t)("exportDialog.disk_details"),!Ot.kr&&Se.renderAction("changeProjectName")]}),(0,e.jsx)(g.V,{className:"Card-button",type:"button",title:(0,m.t)("exportDialog.disk_button"),"aria-label":(0,m.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){Se.executeAction(tn.mM,"ui")}})]}),be&&(0,e.jsxs)(oo,{color:"pink",children:[(0,e.jsx)("div",{className:"Card-icon",children:J.xP}),(0,e.jsx)("h2",{children:(0,m.t)("exportDialog.link_title")}),(0,e.jsx)("div",{className:"Card-details",children:(0,m.t)("exportDialog.link_details")}),(0,e.jsx)(g.V,{className:"Card-button",type:"button",title:(0,m.t)("exportDialog.link_button"),"aria-label":(0,m.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){be(S,K,oe,z),(0,p.L)("export","link","ui (".concat((0,s.$h)(),")"))}})]}),ee.renderCustomUI&&ee.renderCustomUI(S,K,oe,z)]})})},Ao=function(r){var S=r.elements,K=r.appState,oe=r.files,Se=r.actionManager,ee=r.exportOpts,z=r.canvas,be=r.setAppState,ke=pe().useCallback(function(){be({openDialog:null})},[be]);return(0,e.jsx)(e.Fragment,{children:K.openDialog==="jsonExport"&&(0,e.jsx)(At.V,{onCloseRequest:ke,title:(0,m.t)("buttons.export"),children:(0,e.jsx)(Lo,{elements:S,appState:K,files:oe,actionManager:Se,onCloseRequest:ke,exportOpts:ee,canvas:z})})})},Zo=t(6954),jn=t(8923),pn={};pn.styleTagTransform=ve(),pn.setAttributes=Be(),pn.insert=Je().bind(null,"head"),pn.domAPI=Ze(),pn.insertStyleElement=ne(),xe()(jn.Z,pn),jn.Z&&jn.Z.locals&&jn.Z.locals;var zo=t(5523),_n=t(2701),hn={};hn.styleTagTransform=ve(),hn.setAttributes=Be(),hn.insert=Je().bind(null,"head"),hn.domAPI=Ze(),hn.insertStyleElement=ne(),xe()(_n.Z,hn),_n.Z&&_n.Z.locals&&_n.Z.locals;var Ro=function(r){var S=r.id,K=r.elements,oe=r.isPending,Se=r.onClick,ee=r.selected,z=r.onToggle,be=r.onDrag,ke=(0,se.useRef)(null);(0,se.useEffect)(function(){var Ve=ke.current;if(Ve)return(0,c.Z)(k().mark(function ht(){var lt,kt;return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(K){nt.next=2;break}return nt.abrupt("return");case 2:return nt.next=4,(0,ot.$D)(K,{exportBackground:!1,viewBackgroundColor:gt.white},null);case 4:kt=nt.sent,(lt=kt.querySelector(".style-fonts"))===null||lt===void 0||lt.remove(),Ve.innerHTML=kt.outerHTML;case 7:case"end":return nt.stop()}},ht)}))(),function(){Ve.innerHTML=""}},[K]);var Me=(0,se.useState)(!1),De=(0,y.Z)(Me,2),Ae=De[0],Re=De[1],Xe=ln().isMobile,qe=oe&&(0,e.jsx)("div",{className:"library-unit__adder",children:J.pO});return(0,e.jsxs)("div",{className:(0,de.Z)("library-unit",{"library-unit__active":K,"library-unit--hover":K&&Ae,"library-unit--selected":ee}),onMouseEnter:function(){return Re(!0)},onMouseLeave:function(){return Re(!1)},children:[(0,e.jsx)("div",{className:(0,de.Z)("library-unit__dragger",{"library-unit__pulse":!!oe}),ref:ke,draggable:!!K,onClick:K||oe?function(Ve){S&&Ve.shiftKey?z(S,Ve):Se()}:void 0,onDragStart:function(Ve){S?(Re(!1),be(S,Ve)):Ve.preventDefault()}}),qe,S&&K&&(Ae||Xe||ee)&&(0,e.jsx)(jt.o,{checked:ee,onChange:function(Ve,ht){return z(S,ht)},className:"library-unit__checkbox"})]})},On=t(6440),mn={};mn.styleTagTransform=ve(),mn.setAttributes=Be(),mn.insert=Je().bind(null,"head"),mn.domAPI=Ze(),mn.insertStyleElement=ne(),xe()(On.Z,mn),On.Z&&On.Z.locals&&On.Z.locals;var io=t(5644),ao=function(r){var S=r.theme,K=r.id,oe=r.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,e.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(oe,"&useHash=true&token=").concat(K,"&theme=").concat(S,"&version=").concat(o.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,m.t)("labels.libraries")})},No=function(r){var S=r.isLoading,K=r.libraryItems,oe=r.onAddToLibrary,Se=r.onInsertLibraryItems,ee=r.pendingElements,z=r.selectedItems,be=r.onSelectItems,ke=r.theme,Me=r.id,De=r.libraryReturnUrl,Ae=(0,se.useState)(null),Re=(0,y.Z)(Ae,2),Xe=Re[0],qe=Re[1],Ve=function(It,Wt){var wt=!z.includes(It),Dt=[].concat((0,f.Z)(nt),(0,f.Z)(Nt));if(wt){if(Wt.shiftKey&&Xe){var Vt=Dt.findIndex(function(ur){return ur.id===Xe}),pr=Dt.findIndex(function(ur){return ur.id===It});if(Vt===-1||pr===-1)return void be([].concat((0,f.Z)(z),[It]));var xr=(0,s.xn)(z),_r=Dt.reduce(function(ur,Br,Xt){return(Xt>=Vt&&Xt<=pr||xr.has(Br.id))&&ur.push(Br.id),ur},[]);be(_r)}else be([].concat((0,f.Z)(z),[It]));qe(It)}else qe(null),be(z.filter(function(ur){return ur!==It}))},ht=function(It){return z.includes(It)?K.filter(function(Wt){return z.includes(Wt.id)}):K.filter(function(Wt){return Wt.id===It})},lt=function(It){var Wt,wt,Dt,Vt,pr;return(0,e.jsx)(Ye.Z.Col,{children:(0,e.jsx)(Ro,{elements:(Wt=It.item)===null||Wt===void 0?void 0:Wt.elements,isPending:!((wt=It.item)!==null&&wt!==void 0&&wt.id||(Dt=It.item)===null||Dt===void 0||!Dt.elements),onClick:It.onClick||function(){},id:((Vt=It.item)===null||Vt===void 0?void 0:Vt.id)||null,selected:!((pr=It.item)===null||pr===void 0||!pr.id)&&z.includes(It.item.id),onToggle:Ve,onDrag:function(xr,_r){_r.dataTransfer.setData(o.LO.excalidrawlib,(0,zo.NI)(ht(xr)))}})},It.key)},kt=function(It){var Wt=It.map(function(Dt){return Dt.id?lt({item:Dt,onClick:function(){return Se(ht(Dt.id))},key:Dt.id}):lt({key:"__pending__item__",item:Dt,onClick:function(){return oe(ee)}})}),wt=(0,s.yo)(Wt,4);return wt.length||(wt=[[]]),wt.map(function(Dt,Vt,pr){return Vt===pr.length-1&&(Dt=Dt.concat(new Array(4-Dt.length).fill(null).map(function(xr,_r){return lt({key:"empty_".concat(_r),item:null})}))),(0,e.jsx)(Ye.Z.Row,{align:"center",className:"library-menu-items-container__row",children:Dt},Vt)})},nt=K.filter(function(It){return It.status!=="published"}),Nt=K.filter(function(It){return It.status==="published"}),Lt=!(K.length||nt.length||Nt.length||ee.length);return(0,e.jsx)("div",{className:"library-menu-items-container",style:ee.length||nt.length||Nt.length?{justifyContent:"flex-start"}:{},children:(0,e.jsxs)(Ye.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Nt.length>0?1:"0 1 auto",marginBottom:0},children:[(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:[(ee.length>0||nt.length>0||Nt.length>0)&&(0,e.jsx)("div",{className:"library-menu-items-container__header",children:(0,m.t)("labels.personalLib")}),S&&(0,e.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,e.jsx)(io.Z,{})})]}),ee.length||nt.length?kt([].concat((0,f.Z)(ee.length?[{id:null,elements:ee}]:[]),(0,f.Z)(nt))):(0,e.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,e.jsx)("div",{className:(0,de.Z)({"library-menu-items__no-items__label":Lt}),children:(0,m.t)("library.noItems")}),(0,e.jsx)("div",{className:"library-menu-items__no-items__hint",children:Nt.length>0?(0,m.t)("library.hint_emptyPrivateLibrary"):(0,m.t)("library.hint_emptyLibrary")})]})]}),(0,e.jsxs)(e.Fragment,{children:[(Nt.length>0||ee.length>0||nt.length>0)&&(0,e.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,m.t)("labels.excalidrawLib")}),Nt.length>0?kt(Nt):nt.length>0?(0,e.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,m.t)("library.noItems")}):null]}),Lt&&(0,e.jsx)(ao,{id:Me,libraryReturnUrl:De,theme:ke})]})})},Cn=t(4739),Zn=t(9487),zn=t(9430),Bo=t(770),lo=(0,se.forwardRef)(function(r,S){var K=r.children;return(0,e.jsx)("div",{ref:S,className:"layer-ui__library",children:K})}),Ho=function(r){var S=r.onInsertLibraryItems,K=r.pendingElements,oe=r.onAddToLibrary,Se=r.setAppState,ee=r.libraryReturnUrl,z=r.library,be=r.id,ke=r.appState,Me=r.selectedItems,De=r.onSelectItems,Ae=(0,Cn.KO)(q.rF,Zn.yE),Re=(0,y.Z)(Ae,1)[0],Xe=(0,se.useCallback)(function(){var Ve=(0,c.Z)(k().mark(function ht(lt,kt){var nt;return k().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:if((0,p.L)("element","addToLibrary","ui"),!lt.some(function(Lt){return Lt.type==="image"})){Nt.next=3;break}return Nt.abrupt("return",Se({errorMessage:"Support for adding images to the library coming soon!"}));case 3:nt=[{status:"unpublished",elements:lt,id:(0,Zo.kb)(),created:Date.now()}].concat((0,f.Z)(kt)),oe(),z.setLibrary(nt).catch(function(){Se({errorMessage:(0,m.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return Nt.stop()}},ht)}));return function(ht,lt){return Ve.apply(this,arguments)}}(),[oe,z,Se]);if(Re.status==="loading"&&!Re.isInitialized)return(0,e.jsx)(lo,{children:(0,e.jsx)("div",{className:"layer-ui__library-message",children:(0,e.jsxs)("div",{children:[(0,e.jsx)(io.Z,{size:"2em"}),(0,e.jsx)("span",{children:(0,m.t)("labels.libraryLoadingMessage")})]})})});var qe=Re.libraryItems.length>0||K.length>0;return(0,e.jsxs)(lo,{children:[(0,e.jsx)(No,{isLoading:Re.status==="loading",libraryItems:Re.libraryItems,onAddToLibrary:function(Ve){return Xe(Ve,Re.libraryItems)},onInsertLibraryItems:S,pendingElements:K,selectedItems:Me,onSelectItems:De,id:be,libraryReturnUrl:ee,theme:ke.theme}),qe&&(0,e.jsx)(ao,{id:be,libraryReturnUrl:ee,theme:ke.theme})]})},Wo=function(r){var S=r.appState,K=r.onInsertElements,oe=r.libraryReturnUrl,Se=r.focusContainer,ee=r.library,z=r.id,be=Yn(),ke=Kn(),Me=ln(),De=(0,se.useState)([]),Ae=(0,y.Z)(De,2),Re=Ae[0],Xe=Ae[1],qe=(0,Cn.KO)(q.rF,Zn.yE),Ve=(0,y.Z)(qe,1)[0],ht=(0,se.useRef)(null),lt=(0,se.useCallback)(function(){document.querySelector(".Dialog")||be({openSidebar:null})},[be]);(function(Lt,It){(0,se.useEffect)(function(){var Wt=function(wt){Lt.current&&(wt.target instanceof Element&&(Lt.current.contains(wt.target)||!document.body.contains(wt.target))||It(wt))};return document.addEventListener("pointerdown",Wt,!1),function(){document.removeEventListener("pointerdown",Wt)}},[Lt,It])})(ht,(0,se.useCallback)(function(Lt){Lt.target.closest(".ToolIcon__library")||S.isSidebarDocked&&Me.canDeviceFitSidebar||lt()},[lt,S.isSidebarDocked,Me.canDeviceFitSidebar])),(0,se.useEffect)(function(){var Lt=function(It){It.key!==M.tW.ESCAPE||S.isSidebarDocked&&Me.canDeviceFitSidebar||lt()};return document.addEventListener(o.Ks.KEYDOWN,Lt),function(){document.removeEventListener(o.Ks.KEYDOWN,Lt)}},[lt,S.isSidebarDocked,Me.canDeviceFitSidebar]);var kt=(0,se.useCallback)(function(){be({selectedElementIds:{},selectedGroupIds:{}})},[be]),nt=(0,se.useCallback)(function(){var Lt=(0,c.Z)(k().mark(function It(Wt){var wt;return k().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:wt=Wt.filter(function(Vt){return!Re.includes(Vt.id)}),ee.setLibrary(wt).catch(function(){be({errorMessage:(0,m.t)("alerts.errorRemovingFromLibrary")})}),Xe([]);case 3:case"end":return Dt.stop()}},It)}));return function(It){return Lt.apply(this,arguments)}}(),[ee,be,Re,Xe]),Nt=(0,se.useCallback)(function(){ee.resetLibrary(),Se()},[ee,Se]);return(0,e.jsxs)(zn.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:S.isSidebarDocked,onDock:function(Lt){(0,p.L)("library","toggleLibraryDock (".concat(Lt?"dock":"undock",")"),"sidebar (".concat(Me.isMobile?"mobile":"desktop",")"))},ref:ht,children:[(0,e.jsx)(zn.Y.Header,{className:"layer-ui__library-header",children:(0,e.jsx)(Bo.W,{appState:S,setAppState:be,selectedItems:Re,onSelectItems:Xe,library:ee,onRemoveFromLibrary:function(){return nt(Ve.libraryItems)},resetLibrary:Nt})}),(0,e.jsx)(Ho,{pendingElements:(0,ue.eD)(ke,S,!0),onInsertLibraryItems:function(Lt){K((0,q.WV)(Lt))},onAddToLibrary:kt,setAppState:be,libraryReturnUrl:oe,library:ee,id:z,appState:S,selectedItems:Re,onSelectItems:Xe})]},"library")},Mn=t(1434),gn={};gn.styleTagTransform=ve(),gn.setAttributes=Be(),gn.insert=Je().bind(null,"head"),gn.domAPI=Ze(),gn.insertStyleElement=ne(),xe()(Mn.Z,gn),Mn.Z&&Mn.Z.locals&&Mn.Z.locals;var In=t(9144),vn={};vn.styleTagTransform=ve(),vn.setAttributes=Be(),vn.insert=Je().bind(null,"head"),vn.domAPI=Ze(),vn.insertStyleElement=ne(),xe()(In.Z,vn),In.Z&&In.Z.locals&&In.Z.locals;var Fo=t(4958),Uo=function(r){return(0,e.jsx)("button",{className:"help-icon",onClick:r.onClick,type:"button",title:"".concat(r.title," \u2014 ?"),"aria-label":r.title,children:J.by})},so=function(r){var S=r.appState,K=r.actionManager,oe=r.showExitZenModeBtn,Se=r.renderWelcomeScreen,ee=(0,bt.R6)(),z=ee.footerCenterTunnel,be=ee.welcomeScreenHelpHintTunnel,ke=ln(),Me=!S.viewModeEnabled&&S.multiElement&&ke.isTouchScreen;return(0,e.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,e.jsx)("div",{className:(0,de.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":S.zenModeEnabled}),children:(0,e.jsx)(Ye.Z.Col,{gap:2,children:(0,e.jsxs)(Dr,{heading:"canvasActions",children:[(0,e.jsx)(St,{renderAction:K.renderAction,zoom:S.zoom}),!S.viewModeEnabled&&(0,e.jsx)(Yt,{renderAction:K.renderAction,className:(0,de.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":S.zenModeEnabled})}),Me&&(0,e.jsx)(Ct,{renderAction:K.renderAction,className:(0,de.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":S.zenModeEnabled})})]})})}),(0,e.jsx)(z.Out,{}),(0,e.jsx)("div",{className:(0,de.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":S.zenModeEnabled}),children:(0,e.jsxs)("div",{style:{position:"relative"},children:[Se&&(0,e.jsx)(be.Out,{}),(0,e.jsx)(Uo,{onClick:function(){return K.executeAction(C.jY)}})]})}),(0,e.jsx)(qt,{actionManager:K,showExitZenModeBtn:oe})]})},Ko=so;so.displayName="Footer";var Nr=t(4709),Yo=t(6798),Go=["suggestedBindings","startBoundElement","cursorButton"],Vo=["canvas","onInsertElements","appState"],Xo=["canvas","onInsertElements","appState"];function co(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var qo=function(r){var S=r.UIOptions;return(0,e.jsxs)(Nr.Z,{__fallback:!0,children:[(0,e.jsx)(Nr.Z.DefaultItems.LoadScene,{}),(0,e.jsx)(Nr.Z.DefaultItems.SaveToActiveFile,{}),S.canvasActions.export&&(0,e.jsx)(Nr.Z.DefaultItems.Export,{}),S.canvasActions.saveAsImage&&(0,e.jsx)(Nr.Z.DefaultItems.SaveAsImage,{}),(0,e.jsx)(Nr.Z.DefaultItems.Help,{}),(0,e.jsx)(Nr.Z.DefaultItems.ClearCanvas,{}),(0,e.jsx)(Nr.Z.Separator,{}),(0,e.jsx)(Nr.Z.Group,{title:"Excalidraw links",children:(0,e.jsx)(Nr.Z.DefaultItems.Socials,{})}),(0,e.jsx)(Nr.Z.Separator,{}),(0,e.jsx)(Nr.Z.DefaultItems.ToggleTheme,{}),(0,e.jsx)(Nr.Z.DefaultItems.ChangeCanvasBackground,{})]})},Jo=function(r){var S,K=r.actionManager,oe=r.appState,Se=r.files,ee=r.setAppState,z=r.elements,be=r.canvas,ke=r.onLockToggle,Me=r.onHandToolToggle,De=r.onPenModeToggle,Ae=r.onInsertElements,Re=r.showExitZenModeBtn,Xe=r.renderTopRightUI,qe=r.renderCustomStats,Ve=r.renderCustomSidebar,ht=r.libraryReturnUrl,lt=r.UIOptions,kt=r.focusContainer,nt=r.library,Nt=r.id,Lt=r.onImageAction,It=r.renderWelcomeScreen,Wt=r.children,wt=ln(),Dt=(0,bt.ZC)(),Vt=function(){return lt.canvasActions.export?(0,e.jsx)(Ao,{elements:z,appState:oe,files:Se,actionManager:K,exportOpts:lt.canvasActions.export,canvas:be,setAppState:ee}):null},pr=function(){if(!lt.canvasActions.saveAsImage)return null;var Xt=function(wr){return function(){var hr=(0,c.Z)(k().mark(function Lr(Kt){var Qt;return k().wrap(function(kr){for(;;)switch(kr.prev=kr.next){case 0:return(0,p.L)("export",wr,"ui"),kr.next=3,(0,fe.p1)(wr,Kt,oe,Se,{exportBackground:oe.exportBackground,name:oe.name,viewBackgroundColor:oe.viewBackgroundColor}).catch(s.FG).catch(function(an){console.error(an),ee({errorMessage:an.message})});case 3:Qt=kr.sent,oe.exportEmbedScene&&Qt&&(0,Ue.g8)(Qt)&&ee({fileHandle:Qt});case 5:case"end":return kr.stop()}},Lr)}));return function(Lr){return hr.apply(this,arguments)}}()};return(0,e.jsx)(or,{elements:z,appState:oe,setAppState:ee,files:Se,actionManager:K,onExportToPng:Xt("png"),onExportToSvg:Xt("svg"),onExportToClipboard:Xt("clipboard")})},xr=function(){return oe.openSidebar==="customSidebar"?(Ve==null?void 0:Ve())||null:oe.openSidebar==="library"?(0,e.jsx)(Wo,{appState:oe,onInsertElements:Ae,libraryReturnUrl:ht,focusContainer:kt,library:nt,id:Nt}):null},_r=(0,Cn.KO)(zn.b,Zn.yE),ur=(0,y.Z)(_r,1)[0],Br=(0,e.jsxs)(e.Fragment,{children:[Wt,(0,e.jsx)(qo,{UIOptions:lt}),oe.isLoading&&(0,e.jsx)(Vr.z,{delay:250}),oe.errorMessage&&(0,e.jsx)(Ne,{message:oe.errorMessage,onClose:function(){return ee({errorMessage:null})}}),oe.openDialog==="help"&&(0,e.jsx)(cr,{onClose:function(){ee({openDialog:null})}}),(0,e.jsx)(Yo.o,{}),pr(),Vt(),oe.pasteDialog.shown&&(0,e.jsx)(Ut,{setAppState:ee,appState:oe,onInsertChart:Ae,onClose:function(){return ee({pasteDialog:{shown:!1,data:null}})}}),wt.isMobile&&(0,e.jsx)(ut,{appState:oe,elements:z,actionManager:K,renderJSONExportDialog:Vt,renderImageExportDialog:pr,setAppState:ee,onLockToggle:ke,onHandToolToggle:Me,onPenModeToggle:De,canvas:be,onImageAction:Lt,renderTopRightUI:Xe,renderCustomStats:qe,renderSidebars:xr,device:wt}),!wt.isMobile&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:(0,de.Z)("layer-ui__wrapper",{"disable-pointerEvents":oe.draggingElement||oe.resizingElement||oe.editingElement&&!(0,h.iB)(oe.editingElement)}),style:(oe.openSidebar==="library"&&oe.isSidebarDocked||ur.docked)&&wt.canDeviceFitSidebar?{width:"calc(100% - ".concat(o.EE,"px)")}:{},children:[It&&(0,e.jsx)(Dt.welcomeScreenCenterTunnel.Out,{}),(S=(0,h.RT)(oe,z),(0,e.jsx)(zt,{side:"top",children:(0,e.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,e.jsxs)(Ye.Z.Col,{gap:6,className:(0,de.Z)("App-menu_top__left",{"disable-pointerEvents":oe.zenModeEnabled}),children:[(0,e.jsxs)("div",{style:{position:"relative"},children:[(0,e.jsx)(Dt.mainMenuTunnel.Out,{}),It&&(0,e.jsx)(Dt.welcomeScreenMenuHintTunnel.Out,{})]}),S&&(0,e.jsx)(Dr,{heading:"selectedShapeActions",className:(0,de.Z)("selected-shape-actions zen-mode-transition",{"transition-left":oe.zenModeEnabled}),children:(0,e.jsx)(Or.W,{className:o.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(oe.height-166,"px")},children:(0,e.jsx)(yt,{appState:oe,elements:z,renderAction:K.renderAction})})})]}),!oe.viewModeEnabled&&(0,e.jsx)(Dr,{heading:"shapes",className:"shapes-section",children:function(Xt){return(0,e.jsxs)("div",{style:{position:"relative"},children:[It&&(0,e.jsx)(Dt.welcomeScreenToolbarHintTunnel.Out,{}),(0,e.jsx)(Ye.Z.Col,{gap:4,align:"start",children:(0,e.jsx)(Ye.Z.Row,{gap:1,className:(0,de.Z)("App-toolbar-container",{"zen-mode":oe.zenModeEnabled}),children:(0,e.jsxs)(Or.W,{padding:1,className:(0,de.Z)("App-toolbar",{"zen-mode":oe.zenModeEnabled}),children:[(0,e.jsx)(lr,{appState:oe,elements:z,isMobile:wt.isMobile,device:wt}),Xt,(0,e.jsxs)(Ye.Z.Row,{gap:1,children:[(0,e.jsx)(V,{zenModeEnabled:oe.zenModeEnabled,checked:oe.penMode,onChange:De,title:(0,m.t)("toolBar.penMode"),penDetected:oe.penDetected}),(0,e.jsx)(qr,{checked:oe.activeTool.locked,onChange:ke,title:(0,m.t)("toolBar.lock")}),(0,e.jsx)("div",{className:"App-toolbar__divider"}),(0,e.jsx)(Qe,{checked:(0,N.l$)(oe),onChange:function(){return Me()},title:(0,m.t)("toolBar.hand"),isMobile:!0}),(0,e.jsx)(ft,{appState:oe,canvas:be,activeTool:oe.activeTool,setAppState:ee,onImageAction:function(wr){var hr=wr.pointerType;Lt({insertOnCanvasDirectly:hr!=="mouse"})}})]})]})})})]})}}),(0,e.jsxs)("div",{className:(0,de.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":oe.zenModeEnabled}),children:[(0,e.jsx)(Yr.Z,{collaborators:oe.collaborators}),Xe==null?void 0:Xe(wt.isMobile,oe),!oe.viewModeEnabled&&(0,e.jsx)(fn,{appState:oe,setAppState:ee})]})]})})),(0,e.jsx)(Ko,{appState:oe,actionManager:K,showExitZenModeBtn:Re,renderWelcomeScreen:It}),oe.showStats&&(0,e.jsx)(Ge,{appState:oe,setAppState:ee,elements:z,onClose:function(){K.executeAction(Fo.u)},renderCustomStats:qe}),oe.scrolledOutside&&(0,e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){ee(function(Xt){for(var wr=1;wr<arguments.length;wr++){var hr=arguments[wr]!=null?arguments[wr]:{};wr%2?co(Object(hr),!0).forEach(function(Lr){(0,G.Z)(Xt,Lr,hr[Lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(hr)):co(Object(hr)).forEach(function(Lr){Object.defineProperty(Xt,Lr,Object.getOwnPropertyDescriptor(hr,Lr))})}return Xt}({},(0,ue.W)(z,oe,be)))},children:(0,m.t)("buttons.scrollBackToContent")})]}),xr()]})]});return(0,e.jsx)(Cn.zt,{scope:Dt.jotaiScope,children:(0,e.jsx)(bt.A3.Provider,{value:Dt,children:Br})})},uo=function(r){return r.suggestedBindings,r.startBoundElement,r.cursorButton,(0,He.Z)(r,Go)},$o=function(r,S){if(r.children!==S.children)return!1;r.canvas,r.onInsertElements;var K=r.appState,oe=(0,He.Z)(r,Vo),Se=(S.canvas,S.onInsertElements,S.appState),ee=(0,He.Z)(S,Xo);return(0,s.w8)(uo(K),uo(Se))&&(0,s.w8)(oe,ee)},Qo=pe().memo(Jo,$o),Pn=t(9650),bn={};bn.styleTagTransform=ve(),bn.setAttributes=Be(),bn.insert=Je().bind(null,"head"),bn.domAPI=Ze(),bn.insertStyleElement=ne(),xe()(Pn.Z,bn),Pn.Z&&Pn.Z.locals&&Pn.Z.locals;var ei=function(r){var S=r.message,K=r.onClose,oe=r.closable,Se=oe!==void 0&&oe,ee=r.duration,z=ee===void 0?5e3:ee,be=(0,se.useRef)(0),ke=z!==1/0,Me=(0,se.useCallback)(function(){ke&&(be.current=window.setTimeout(function(){return K()},z))},[K,z,ke]);(0,se.useEffect)(function(){if(ke)return Me(),function(){return clearTimeout(be.current)}},[Me,S,z,ke]);var De=ke?function(){return clearTimeout(be==null?void 0:be.current)}:void 0,Ae=ke?Me:void 0;return(0,e.jsxs)("div",{className:"Toast",onMouseEnter:De,onMouseLeave:Ae,children:[(0,e.jsx)("p",{className:"Toast__message",children:S}),Se&&(0,e.jsx)(g.V,{icon:J.Tw,"aria-label":"close",type:"icon",onClick:K,className:"close"})]})};function fo(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function po(r){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?fo(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):fo(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var ho=(0,te.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(r){return!r.viewModeEnabled}},perform:function(r,S){return{appState:po(po({},S),{},{viewModeEnabled:!this.checked(S)}),commitToHistory:!1}},checked:function(r){return r.viewModeEnabled},predicate:function(r,S,K){return K.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(r){return!r[M.tW.CTRL_OR_CMD]&&r.altKey&&r.code===M.aU.R}}),Tn=t(5637),ti=t(200),ri=t.n(ti),ni=t(2325),rn=t(4929),oi=t(267);function mo(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var go=(0,A.Z)(function r(S){var K=this,oe=S.scene,Se=S.onSceneUpdated;(0,j.Z)(this,r),this.onFontsLoaded=function(ee){if(ee.every(function(be){var ke="".concat(be.family,"-").concat(be.style,"-").concat(be.weight);return!!r.loadedFontFaces.has(ke)||(r.loadedFontFaces.add(ke),!1)}))return!1;var z=!1;K.scene.mapElements(function(be){return(0,h.iB)(be)?((0,ie.bI)(be),z=!0,(0,v.BE)(be,function(ke){for(var Me=1;Me<arguments.length;Me++){var De=arguments[Me]!=null?arguments[Me]:{};Me%2?mo(Object(De),!0).forEach(function(Ae){(0,G.Z)(ke,Ae,De[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(De)):mo(Object(De)).forEach(function(Ae){Object.defineProperty(ke,Ae,Object.getOwnPropertyDescriptor(De,Ae))})}return ke}({},(0,h.JZ)(be)))):be}),z&&K.onSceneUpdated()},this.loadFontsForElements=function(){var ee=(0,c.Z)(k().mark(function z(be){var ke;return k().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.next=2,Promise.all((0,f.Z)(new Set(be.filter(function(De){return(0,h.iB)(De)}).map(function(De){return De.fontFamily}))).map(function(De){var Ae,Re,Xe,qe,Ve=(0,s.mO)({fontFamily:De,fontSize:16});if((Ae=document.fonts)===null||Ae===void 0||(Re=Ae.check)===null||Re===void 0||!Re.call(Ae,Ve))return(Xe=document.fonts)===null||Xe===void 0||(qe=Xe.load)===null||qe===void 0?void 0:qe.call(Xe,Ve)}));case 2:ke=Me.sent,K.onFontsLoaded(ke.flat().filter(Boolean));case 4:case"end":return Me.stop()}},z)}));return function(z){return ee.apply(this,arguments)}}(),this.scene=oe,this.onSceneUpdated=Se});go.loadedFontFaces=new Set;var vo=t(4688),ii=t(2416);function bo(r,S){var K=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!K){if(Array.isArray(r)||(K=function(ke,Me){if(!!ke){if(typeof ke=="string")return yo(ke,Me);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return yo(ke,Me)}}(r))||S&&r&&typeof r.length=="number"){K&&(r=K);var oe=0,Se=function(){};return{s:Se,n:function(){return oe>=r.length?{done:!0}:{done:!1,value:r[oe++]}},e:function(ke){throw ke},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,z=!0,be=!1;return{s:function(){K=K.call(r)},n:function(){var ke=K.next();return z=ke.done,ke},e:function(ke){be=!0,ee=ke},f:function(){try{z||K.return==null||K.return()}finally{if(be)throw ee}}}}function yo(r,S){(S==null||S>r.length)&&(S=r.length);for(var K=0,oe=new Array(S);K<S;K++)oe[K]=r[K];return oe}function ai(r){var S=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var K,oe=(0,H.Z)(r);if(S){var Se=(0,H.Z)(this).constructor;K=Reflect.construct(oe,arguments,Se)}else K=oe.apply(this,arguments);return(0,Z.Z)(this,K)}}function xo(r,S){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);S&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function rt(r){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?xo(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):xo(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var wo={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},Rn=pe().createContext(wo);Rn.displayName="DeviceContext";var Nn=pe().createContext({container:null,id:null});Nn.displayName="ExcalidrawContainerContext";var Bn=pe().createContext([]);Bn.displayName="ExcalidrawElementsContext";var Hn=pe().createContext(rt(rt({},(0,N.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Hn.displayName="ExcalidrawAppStateContext";var Wn=pe().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Wn.displayName="ExcalidrawSetAppStateContext";var Fn=pe().createContext(null);Fn.displayName="ExcalidrawActionManagerContext";var ln=function(){return(0,se.useContext)(Rn)},Un=function(){return(0,se.useContext)(Nn)},Kn=function(){return(0,se.useContext)(Bn)},ko=function(){return(0,se.useContext)(Hn)},Yn=function(){return(0,se.useContext)(Wn)},li=function(){return(0,se.useContext)(Fn)},xn=!1,Gn=0,sn=0,cn=0,un=!1,wn=!1,Vn=!1,Xn={horizontal:null,vertical:null},nn=0,kn=!1,Dn=!0,qn=!1,Eo=0,So=!1,on=null,rr={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Jn=function(r){(0,n.Z)(Se,r);var S,K,oe=ai(Se);function Se(ee){var z;(0,j.Z)(this,Se),z=oe.call(this,ee),si.call((0,R.Z)(z));var be,ke=(0,N.im)(),Me=ee.excalidrawRef,De=ee.viewModeEnabled,Ae=De!==void 0&&De,Re=ee.zenModeEnabled,Xe=Re!==void 0&&Re,qe=ee.gridModeEnabled,Ve=qe!==void 0&&qe,ht=ee.theme,lt=ht===void 0?ke.theme:ht,kt=ee.name,nt=kt===void 0?ke.name:kt;if(z.state=rt(rt(rt({},ke),{},{theme:lt,isLoading:!0},z.getCanvasOffsets()),{},{viewModeEnabled:Ae,zenModeEnabled:Xe,gridSize:Ve?o.k:null,name:nt,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),z.id=(0,ye.x0)(),z.library=new q.ZP((0,R.Z)(z)),Me){var Nt,Lt="current"in Me&&((Nt=Me.current)===null||Nt===void 0?void 0:Nt.readyPromise)||(0,s.PI)(),It={ready:!0,readyPromise:Lt,updateScene:z.updateScene,updateLibrary:z.library.updateLibrary,addFiles:z.addFiles,resetScene:z.resetScene,getSceneElementsIncludingDeleted:z.getSceneElementsIncludingDeleted,history:{clear:z.resetHistory},scrollToContent:z.scrollToContent,getSceneElements:z.getSceneElements,getAppState:function(){return z.state},getFiles:function(){return z.files},refresh:z.refresh,setToast:z.setToast,id:z.id,setActiveTool:z.setActiveTool,setCursor:z.setCursor,resetCursor:z.resetCursor,toggleMenu:z.toggleMenu};typeof Me=="function"?Me(It):Me.current=It,Lt.resolve(It)}return z.excalidrawContainerValue={container:z.excalidrawContainerRef.current,id:z.id},z.scene=new Ce.Z,z.fonts=new go({scene:z.scene,onSceneUpdated:z.onSceneUpdated}),z.history=new U,z.actionManager=new X(z.syncActionResult,function(){return z.state},function(){return z.scene.getElementsIncludingDeleted()},(0,R.Z)(z)),z.actionManager.registerAll(te.N),z.actionManager.registerAction((be=z.history,{name:"undo",trackEvent:{category:"history"},perform:function(Wt,wt){return l(Wt,wt,function(){return be.undoOnce()})},keyTest:function(Wt){return Wt[M.tW.CTRL_OR_CMD]&&Wt.key.toLowerCase()===M.tW.Z&&!Wt.shiftKey},PanelComponent:function(Wt){var wt=Wt.updateData,Dt=Wt.data;return(0,e.jsx)(g.V,{type:"button",icon:J.UE,"aria-label":(0,m.t)("buttons.undo"),onClick:wt,size:(Dt==null?void 0:Dt.size)||"medium"})},commitToHistory:function(){return!1}})),z.actionManager.registerAction(function(Wt){return{name:"redo",trackEvent:{category:"history"},perform:function(wt,Dt){return l(wt,Dt,function(){return Wt.redoOnce()})},keyTest:function(wt){return wt[M.tW.CTRL_OR_CMD]&&wt.shiftKey&&wt.key.toLowerCase()===M.tW.Z||o.ED&&wt.ctrlKey&&!wt.shiftKey&&wt.key===M.tW.Y},PanelComponent:function(wt){var Dt=wt.updateData,Vt=wt.data;return(0,e.jsx)(g.V,{type:"button",icon:J.zG,"aria-label":(0,m.t)("buttons.redo"),onClick:Dt,size:(Vt==null?void 0:Vt.size)||"medium"})},commitToHistory:function(){return!1}}}(z.history)),z}return(0,A.Z)(Se,[{key:"renderCanvas",value:function(){var ee=window.devicePixelRatio,z=this.state,be=z.width,ke=z.height,Me=be*ee,De=ke*ee;return z.viewModeEnabled?(0,e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:be,height:ke,cursor:o.oc.GRAB},width:Me,height:De,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,m.t)("labels.drawingCanvas")}):(0,e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:be,height:ke},width:Me,height:De,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,m.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var ee,z=this,be=(0,ue.eD)(this.scene.getNonDeletedElements(),this.state),ke=this.props,Me=ke.renderTopRightUI,De=ke.renderCustomStats;return(0,e.jsx)("div",{className:(0,de.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,e.jsx)(Nn.Provider,{value:this.excalidrawContainerValue,children:(0,e.jsx)(Rn.Provider,{value:this.device,children:(0,e.jsx)(Wn.Provider,{value:this.setAppState,children:(0,e.jsxs)(Hn.Provider,{value:this.state,children:[(0,e.jsx)(Bn.Provider,{value:this.scene.getNonDeletedElements(),children:(0,e.jsxs)(Fn.Provider,{value:this.actionManager,children:[(0,e.jsx)(Qo,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(Ae){return z.addElementsFromPasteOrLibrary({elements:Ae,position:"center",files:null})},langCode:(0,m.G3)().code,renderTopRightUI:Me,renderCustomStats:De,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:((ee=this.props)===null||ee===void 0?void 0:ee.zenModeEnabled)===void 0&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,e.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,e.jsx)("div",{className:"excalidraw-contextMenuContainer"}),be.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,e.jsx)(rn.nW,{element:be[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},be[0].id),this.state.toast!==null&&(0,e.jsx)(ei,{message:this.state.toast.message,onClose:function(){return z.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,e.jsx)(We,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,e.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(K=(0,c.Z)(k().mark(function ee(){var z,be,ke,Me,De,Ae,Re=this;return k().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,o.Vi.TEST!=="production"&&o.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Re.state}},setState:{configurable:!0,value:function(){return Re.setState.apply(Re,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(z=this.excalidrawContainerRef)!==null&&z!==void 0&&z.current?(this.resizeObserver=new ResizeObserver(function(){Dn=!1,Re.refreshDeviceState(Re.excalidrawContainerRef.current),Re.updateDOMRect()}),(be=this.resizeObserver)===null||be===void 0||be.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(ke=window.matchMedia("(max-width: ".concat(o.kV,"px), (max-height: ").concat(o.Yx,"px) and (max-width: ").concat(o.sS,"px)")),Me=window.matchMedia("(max-width: ".concat(o.eF,"px)")),De=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:o.sk,"px)")),Ae=function(){Re.excalidrawContainerRef.current.getBoundingClientRect(),Re.device=(0,s.v4)(Re.device,{isSmScreen:Me.matches,isMobile:ke.matches,canDeviceFitSidebar:De.matches})},ke.addListener(Ae),this.detachIsMobileMqHandler=function(){return ke.removeListener(Ae)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 10:case"end":return Xe.stop()}},ee,this)})),function(){return K.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var ee;this.files={},this.imageCache.clear(),(ee=this.resizeObserver)===null||ee===void 0||ee.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(nn),nn=0}},{key:"removeEventListeners",value:function(){var ee,z,be,ke,Me;document.removeEventListener(o.Ks.POINTER_UP,this.removePointer),document.removeEventListener(o.Ks.COPY,this.onCopy),document.removeEventListener(o.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(o.Ks.CUT,this.onCut),(ee=this.excalidrawContainerRef.current)===null||ee===void 0||ee.removeEventListener(o.Ks.WHEEL,this.onWheel),(z=this.nearestScrollableContainer)===null||z===void 0||z.removeEventListener(o.Ks.SCROLL,this.onScroll),document.removeEventListener(o.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(o.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(o.Ks.KEYUP,this.onKeyUp),window.removeEventListener(o.Ks.RESIZE,this.onResize,!1),window.removeEventListener(o.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(o.Ks.BLUR,this.onBlur,!1),(be=this.excalidrawContainerRef.current)===null||be===void 0||be.removeEventListener(o.Ks.DRAG_OVER,this.disableEvent,!1),(ke=this.excalidrawContainerRef.current)===null||ke===void 0||ke.removeEventListener(o.Ks.DROP,this.disableEvent,!1),document.removeEventListener(o.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(o.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(o.Ks.GESTURE_END,this.onGestureEnd,!1),(Me=this.detachIsMobileMqHandler)===null||Me===void 0||Me.call(this)}},{key:"addEventListeners",value:function(){var ee,z,be,ke,Me,De=this;this.removeEventListeners(),document.addEventListener(o.Ks.POINTER_UP,this.removePointer),document.addEventListener(o.Ks.COPY,this.onCopy),(ee=this.excalidrawContainerRef.current)===null||ee===void 0||ee.addEventListener(o.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(o.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(o.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(o.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(z=document.fonts)===null||z===void 0||(be=z.addEventListener)===null||be===void 0||be.call(z,"loadingdone",function(Ae){var Re=Ae.fontfaces;De.fonts.onFontsLoaded(Re)}),document.addEventListener(o.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(o.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(o.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(o.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(o.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,s.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(o.Ks.SCROLL,this.onScroll)),window.addEventListener(o.Ks.RESIZE,this.onResize,!1),window.addEventListener(o.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(o.Ks.BLUR,this.onBlur,!1),(ke=this.excalidrawContainerRef.current)===null||ke===void 0||ke.addEventListener(o.Ks.DRAG_OVER,this.disableEvent,!1),(Me=this.excalidrawContainerRef.current)===null||Me===void 0||Me.addEventListener(o.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(ee,z){var be,ke,Me,De=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&ee.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(z.scrollX!==this.state.scrollX||z.scrollY!==this.state.scrollY)&&((ke=this.props)===null||ke===void 0||(Me=ke.onScrollChange)===null||Me===void 0||Me.call(ke,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,N.EN)(this.state)&&this.setState({activeTool:(0,s.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&z.theme!==this.state.theme&&(0,s.OF)(this.canvas,this.state.theme),z.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),ee.langCode!==this.props.langCode&&this.updateLanguage(),ee.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),z.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),ee.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),ee.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),ee.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?o.k:null}),this.props.name&&ee.name!==this.props.name&&this.setState({name:this.props.name}),(be=this.excalidrawContainerRef.current)===null||be===void 0||be.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){De.state.editingLinearElement&&De.actionManager.executeAction(C.pL)}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var Ae,Re,Xe=z.multiElement;z.activeTool!==this.state.activeTool&&Xe!=null&&(0,u.N1)(this.state)&&(0,I.Mn)(Xe,!1)&&(0,u.R)(Xe,this.state,this.scene,(0,s.AK)(_._.getPointAtIndexGlobalCoordinates(Xe,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(Ae=(Re=this.props).onChange)===null||Ae===void 0||Ae.call(Re,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(ee){var z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],be=(0,s.dE)({clientX:sn,clientY:cn},this.state),ke=be.x,Me=be.y,De={x:ke,y:Me,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:ee,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:o.hs,locked:!1},Ae=10,Re=Me,Xe=z?[ee]:ee.split(`
`),qe=Xe.reduce(function(Ve,ht,lt){var kt=ht.trim();if(kt.length){var nt=(0,h.VL)(rt(rt({},De),{},{x:ke,y:Re,text:kt}));Ve.push(nt),Re+=nt.height+Ae}else{var Nt;if(!((Nt=Xe[lt-1])===null||Nt===void 0)&&Nt.trim()){var Lt=(0,ct.hP)((0,s.mO)({fontSize:De.fontSize,fontFamily:De.fontFamily}));Re+=Lt+Ae}}return Ve},[]);qe.length!==0&&(this.scene.replaceAllElements([].concat((0,f.Z)(this.scene.getElementsIncludingDeleted()),(0,f.Z)(qe))),this.setState({selectedElementIds:Object.fromEntries(qe.map(function(Ve){return[Ve.id,!0]}))}),!z&&qe.length>1&&So===!1&&!this.device.isMobile&&(this.setToast({message:(0,m.t)("toast.pasteAsSingleElement",{shortcut:(0,s.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),So=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(ee,z){var be=this,ke=z.isExistingElement,Me=ke!==void 0&&ke,De=function(Ae,Re,Xe){be.scene.replaceAllElements((0,f.Z)(be.scene.getElementsIncludingDeleted().map(function(qe){return qe.id===ee.id&&(0,h.iB)(qe)?(0,h.N_)(qe,{text:Ae,isDeleted:Xe,originalText:Re}):qe})))};(0,h.b_)({id:ee.id,canvas:this.canvas,getViewportCoords:function(Ae,Re){var Xe=(0,s._i)({sceneX:Ae,sceneY:Re},be.state),qe=Xe.x,Ve=Xe.y;return[qe-be.state.offsetLeft,Ve-be.state.offsetTop]},onChange:(0,s.tH)(function(Ae){De(Ae,Ae,!1),(0,h.qP)(ee)&&(0,u.Ww)(ee)}),onSubmit:(0,s.tH)(function(Ae){var Re=Ae.text,Xe=Ae.viaKeyboard,qe=Ae.originalText,Ve=!Re.trim();if(De(Re,qe,Ve),!Ve&&Xe){var ht=ee.containerId?ee.containerId:ee.id;be.setState(function(lt){return{selectedElementIds:rt(rt({},lt.selectedElementIds),{},(0,G.Z)({},ht,!0))}})}Ve&&(0,u.$q)(be.scene.getNonDeletedElements(),[ee]),Ve&&!Me||be.history.resumeRecording(),be.setState({draggingElement:null,editingElement:null}),be.state.activeTool.locked&&(0,s.Uk)(be.canvas,be.state),be.focusContainer()}),element:ee,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),De(ee.text,ee.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(ee,z){var be=this.getElementAtPosition(ee,z,{includeBoundTextElement:!0});return be&&(0,h.iB)(be)&&!be.isDeleted?be:null}},{key:"getElementAtPosition",value:function(ee,z,be){var ke=this.getElementsAtPosition(ee,z,be==null?void 0:be.includeBoundTextElement,be==null?void 0:be.includeLockedElements);if(ke.length>1){if(be!=null&&be.preferSelected){for(var Me=ke.length-1;Me>-1;Me--)if(this.state.selectedElementIds[ke[Me].id])return ke[Me]}var De=ke[ke.length-1];return(0,h.wB)(De,this.state,ee,z)?ke[ke.length-2]:De}return ke.length===1?ke[0]:null}},{key:"getElementsAtPosition",value:function(ee,z){var be=this,ke=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Me=arguments.length>3&&arguments[3]!==void 0&&arguments[3],De=ke&&Me?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(Ae){return(Me||!Ae.locked)&&(ke||!((0,h.iB)(Ae)&&Ae.containerId))});return(0,ue.CJ)(De,function(Ae){return(0,h.wX)(Ae,be.state,ee,z)})}},{key:"handleHoverSelectedLinearElement",value:function(ee,z,be){var ke=_._.getElement(ee.elementId),Me=(0,ct.WJ)(ke);if(ke)if(this.state.selectedLinearElement){var De=-1,Ae=null;(0,ni.Qu)(ke,this.state,[z,be])?(De=_._.getPointIndexUnderCursor(ke,this.state.zoom,z,be),Ae=_._.getSegmentMidpointHitCoords(ee,{x:z,y:be},this.state),De>=0||Ae?(0,s.KJ)(this.canvas,o.oc.POINTER):(0,s.KJ)(this.canvas,o.oc.MOVE)):((0,oi.oY)([ke],this.state)&&(0,h.wB)(ke,this.state,z,be)||Me&&(0,h.wX)(Me,this.state,z,be))&&(0,s.KJ)(this.canvas,o.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==De&&this.setState({selectedLinearElement:rt(rt({},this.state.selectedLinearElement),{},{hoverPointIndex:De})}),_._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,Ae)||this.setState({selectedLinearElement:rt(rt({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:Ae})})}else(0,s.KJ)(this.canvas,o.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(ee){on!==null&&on(ee)}},{key:"updateGestureOnPointerDown",value:function(ee){rr.pointers.set(ee.pointerId,{x:ee.clientX,y:ee.clientY}),rr.pointers.size===2&&(rr.lastCenter=re(rr.pointers),rr.initialScale=this.state.zoom.value,rr.initialDistance=O(Array.from(rr.pointers.values())))}},{key:"initialPointerDownState",value:function(ee){var z=(0,s.dE)(ee,this.state),be=(0,ue.eD)(this.scene.getNonDeletedElements(),this.state),ke=(0,h.KP)(be),Me=(0,y.Z)(ke,4),De=Me[0],Ae=Me[1],Re=Me[2],Xe=Me[3];return{origin:z,withCmdOrCtrl:ee[M.tW.CTRL_OR_CMD],originInGrid:(0,s.AK)((0,D.wC)(z.x,z.y,this.state.gridSize)),scrollbars:(0,ue._4)(Xn,ee.clientX-this.state.offsetLeft,ee.clientY-this.state.offsetTop),lastCoords:rt({},z),originalElements:this.scene.getNonDeletedElements().reduce(function(qe,Ve){return qe.set(Ve.id,(0,W.OL)(Ve)),qe},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Re+De)/2,y:(Xe+Ae)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(z,be)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(ee,z){var be=this;if(!z.scrollbars.isOverEither||this.state.multiElement)return!1;Vn=!0,z.lastCoords.x=ee.clientX,z.lastCoords.y=ee.clientY;var ke=(0,s.$9)(function(De){De.target instanceof HTMLElement&&be.handlePointerMoveOverScrollbars(De,z)}),Me=(0,s.tH)(function(){Vn=!1,(0,s.Uk)(be.canvas,be.state),on=null,be.setState({cursorButton:"up"}),be.savePointer(ee.clientX,ee.clientY,"up"),window.removeEventListener(o.Ks.POINTER_MOVE,ke),window.removeEventListener(o.Ks.POINTER_UP,Me),ke.flush()});return on=Me,window.addEventListener(o.Ks.POINTER_MOVE,ke),window.addEventListener(o.Ks.POINTER_UP,Me),!0}},{key:"isASelectedElement",value:function(ee){return ee!=null&&this.state.selectedElementIds[ee.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(ee,z){if(z.length<2)return!1;var be=10/this.state.zoom.value,ke=(0,h.KP)(z),Me=(0,y.Z)(ke,4),De=Me[0],Ae=Me[1],Re=Me[2],Xe=Me[3];return ee.x>De-be&&ee.x<Re+be&&ee.y>Ae-be&&ee.y<Xe+be}},{key:"onKeyDownFromPointerDownHandler",value:function(ee){var z=this;return(0,s.tH)(function(be){z.maybeHandleResize(ee,be)||z.maybeDragNewGenericElement(ee,be)})}},{key:"onKeyUpFromPointerDownHandler",value:function(ee){var z=this;return(0,s.tH)(function(be){be.key===M.tW.ALT&&be.preventDefault(),z.maybeHandleResize(ee,be)||z.maybeDragNewGenericElement(ee,be)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(ee){var z=this;return(0,s.$9)(function(be){var ke;if(ee.drag.offset===null&&(ee.drag.offset=(0,s.AK)((0,h.$V)((0,ue.eD)(z.scene.getNonDeletedElements(),z.state),ee.origin.x,ee.origin.y))),be.target instanceof HTMLElement&&!z.handlePointerMoveOverScrollbars(be,ee)){var Me=(0,s.dE)(be,z.state);if((0,N.EN)(z.state))z.handleEraser(be,ee,Me);else{var De=(0,D.wC)(Me.x,Me.y,z.state.gridSize),Ae=(0,y.Z)(De,2),Re=Ae[0],Xe=Ae[1];if(ee.drag.hasOccurred||z.state.activeTool.type!=="arrow"&&z.state.activeTool.type!=="line"||!((0,D.LW)(Me.x,Me.y,ee.origin.x,ee.origin.y)<o.f)){if(ee.resize.isResizing&&(ee.lastCoords.x=Me.x,ee.lastCoords.y=Me.y,z.maybeHandleResize(ee,be)))return!0;if(z.state.selectedLinearElement){var qe=z.state.editingLinearElement||z.state.selectedLinearElement;if(_._.shouldAddMidpoint(z.state.selectedLinearElement,Me,z.state)){var Ve=_._.addMidpoint(z.state.selectedLinearElement,Me,z.state);return Ve?void(0,Ee.flushSync)(function(){z.state.selectedLinearElement&&z.setState({selectedLinearElement:rt(rt({},z.state.selectedLinearElement),{},{pointerDownState:Ve.pointerDownState,selectedPointsIndices:Ve.selectedPointsIndices})}),z.state.editingLinearElement&&z.setState({editingLinearElement:rt(rt({},z.state.editingLinearElement),{},{pointerDownState:Ve.pointerDownState,selectedPointsIndices:Ve.selectedPointsIndices})})}):void 0}if(qe.pointerDownState.segmentMidpoint.value!==null&&!qe.pointerDownState.segmentMidpoint.added)return;var ht=_._.handlePointDragging(be,z.state,Me.x,Me.y,function(Ar,An){z.maybeSuggestBindingsForLinearElementAtCoords(Ar,An)},qe);if(ht)return ee.lastCoords.x=Me.x,ee.lastCoords.y=Me.y,ee.drag.hasOccurred=!0,z.state.editingLinearElement&&!z.state.editingLinearElement.isDragging&&z.setState({editingLinearElement:rt(rt({},z.state.editingLinearElement),{},{isDragging:!0})}),void(z.state.selectedLinearElement.isDragging||z.setState({selectedLinearElement:rt(rt({},z.state.selectedLinearElement),{},{isDragging:!0})}))}var lt=ee.hit.allHitElements.some(function(Ar){return z.isASelectedElement(Ar)}),kt=z.state.editingLinearElement&&be.shiftKey&&z.state.editingLinearElement.elementId===((ke=ee.hit.element)===null||ke===void 0?void 0:ke.id);if((lt||ee.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!kt){var nt=(0,ue.eD)(z.scene.getNonDeletedElements(),z.state);if(nt.every(function(Ar){return Ar.locked}))return;if(ee.drag.hasOccurred=!0,nt.length>0&&!ee.withCmdOrCtrl){var Nt=(0,D.wC)(Me.x-ee.drag.offset.x,Me.y-ee.drag.offset.y,z.state.gridSize),Lt=(0,y.Z)(Nt,2),It=Lt[0],Wt=Lt[1],wt=[Math.abs(Me.x-ee.origin.x),Math.abs(Me.y-ee.origin.y)],Dt=wt[0],Vt=wt[1],pr=be.shiftKey;if((0,h.o8)(ee,nt,It,Wt,pr,Dt,Vt,z.state),z.maybeSuggestBindingForAll(nt),be.altKey&&!ee.hit.hasBeenDuplicated){ee.hit.hasBeenDuplicated=!0;var xr,_r=[],ur=[],Br=new Map,Xt=new Map,wr=ee.hit.element,hr=z.scene.getElementsIncludingDeleted(),Lr=(0,ue.eD)(hr,z.state,!0).map(function(Ar){return Ar.id}),Kt=bo(hr);try{for(Kt.s();!(xr=Kt.n()).done;){var Qt=xr.value;if(Lr.includes(Qt.id)||Qt.id===(wr==null?void 0:wr.id)&&ee.hit.wasAddedToSelection){var kr=(0,h.Sy)(z.state.editingGroupId,Br,Qt),an=(0,D.wC)(ee.origin.x-ee.drag.offset.x,ee.origin.y-ee.drag.offset.y,z.state.gridSize),jo=(0,y.Z)(an,2),ui=jo[0],di=jo[1];(0,v.DR)(kr,{x:kr.x+(ui-It),y:kr.y+(di-Wt)}),_r.push(kr),ur.push(Qt),Xt.set(Qt.id,kr.id)}else _r.push(Qt)}}catch(Ar){Kt.e(Ar)}finally{Kt.f()}var _o=[].concat(_r,ur);(0,ct.P7)(_r,ur,Xt),(0,u.ek)(_o,ur,Xt,"duplicatesServeAsOld"),z.scene.replaceAllElements(_o)}return}}var vr=z.state.draggingElement;if(vr){if(vr.type==="freedraw"){var Ln=vr.points,Oo=Me.x-vr.x,Co=Me.y-vr.y,$n=Ln.length>0&&Ln[Ln.length-1];if(!($n&&$n[0]===Oo&&$n[1]===Co)){var fi=vr.simulatePressure?vr.pressures:[].concat((0,f.Z)(vr.pressures),[be.pressure]);(0,v.DR)(vr,{points:[].concat((0,f.Z)(Ln),[[Oo,Co]]),pressures:fi})}}else if((0,I.bt)(vr)){ee.drag.hasOccurred=!0;var En=vr.points,Qn=Re-vr.x,eo=Xe-vr.y;if((0,M.Ge)(be)&&En.length===2){var Mo=(0,h.o4)(vr.x,vr.y,Me.x,Me.y);Qn=Mo.width,eo=Mo.height}En.length===1?(0,v.DR)(vr,{points:[].concat((0,f.Z)(En),[[Qn,eo]])}):En.length===2&&(0,v.DR)(vr,{points:[].concat((0,f.Z)(En.slice(0,-1)),[[Qn,eo]])}),(0,I.Mn)(vr,!1)&&z.maybeSuggestBindingsForLinearElementAtCoords(vr,[Me],z.state.startBoundElement)}else ee.lastCoords.x=Me.x,ee.lastCoords.y=Me.y,z.maybeDragNewGenericElement(ee,be);if(z.state.activeTool.type==="selection"){ee.boxSelection.hasOccurred=!0;var Io=z.scene.getNonDeletedElements();if(be.shiftKey||z.state.editingLinearElement||!(0,ue.N)(Io,z.state)||(ee.withCmdOrCtrl&&ee.hit.element?z.setState(function(Ar){return(0,b.bO)(rt(rt({},Ar),{},{selectedElementIds:(0,G.Z)({},ee.hit.element.id,!0)}),z.scene.getNonDeletedElements())}):z.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),z.state.editingLinearElement)_._.handleBoxSelection(be,z.state,z.setState.bind(z));else{var dn=(0,ue.Yp)(Io,vr);z.setState(function(Ar){return(0,b.bO)(rt(rt({},Ar),{},{selectedElementIds:rt(rt(rt({},Ar.selectedElementIds),dn.reduce(function(An,pi){return An[pi.id]=!0,An},{})),ee.hit.element?(0,G.Z)({},ee.hit.element.id,!dn.length):null),showHyperlinkPopup:!(dn.length!==1||!dn[0].link)&&"info",selectedLinearElement:dn.length===1&&(0,I.bt)(dn[0])?new _._(dn[0],z.scene):null}),z.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(ee,z){if(z.scrollbars.isOverHorizontal){var be=ee.clientX,ke=be-z.lastCoords.x;return this.setState({scrollX:this.state.scrollX-ke/this.state.zoom.value}),z.lastCoords.x=be,!0}if(z.scrollbars.isOverVertical){var Me=ee.clientY,De=Me-z.lastCoords.y;return this.setState({scrollY:this.state.scrollY-De/this.state.zoom.value}),z.lastCoords.y=Me,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(ee){var z=this;return(0,s.tH)(function(be){var ke,Me,De,Ae=z.state,Re=Ae.draggingElement,Xe=Ae.resizingElement,qe=Ae.multiElement,Ve=Ae.activeTool,ht=Ae.isResizing,lt=Ae.isRotating;if(z.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:qe||(0,h.iB)(z.state.editingElement)?z.state.editingElement:null}),z.savePointer(be.clientX,be.clientY,"up"),z.state.editingLinearElement)if(ee.boxSelection.hasOccurred||((Me=ee.hit)===null||Me===void 0||(De=Me.element)===null||De===void 0?void 0:De.id)===z.state.editingLinearElement.elementId){var kt=_._.handlePointerUp(be,z.state.editingLinearElement,z.state);kt!==z.state.editingLinearElement&&z.setState({editingLinearElement:kt,suggestedBindings:[]})}else z.actionManager.executeAction(C.pL);else if(z.state.selectedLinearElement){var nt,Nt;if(((nt=ee.hit)===null||nt===void 0||(Nt=nt.element)===null||Nt===void 0?void 0:Nt.id)!==z.state.selectedLinearElement.elementId)(0,ue.eD)(z.scene.getNonDeletedElements(),z.state).length>1&&z.setState({selectedLinearElement:null});else{var Lt=_._.handlePointerUp(be,z.state.selectedLinearElement,z.state),It=Lt.startBindingElement,Wt=Lt.endBindingElement,wt=z.scene.getElement(Lt.elementId);(0,I.Mn)(wt)&&(0,u.HG)(wt,It,Wt),Lt!==z.state.selectedLinearElement&&z.setState({selectedLinearElement:rt(rt({},Lt),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(on=null,ee.eventListeners.onMove&&ee.eventListeners.onMove.flush(),window.removeEventListener(o.Ks.POINTER_MOVE,ee.eventListeners.onMove),window.removeEventListener(o.Ks.POINTER_UP,ee.eventListeners.onUp),window.removeEventListener(o.Ks.KEYDOWN,ee.eventListeners.onKeyDown),window.removeEventListener(o.Ks.KEYUP,ee.eventListeners.onKeyUp),z.state.pendingImageElementId&&z.setState({pendingImageElementId:null}),(Re==null?void 0:Re.type)==="freedraw"){var Dt=(0,s.dE)(be,z.state),Vt=Re.points,pr=Dt.x-Re.x,xr=Dt.y-Re.y;pr===Vt[0][0]&&xr===Vt[0][1]&&(xr+=1e-4,pr+=1e-4);var _r=Re.simulatePressure?[]:[].concat((0,f.Z)(Re.pressures),[be.pressure]);return(0,v.DR)(Re,{points:[].concat((0,f.Z)(Vt),[[pr,xr]]),pressures:_r,lastCommittedPoint:[pr,xr]}),void z.actionManager.executeAction(C.pL)}if((0,I.pC)(Re)){var ur=Re;try{z.initializeImageDimensions(ur),z.setState({selectedElementIds:(0,G.Z)({},ur.id,!0)},function(){z.actionManager.executeAction(C.pL)})}catch(Kt){console.error(Kt),z.scene.replaceAllElements(z.scene.getElementsIncludingDeleted().filter(function(Qt){return Qt.id!==ur.id})),z.actionManager.executeAction(C.pL)}}else if((0,I.bt)(Re)){Re.points.length>1&&z.history.resumeRecording();var Br=(0,s.dE)(be,z.state);ee.drag.hasOccurred||!Re||qe?ee.drag.hasOccurred&&!qe&&((0,u.N1)(z.state)&&(0,I.Mn)(Re,!1)&&(0,u.R)(Re,z.state,z.scene,Br),z.setState({suggestedBindings:[],startBoundElement:null}),Ve.locked?z.setState(function(Kt){return{draggingElement:null}}):((0,s.z8)(z.canvas),z.setState(function(Kt){return{draggingElement:null,activeTool:(0,s.Om)(z.state,{type:"selection"}),selectedElementIds:rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Re.id,!0)),selectedLinearElement:new _._(Re,z.scene)}}))):((0,v.DR)(Re,{points:[].concat((0,f.Z)(Re.points),[[Br.x-Re.x,Br.y-Re.y]])}),z.setState({multiElement:Re,editingElement:z.state.draggingElement}))}else{if(Ve.type!=="selection"&&Re&&(0,h.QD)(Re))return z.scene.replaceAllElements(z.scene.getElementsIncludingDeleted().slice(0,-1)),void z.setState({draggingElement:null});Re&&(0,v.DR)(Re,(0,h.Qp)(Re)),Xe&&z.history.resumeRecording(),Xe&&(0,h.QD)(Xe)&&z.scene.replaceAllElements(z.scene.getElementsIncludingDeleted().filter(function(Kt){return Kt.id!==Xe.id}));var Xt=ee.hit.element;if(((ke=z.state.selectedLinearElement)===null||ke===void 0?void 0:ke.elementId)!==(Xt==null?void 0:Xt.id)&&(0,I.bt)(Xt)&&(0,ue.eD)(z.scene.getNonDeletedElements(),z.state).length===1&&z.setState({selectedLinearElement:new _._(Xt,z.scene)}),(0,N.EN)(z.state)){if((0,D.LW)(z.lastPointerDown.clientX,z.lastPointerDown.clientY,z.lastPointerUp.clientX,z.lastPointerUp.clientY)===0){var wr=(0,s.dE)({clientX:z.lastPointerUp.clientX,clientY:z.lastPointerUp.clientY},z.state);z.getElementsAtPosition(wr.x,wr.y).forEach(function(Kt){return ee.elementIdsToErase[Kt.id]={erase:!0,opacity:Kt.opacity}})}z.eraseElements(ee)}else{var hr;if(Object.keys(ee.elementIdsToErase).length&&z.restoreReadyToEraseElements(ee),Xt&&!ee.drag.hasOccurred&&!ee.hit.wasAddedToSelection&&(!z.state.editingLinearElement||!ee.boxSelection.hasOccurred))if(be.shiftKey&&!z.state.editingLinearElement)if(z.state.selectedElementIds[Xt.id])if((0,b.zq)(z.state,Xt)){var Lr=Xt.groupIds.flatMap(function(Kt){return(0,b.Fb)(z.scene.getNonDeletedElements(),Kt)}).map(function(Kt){return(0,G.Z)({},Kt.id,!1)}).reduce(function(Kt,Qt){return rt(rt({},Kt),Qt)},{});z.setState(function(Kt){return{selectedGroupIds:rt(rt({},Kt.selectedElementIds),Xt.groupIds.map(function(Qt){return(0,G.Z)({},Qt,!1)}).reduce(function(Qt,kr){return rt(rt({},Qt),kr)},{})),selectedElementIds:rt(rt({},Kt.selectedElementIds),Lr)}})}else(hr=z.state.selectedLinearElement)!==null&&hr!==void 0&&hr.isDragging||z.setState(function(Kt){var Qt=rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Xt.id,!1)),kr=(0,ue.eD)(z.scene.getNonDeletedElements(),rt(rt({},Kt),{},{selectedElementIds:Qt}));return(0,b.bO)(rt(rt({},Kt),{},{selectedElementIds:Qt,selectedLinearElement:kr.length===1&&(0,I.bt)(kr[0])?new _._(kr[0],z.scene):Kt.selectedLinearElement}),z.scene.getNonDeletedElements())});else z.setState(function(Kt){return{selectedElementIds:rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Xt.id,!0))}});else z.setState(function(Kt){var Qt;return rt({},(0,b.bO)(rt(rt({},Kt),{},{selectedElementIds:(0,G.Z)({},Xt.id,!0),selectedLinearElement:(0,I.bt)(Xt)&&((Qt=Kt.selectedLinearElement)===null||Qt===void 0?void 0:Qt.elementId)!==Xt.id?new _._(Xt,z.scene):Kt.selectedLinearElement}),z.scene.getNonDeletedElements()))});ee.drag.hasOccurred||z.state.isResizing||!(Xt&&(0,h.wB)(Xt,z.state,ee.origin.x,ee.origin.y)||!Xt&&ee.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ve.locked&&Ve.type!=="freedraw"&&Re&&z.setState(function(Kt){return{selectedElementIds:rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Re.id,!0))}}),(Ve.type!=="selection"||(0,ue.N)(z.scene.getNonDeletedElements(),z.state))&&z.history.resumeRecording(),(ee.drag.hasOccurred||ht||lt)&&((0,u.N1)(z.state)?u.el:u.H)((0,ue.eD)(z.scene.getNonDeletedElements(),z.state)),Ve.locked||Ve.type==="freedraw"?z.setState({draggingElement:null,suggestedBindings:[]}):((0,s.z8)(z.canvas),z.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,s.Om)(z.state,{type:"selection"})}))):z.state.editingLinearElement?z.setState({editingLinearElement:null}):z.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(ee){var z=(0,u.ZB)(ee);this.setState({suggestedBindings:z})}},{key:"clearSelection",value:function(ee){this.setState(function(z){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:z.editingGroupId&&ee!=null&&(0,b.Nd)(ee,z.editingGroupId)?z.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(ee,z,be,ke){if(ke){var Me=ke.x+ke.width/2,De=ke.y+ke.height/2,Ae=(0,ct.TP)(ke,be);if(Ae&&(Me=Ae.x,De=Ae.y),Math.hypot(ee-Me,z-De)<o.wZ){var Re=(0,s._i)({sceneX:Me,sceneY:De},be);return{viewportX:Re.x,viewportY:Re.y,elementCenterX:Me,elementCenterY:De}}}}},{key:"getCanvasOffsets",value:function(){var ee;if((ee=this.excalidrawContainerRef)!==null&&ee!==void 0&&ee.current){var z=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:z.left,offsetTop:z.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(S=(0,c.Z)(k().mark(function ee(){var z,be=this;return k().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return z=m.Mj.find(function(Me){return Me.code===be.props.langCode})||m.Fp,ke.next=3,(0,m.m0)(z);case 3:this.setAppState({});case 4:case"end":return ke.stop()}},ee,this)})),function(){return S.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){xn=!1}}]),Se}(pe().Component);Jn.defaultProps={UIOptions:o.cW};var si=function(){var r=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=wo,this.excalidrawContainerRef=pe().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var S;r.props.autoFocus&&((S=r.excalidrawContainerRef.current)===null||S===void 0||S.focus())},this.getSceneElementsIncludingDeleted=function(){return r.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return r.scene.getNonDeletedElements()},this.syncActionResult=(0,s.tH)(function(S){if(!r.unmounted&&S!==!1){var K=null;if(S.elements&&(S.elements.forEach(function(qe){var Ve;((Ve=r.state.editingElement)===null||Ve===void 0?void 0:Ve.id)===qe.id&&r.state.editingElement!==qe&&(0,h.qP)(qe)&&(K=qe)}),r.scene.replaceAllElements(S.elements),S.commitToHistory&&r.history.resumeRecording()),S.files&&(r.files=S.replaceFiles?S.files:rt(rt({},r.files),S.files),r.addNewImagesToImageCache()),S.appState||K||r.state.contextMenu){var oe,Se,ee,z,be,ke;S.commitToHistory&&r.history.resumeRecording();var Me=(S==null||(oe=S.appState)===null||oe===void 0?void 0:oe.viewModeEnabled)||!1,De=(S==null||(Se=S.appState)===null||Se===void 0?void 0:Se.zenModeEnabled)||!1,Ae=(S==null||(ee=S.appState)===null||ee===void 0?void 0:ee.gridSize)||null,Re=(S==null||(z=S.appState)===null||z===void 0?void 0:z.theme)||r.props.theme||o.C6.LIGHT,Xe=(be=S==null||(ke=S.appState)===null||ke===void 0?void 0:ke.name)!==null&&be!==void 0?be:r.state.name;r.props.viewModeEnabled!==void 0&&(Me=r.props.viewModeEnabled),r.props.zenModeEnabled!==void 0&&(De=r.props.zenModeEnabled),r.props.gridModeEnabled!==void 0&&(Ae=r.props.gridModeEnabled?o.k:null),r.props.name!==void 0&&(Xe=r.props.name),r.setState(function(qe){var Ve;return Object.assign(S.appState||{},{contextMenu:null,editingElement:K||((Ve=S.appState)===null||Ve===void 0?void 0:Ve.editingElement)||null,viewModeEnabled:Me,zenModeEnabled:De,gridSize:Ae,theme:Re,name:Xe})},function(){S.syncHistory&&r.history.setCurrentState(r.state,r.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,s.tH)(function(){un=!1,r.setState({isBindingEnabled:!0})}),this.onUnload=function(){r.onBlur()},this.disableEvent=function(S){S.preventDefault()},this.resetHistory=function(){r.history.clear()},this.resetScene=(0,s.tH)(function(S){r.scene.replaceAllElements([]),r.setState(function(K){return rt(rt({},(0,N.im)()),{},{isLoading:(S==null||!S.resetLoadingState)&&K.isLoading,theme:r.state.theme})}),r.resetHistory()}),this.initializeScene=(0,c.Z)(k().mark(function S(){var K,oe,Se,ee,z;return k().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ke=(0,c.Z)(k().mark(function Me(De){var Ae,Re;return k().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(De.files.length){Xe.next=2;break}return Xe.abrupt("return");case 2:return Ae=De.files[0],Xe.next=5,Ae.getFile();case 5:Re=Xe.sent,r.loadFileToCanvas(new File([Re],Re.name||"",{type:Re.type}),Ae);case 7:case"end":return Xe.stop()}},Me)}));return function(Me){return ke.apply(this,arguments)}}()),r.props.theme&&r.setState({theme:r.props.theme}),r.state.isLoading||r.setState({isLoading:!0}),Se=null,be.prev=4,be.next=7,r.props.initialData;case 7:if(be.t0=be.sent,be.t0){be.next=10;break}be.t0=null;case 10:Se=be.t0,(ee=Se)!==null&&ee!==void 0&&ee.libraryItems&&r.library.updateLibrary({libraryItems:Se.libraryItems,merge:!0}).catch(function(ke){console.error(ke)}),be.next=18;break;case 14:be.prev=14,be.t1=be.catch(4),console.error(be.t1),Se={appState:{errorMessage:be.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(z=(0,F.nu)(Se,null,null)).appState=rt(rt({},z.appState),{},{theme:r.props.theme||z.appState.theme,openSidebar:((K=z.appState)===null||K===void 0?void 0:K.openSidebar)||r.state.openSidebar,activeTool:z.appState.activeTool.type==="image"?rt(rt({},z.appState.activeTool),{},{type:"selection"}):z.appState.activeTool,isLoading:!1,toast:r.state.toast}),(oe=Se)!==null&&oe!==void 0&&oe.scrollToContent&&(z.appState=rt(rt({},z.appState),(0,ue.W)(z.elements,rt(rt({},z.appState),{},{width:r.state.width,height:r.state.height,offsetTop:r.state.offsetTop,offsetLeft:r.state.offsetLeft}),null))),r.fonts.loadFontsForElements(z.elements),r.resetHistory(),r.syncActionResult(rt(rt({},z),{},{commitToHistory:!0}));case 24:case"end":return be.stop()}},S,null,[[4,14]])})),this.refreshDeviceState=function(S){var K=S.getBoundingClientRect(),oe=K.width,Se=K.height,ee=r.props.UIOptions.dockedSidebarBreakpoint!=null?r.props.UIOptions.dockedSidebarBreakpoint:o.sk;r.device=(0,s.v4)(r.device,{isSmScreen:oe<o.eF,isMobile:oe<o.kV||Se<o.Yx&&oe<o.sS,canDeviceFitSidebar:oe>ee})},this.onResize=(0,s.tH)(function(){r.scene.getElementsIncludingDeleted().forEach(function(S){return(0,ie.bI)(S)}),r.setState({})}),this.renderScene=function(){var S={},K={},oe={},Se={},ee={};r.state.collaborators.forEach(function(ke,Me){if(ke.selectedElementIds)for(var De=0,Ae=Object.keys(ke.selectedElementIds);De<Ae.length;De++){var Re=Ae[De];Re in oe||(oe[Re]=[]),oe[Re].push(Me)}ke.pointer&&(ke.username&&(Se[Me]=ke.username),ke.userState&&(ee[Me]=ke.userState),K[Me]=(0,s._i)({sceneX:ke.pointer.x,sceneY:ke.pointer.y},r.state),S[Me]=ke.button)});var z=r.scene.getNonDeletedElements().filter(function(ke){return(!(0,I.pC)(ke)||r.state.pendingImageElementId!==ke.id)&&(!r.state.editingElement||r.state.editingElement.type!=="text"||ke.id!==r.state.editingElement.id)}),be=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,ce.Eu)({elements:z,appState:r.state,scale:window.devicePixelRatio,rc:r.rc,canvas:r.canvas,renderConfig:{selectionColor:be,scrollX:r.state.scrollX,scrollY:r.state.scrollY,viewBackgroundColor:r.state.viewBackgroundColor,zoom:r.state.zoom,remotePointerViewportCoords:K,remotePointerButton:S,remoteSelectedElementIds:oe,remotePointerUsernames:Se,remotePointerUserStates:ee,shouldCacheIgnoreZoom:r.state.shouldCacheIgnoreZoom,theme:r.state.theme,imageCache:r.imageCache,isExporting:!1,renderScrollbars:!r.device.isMobile},callback:function(ke){var Me=ke.atLeastOneVisibleElement,De=ke.scrollBars;De&&(Xn=De);var Ae=!(0,h.iB)(r.state.editingElement)&&!Me&&z.length>0;r.state.scrolledOutside!==Ae&&r.setState({scrolledOutside:Ae}),r.scheduleImageRefresh()}},Dn&&window.EXCALIDRAW_THROTTLE_RENDER===!0),Dn||(Dn=!0)},this.onScroll=(0,s.Ds)(function(){var S=r.getCanvasOffsets(),K=S.offsetTop,oe=S.offsetLeft;r.setState(function(Se){return Se.offsetLeft===oe&&Se.offsetTop===K?null:{offsetTop:K,offsetLeft:oe}})},o.HM),this.onCut=(0,s.tH)(function(S){var K;((K=r.excalidrawContainerRef.current)===null||K===void 0?void 0:K.contains(document.activeElement))&&!(0,s.s)(S.target)&&(r.cutAll(),S.preventDefault(),S.stopPropagation())}),this.onCopy=(0,s.tH)(function(S){var K;((K=r.excalidrawContainerRef.current)===null||K===void 0?void 0:K.contains(document.activeElement))&&!(0,s.s)(S.target)&&(r.copyAll(),S.preventDefault(),S.stopPropagation())}),this.cutAll=function(){r.actionManager.executeAction(C.ZM,"keyboard")},this.copyAll=function(){r.actionManager.executeAction(C.uN,"keyboard")},this.onTapStart=function(S){if(o.Dt||S.preventDefault(),!xn)return xn=!0,clearTimeout(Gn),void(Gn=window.setTimeout(Jn.resetTapTwice,o.Gj));if(xn&&S.touches.length===1){var K=(0,y.Z)(S.touches,1)[0];r.handleCanvasDoubleClick({clientX:K.clientX,clientY:K.clientY}),xn=!1,clearTimeout(Gn)}o.Dt&&S.preventDefault(),S.touches.length===2&&r.setState({selectedElementIds:{}})},this.onTapEnd=function(S){r.resetContextMenuTimer(),S.touches.length>0?r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds}):rr.pointers.clear()},this.pasteFromClipboard=(0,s.tH)(function(){var S=(0,c.Z)(k().mark(function K(oe){var Se,ee,z,be,ke,Me,De,Ae,Re,Xe,qe,Ve,ht;return k().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(z=!(!qn||!oe),be=document.activeElement,ke=(Se=r.excalidrawContainerRef.current)===null||Se===void 0?void 0:Se.contains(be),!oe||ke){lt.next=5;break}return lt.abrupt("return");case 5:if(Me=document.elementFromPoint(sn,cn),!oe||Me instanceof HTMLCanvasElement&&!(0,s.s)(be)){lt.next=8;break}return lt.abrupt("return");case 8:return De=oe==null||(ee=oe.clipboardData)===null||ee===void 0?void 0:ee.files[0],lt.next=11,(0,L.mQ)(oe,z);case 11:if(Ae=lt.sent,De||!Ae.text||z||(Re=Ae.text.trim()).startsWith("<svg")&&Re.endsWith("</svg>")&&(De=(0,Ue.Pn)(Re)),!(0,Ue.Wr)(De)||Ae.spreadsheet){lt.next=20;break}return Xe=(0,s.dE)({clientX:sn,clientY:cn},r.state),qe=Xe.x,Ve=Xe.y,ht=r.createImageElement({sceneX:qe,sceneY:Ve}),r.insertImageElement(ht,De),r.initializeImageDimensions(ht),r.setState({selectedElementIds:(0,G.Z)({},ht.id,!0)}),lt.abrupt("return");case 20:if(!r.props.onPaste){lt.next=32;break}return lt.prev=21,lt.next=24,r.props.onPaste(Ae,oe);case 24:if(lt.t0=lt.sent,lt.t0!==!1){lt.next=27;break}return lt.abrupt("return");case 27:lt.next=32;break;case 29:lt.prev=29,lt.t1=lt.catch(21),console.error(lt.t1);case 32:Ae.errorMessage?r.setState({errorMessage:Ae.errorMessage}):Ae.spreadsheet&&!z?r.setState({pasteDialog:{data:Ae.spreadsheet,shown:!0}}):Ae.elements?r.addElementsFromPasteOrLibrary({elements:Ae.elements,files:Ae.files||null,position:"cursor"}):Ae.text&&r.addTextFromPaste(Ae.text,z),r.setActiveTool({type:"selection"}),oe==null||oe.preventDefault();case 35:case"end":return lt.stop()}},K,null,[[21,29]])}));return function(K){return S.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(S){var K=(0,F.ET)(S.elements,null),oe=(0,h.KP)(K),Se=(0,y.Z)(oe,4),ee=Se[0],z=Se[1],be=Se[2],ke=Se[3],Me=(0,s.TE)(ee,be)/2,De=(0,s.TE)(z,ke)/2,Ae=(0,w.Z)(S.position)==="object"?S.position.clientX:S.position==="cursor"?sn:r.state.width/2+r.state.offsetLeft,Re=(0,w.Z)(S.position)==="object"?S.position.clientY:S.position==="cursor"?cn:r.state.height/2+r.state.offsetTop,Xe=(0,s.dE)({clientX:Ae,clientY:Re},r.state),qe=Xe.x-Me,Ve=Xe.y-De,ht=new Map,lt=(0,D.wC)(qe,Ve,r.state.gridSize),kt=(0,y.Z)(lt,2),nt=kt[0],Nt=kt[1],Lt=new Map,It=K.map(function(wt){var Dt=(0,h.Sy)(r.state.editingGroupId,ht,wt,{x:wt.x+nt-ee,y:wt.y+Nt-z});return Lt.set(wt.id,Dt.id),Dt});(0,ct.P7)(It,K,Lt);var Wt=[].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),(0,f.Z)(It));(0,u.ek)(Wt,K,Lt),S.files&&(r.files=rt(rt({},r.files),S.files)),r.scene.replaceAllElements(Wt),r.history.resumeRecording(),r.setState((0,b.bO)(rt(rt({},r.state),{},{openSidebar:r.state.openSidebar&&r.device.canDeviceFitSidebar&&r.state.isSidebarDocked?r.state.openSidebar:null,selectedElementIds:It.reduce(function(wt,Dt){return(0,I.Xh)(Dt)||(wt[Dt.id]=!0),wt},{}),selectedGroupIds:{}}),r.scene.getNonDeletedElements()),function(){S.files&&r.addNewImagesToImageCache()}),r.setActiveTool({type:"selection"})},this.setAppState=function(S,K){r.setState(S,K)},this.removePointer=function(S){nn&&r.resetContextMenuTimer(),rr.pointers.delete(S.pointerId)},this.toggleLock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";r.state.activeTool.locked||(0,p.L)("toolbar","toggleLock","".concat(S," (").concat(r.device.isMobile?"mobile":"desktop",")")),r.setState(function(K){return{activeTool:rt(rt(rt({},K.activeTool),(0,s.Om)(r.state,K.activeTool.locked?{type:"selection"}:K.activeTool)),{},{locked:!K.activeTool.locked})}})},this.togglePenMode=function(){r.setState(function(S){return{penMode:!S.penMode}})},this.onHandToolToggle=function(){r.actionManager.executeAction(ii.eF)},this.scrollToContent=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.scene.getNonDeletedElements();r.setState(rt({},(0,ue.W)(Array.isArray(S)?S:[S],r.state,r.canvas)))},this.setToast=function(S){r.setState({toast:S})},this.restoreFileFromShare=(0,c.Z)(k().mark(function S(){var K,oe,Se,ee;return k().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,caches.open("web-share-target");case 3:return K=z.sent,z.next=6,K.match("shared-file");case 6:if(!(oe=z.sent)){z.next=16;break}return z.next=10,oe.blob();case 10:return Se=z.sent,ee=new File([Se],Se.name||"",{type:Se.type}),r.loadFileToCanvas(ee,null),z.next=15,K.delete("shared-file");case 15:window.history.replaceState(null,o.iC,window.location.pathname);case 16:z.next=21;break;case 18:z.prev=18,z.t0=z.catch(0),r.setState({errorMessage:z.t0.message});case 21:case"end":return z.stop()}},S,null,[[0,18]])})),this.addFiles=(0,s.tH)(function(S){var K=S.reduce(function(oe,Se){return oe.set(Se.id,Se),oe},new Map);r.files=rt(rt({},r.files),Object.fromEntries(K)),r.scene.getNonDeletedElements().forEach(function(oe){(0,I.wi)(oe)&&K.has(oe.fileId)&&(r.imageCache.delete(oe.fileId),(0,ie.bI)(oe))}),r.scene.informMutation(),r.addNewImagesToImageCache()}),this.updateScene=(0,s.tH)(function(S){S.commitToHistory&&r.history.resumeRecording(),S.appState&&r.setState(S.appState),S.elements&&r.scene.replaceAllElements(S.elements),S.collaborators&&r.setState({collaborators:S.collaborators})}),this.onSceneUpdated=function(){r.setState({})},this.toggleMenu=function(S,K){return S!=="customSidebar"||r.props.renderSidebar?(S==="library"||S==="customSidebar")&&(oe=K===void 0?r.state.openSidebar===S?null:S:K?S:null,r.setState({openSidebar:oe}),!!oe):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var oe},this.updateCurrentCursorPosition=(0,s.tH)(function(S){sn=S.clientX,cn=S.clientY}),this.onKeyDown=(0,s.tH)(function(S){if("Proxy"in window&&(!S.shiftKey&&/^[A-Z]$/.test(S.key)||S.shiftKey&&/^[a-z]$/.test(S.key))&&(S=new Proxy(S,{get:function(Ve,ht){var lt=Ve[ht];return typeof lt=="function"?lt.bind(Ve):ht==="key"?S.shiftKey?Ve.key.toUpperCase():Ve.key.toLowerCase():lt}})),S[M.tW.CTRL_OR_CMD]&&S.key.toLowerCase()===M.tW.V&&(qn=S.shiftKey,clearTimeout(Eo),Eo=window.setTimeout(function(){qn=!1},100)),!S[M.tW.CTRL_OR_CMD]||!(0,s.s)(S.target)||S.code!==M.aU.MINUS&&S.code!==M.aU.EQUAL){if(!((0,s.s)(S.target)&&S.key!==M.tW.ESCAPE||(0,M.Wl)(S.key)&&(0,s._Z)(S.target)))if(S.key!==M.tW.QUESTION_MARK)if(S.key.toLowerCase()===M.tW.E&&S.shiftKey&&S[M.tW.CTRL_OR_CMD])r.setState({openDialog:"imageExport"});else{if(S.key===M.tW.PAGE_UP||S.key===M.tW.PAGE_DOWN){var K=(S.shiftKey?r.state.width:r.state.height)/r.state.zoom.value;S.key===M.tW.PAGE_DOWN&&(K=-K),S.shiftKey?r.setState(function(Ve){return{scrollX:Ve.scrollX+K}}):r.setState(function(Ve){return{scrollY:Ve.scrollY+K}})}if(!r.actionManager.handleKeyDown(S)&&!r.state.viewModeEnabled){if(S[M.tW.CTRL_OR_CMD]&&r.state.isBindingEnabled&&r.setState({isBindingEnabled:!1}),(0,M.Wl)(S.key)){var oe=r.state.gridSize&&(S.shiftKey?o.$e:r.state.gridSize)||(S.shiftKey?o.Iw:o.$e),Se=0,ee=0;S.key===M.tW.ARROW_LEFT?Se=-oe:S.key===M.tW.ARROW_RIGHT?Se=oe:S.key===M.tW.ARROW_UP?ee=-oe:S.key===M.tW.ARROW_DOWN&&(ee=oe);var z=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state,!0);z.forEach(function(Ve){(0,v.DR)(Ve,{x:Ve.x+Se,y:Ve.y+ee}),(0,u.Ww)(Ve,{simultaneouslyUpdated:z})}),r.maybeSuggestBindingForAll(z),S.preventDefault()}else if(S.key===M.tW.ENTER){var be=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(be.length===1){var ke=be[0];if(S[M.tW.CTRL_OR_CMD])(0,I.bt)(ke)&&(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===be[0].id||(r.history.resumeRecording(),r.setState({editingLinearElement:new _._(ke,r.scene)})));else if((0,h.iB)(ke)||(0,ct.Zr)(ke)){var Me;(0,h.iB)(ke)||(Me=ke);var De=(0,ct.TP)(ke,r.state),Ae=De.x,Re=De.y;return r.startTextEditing({sceneX:Ae,sceneY:Re,container:Me}),void S.preventDefault()}}}else if(!S.ctrlKey&&!S.altKey&&!S.metaKey&&r.state.draggingElement===null){var Xe=function(Ve){var ht=B.find(function(lt,kt){return lt.numericKey!=null&&Ve===lt.numericKey.toString()||lt.key&&(typeof lt.key=="string"?lt.key===Ve:lt.key.includes(Ve))});return(ht==null?void 0:ht.value)||null}(S.key);Xe?(r.state.activeTool.type!==Xe&&(0,p.L)("toolbar",Xe,"keyboard (".concat(r.device.isMobile?"mobile":"desktop",")")),r.setActiveTool({type:Xe}),S.stopPropagation()):S.key===M.tW.Q&&(r.toggleLock("keyboard"),S.stopPropagation())}if(S.key===M.tW.SPACE&&rr.pointers.size===0&&(un=!0,(0,s.KJ)(r.canvas,o.oc.GRAB),S.preventDefault()),!(S.key!==M.tW.G&&S.key!==M.tW.S||S.altKey||S[M.tW.CTRL_OR_CMD])){var qe=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(r.state.activeTool.type==="selection"&&!qe.length)return;S.key===M.tW.G&&((0,ue.$b)(r.state.activeTool.type)||qe.some(function(Ve){return(0,ue.$b)(Ve.type)}))&&(r.setState({openPopup:"backgroundColorPicker"}),S.stopPropagation()),S.key===M.tW.S&&(r.setState({openPopup:"strokeColorPicker"}),S.stopPropagation())}}}else r.setState({openDialog:"help"})}else S.preventDefault()}),this.onWheel=(0,s.tH)(function(S){S.target instanceof HTMLCanvasElement||!S.ctrlKey||S.preventDefault()}),this.onKeyUp=(0,s.tH)(function(S){if(S.key===M.tW.SPACE&&(r.state.viewModeEnabled?(0,s.KJ)(r.canvas,o.oc.GRAB):r.state.activeTool.type==="selection"?(0,s.z8)(r.canvas):((0,s.Uk)(r.canvas,r.state),r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),un=!1),S[M.tW.CTRL_OR_CMD]||r.state.isBindingEnabled||r.setState({isBindingEnabled:!0}),(0,M.Wl)(S.key)){var K=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);(0,u.N1)(r.state)?(0,u.el)(K):(0,u.H)(K),r.setState({suggestedBindings:[]})}}),this.setActiveTool=function(S){var K=(0,s.Om)(r.state,S);K.type==="hand"?(0,s.KJ)(r.canvas,o.oc.GRAB):un||(0,s.Uk)(r.canvas,r.state),(0,s.wO)(document.activeElement)&&r.focusContainer(),(0,I.dt)(K.type)||r.setState({suggestedBindings:[]}),K.type==="image"&&r.onImageAction(),K.type!=="selection"?r.setState({activeTool:K,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):r.setState({activeTool:K})},this.setCursor=function(S){(0,s.KJ)(r.canvas,S)},this.resetCursor=function(){(0,s.z8)(r.canvas)},this.isTouchScreenMultiTouchGesture=function(){return rr.pointers.size>=2},this.onGestureStart=(0,s.tH)(function(S){S.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({selectedElementIds:{}}),rr.initialScale=r.state.zoom.value}),this.onGestureChange=(0,s.tH)(function(S){if(S.preventDefault(),!r.isTouchScreenMultiTouchGesture()){var K=rr.initialScale;K&&r.setState(function(oe){return rt({},(0,Pe.E)({viewportX:sn,viewportY:cn,nextZoom:(0,ue.j)(K*S.scale)},oe))})}}),this.onGestureEnd=(0,s.tH)(function(S){S.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds}),rr.initialScale=null}),this.startTextEditing=function(S){var K,oe=S.sceneX,Se=S.sceneY,ee=S.insertAtParentCenter,z=ee===void 0||ee,be=S.container,ke=!1,Me=z&&r.getTextWysiwygSnappedToCenterPosition(oe,Se,r.state,be);be&&Me&&(ke=!0);var De=null,Ae=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(!(De=Ae.length===1?(0,h.iB)(Ae[0])?Ae[0]:be?(0,ct.WJ)(Ae[0]):r.getTextElementAtPosition(oe,Se):r.getTextElementAtPosition(oe,Se))&&ke&&be&&!(0,I.Yv)(be)){var Re={fontSize:r.state.currentItemFontSize,fontFamily:r.state.currentItemFontFamily},Xe=(0,ct.AT)((0,s.mO)(Re)),qe=(0,ct.w_)((0,s.mO)(Re)),Ve=(0,ct.HE)(be),ht=Math.max(Ve.height,qe),lt=Math.max(Ve.width,Xe);(0,v.DR)(be,{height:ht,width:lt}),oe=be.x+lt/2,Se=be.y+ht/2,Me&&(Me=r.getTextWysiwygSnappedToCenterPosition(oe,Se,r.state,be))}var kt=De||(0,h.VL)({x:Me?Me.elementCenterX:oe,y:Me?Me.elementCenterY:Se,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:null,text:"",fontSize:r.state.currentItemFontSize,fontFamily:r.state.currentItemFontFamily,textAlign:Me?"center":r.state.currentItemTextAlign,verticalAlign:Me?o.oX.MIDDLE:o.hs,containerId:ke?be==null?void 0:be.id:void 0,groupIds:(K=be==null?void 0:be.groupIds)!==null&&K!==void 0?K:[],locked:!1});if(!De&&ke&&be&&(0,v.DR)(be,{boundElements:(be.boundElements||[]).concat({type:"text",id:kt.id})}),r.setState({editingElement:kt}),!De){if(be&&ke){var nt=r.scene.getElementIndex(be.id);r.scene.insertElementAtIndex(kt,nt+1)}else r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[kt]));Me||(0,v.DR)(kt,{y:kt.y-kt.baseline/2})}r.setState({editingElement:kt}),r.handleTextWysiwyg(kt,{isExistingElement:!!De})},this.handleCanvasDoubleClick=function(S){if(!r.state.multiElement&&r.state.activeTool.type==="selection"){var K=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(K.length===1&&(0,I.bt)(K[0])){if(S[M.tW.CTRL_OR_CMD]&&(!r.state.editingLinearElement||r.state.editingLinearElement.elementId!==K[0].id))return r.history.resumeRecording(),void r.setState({editingLinearElement:new _._(K[0],r.scene)});if(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===K[0].id)return}(0,s.z8)(r.canvas);var oe=(0,s.dE)(S,r.state),Se=oe.x,ee=oe.y;if((0,b.iJ)(r.state).length>0){var z=r.getElementAtPosition(Se,ee),be=z&&(0,b.YS)(z,r.state.selectedGroupIds);if(be)return void r.setState(function(De){return(0,b.bO)(rt(rt({},De),{},{editingGroupId:be,selectedElementIds:(0,G.Z)({},z.id,!0),selectedGroupIds:{}}),r.scene.getNonDeletedElements())})}if((0,s.z8)(r.canvas),!S[M.tW.CTRL_OR_CMD]&&!r.state.viewModeEnabled){var ke=(0,ct.OW)(r.scene.getNonDeletedElements(),r.state,Se,ee);if(ke&&((0,I.Yv)(ke)||(0,I.Xo)(ke))){var Me=(0,ct.TP)(ke,r.state);Se=Me.x,ee=Me.y}r.startTextEditing({sceneX:Se,sceneY:ee,insertAtParentCenter:!S.altKey,container:ke})}}},this.getElementLinkAtPosition=function(S,K){var oe=r.scene.getNonDeletedElements().slice().reverse(),Se=1/0;return oe.find(function(ee,z){return K&&ee.id===K.id&&(Se=z),ee.link&&z<=Se&&(0,rn.wq)(ee,r.state,[S.x,S.y],r.device.isMobile)})},this.redirectToLink=function(S,K){var oe=(0,D.LW)(r.lastPointerDown.clientX,r.lastPointerDown.clientY,r.lastPointerUp.clientX,r.lastPointerUp.clientY);if(!(!r.hitLinkElement||K&&oe>o.f||!K&&oe!==0)){var Se=(0,s.dE)(r.lastPointerDown,r.state),ee=(0,rn.wq)(r.hitLinkElement,r.state,[Se.x,Se.y],r.device.isMobile),z=(0,s.dE)(r.lastPointerUp,r.state),be=(0,rn.wq)(r.hitLinkElement,r.state,[z.x,z.y],r.device.isMobile);if(ee&&be){var ke,Me,De=r.hitLinkElement.link;if(De&&(r.props.onLinkOpen&&(Me=(0,s.ag)(o.Ks.EXCALIDRAW_LINK,S.nativeEvent),r.props.onLinkOpen(r.hitLinkElement,Me)),(ke=Me)===null||ke===void 0||!ke.defaultPrevented)){var Ae=(0,rn.q$)(De)?"_self":"_blank",Re=window.open(void 0,Ae);Re&&(Re.opener=null,Re.location=(0,rn.$u)(De))}}}},this.handleCanvasPointerMove=function(S){r.savePointer(S.clientX,S.clientY,r.state.cursorButton),rr.pointers.has(S.pointerId)&&rr.pointers.set(S.pointerId,{x:S.clientX,y:S.clientY});var K=rr.initialScale;if(rr.pointers.size===2&&rr.lastCenter&&K&&rr.initialDistance){var oe=re(rr.pointers),Se=oe.x-rr.lastCenter.x,ee=oe.y-rr.lastCenter.y;rr.lastCenter=oe;var z=O(Array.from(rr.pointers.values())),be=r.state.activeTool.type==="freedraw"&&r.state.penMode?1:z/rr.initialDistance,ke=be?(0,ue.j)(K*be):r.state.zoom.value;r.setState(function(kr){var an=(0,Pe.E)({viewportX:oe.x,viewportY:oe.y,nextZoom:ke},kr);return{zoom:an.zoom,scrollX:an.scrollX+Se/ke,scrollY:an.scrollY+ee/ke,shouldCacheIgnoreZoom:!0}}),r.resetShouldCacheIgnoreZoomDebounced()}else rr.lastCenter=rr.initialDistance=rr.initialScale=null;if(!(un||wn||Vn||(0,N.l$)(r.state))){var Me=(0,ue._4)(Xn,S.clientX-r.state.offsetLeft,S.clientY-r.state.offsetTop).isOverEither;r.state.draggingElement||r.state.multiElement||(Me?(0,s.z8)(r.canvas):(0,s.Uk)(r.canvas,r.state));var De=(0,s.dE)(S,r.state),Ae=De.x,Re=De.y;if(r.state.editingLinearElement&&!r.state.editingLinearElement.isDragging){var Xe=_._.handlePointerMove(S,Ae,Re,r.state);Xe&&Xe!==r.state.editingLinearElement&&(0,Ee.flushSync)(function(){r.setState({editingLinearElement:Xe})}),(Xe==null?void 0:Xe.lastUncommittedPoint)!=null?r.maybeSuggestBindingAtCursor(De):(0,Ee.flushSync)(function(){r.setState({suggestedBindings:[]})})}if((0,I.Lx)(r.state.activeTool.type)){var qe=r.state.draggingElement;(0,I.Mn)(qe,!1)?r.maybeSuggestBindingsForLinearElementAtCoords(qe,[De],r.state.startBoundElement):r.maybeSuggestBindingAtCursor(De)}if(r.state.multiElement){var Ve=r.state.multiElement,ht=Ve.x,lt=Ve.y,kt=Ve.points,nt=Ve.lastCommittedPoint,Nt=kt[kt.length-1];if((0,s.Uk)(r.canvas,r.state),Nt===nt)(0,D.LW)(Ae-ht,Re-lt,Nt[0],Nt[1])>=o.qx?(0,v.DR)(Ve,{points:[].concat((0,f.Z)(kt),[[Ae-ht,Re-lt]])}):(0,s.KJ)(r.canvas,o.oc.POINTER);else if(kt.length>2&&nt&&(0,D.LW)(Ae-ht,Re-lt,nt[0],nt[1])<o.qx)(0,s.KJ)(r.canvas,o.oc.POINTER),(0,v.DR)(Ve,{points:kt.slice(0,-1)});else{var Lt,It=(0,D.wC)(Ae,Re,r.state.gridSize),Wt=(0,y.Z)(It,2),wt=Wt[0],Dt=Wt[1],Vt=(Lt=Ve==null?void 0:Ve.lastCommittedPoint)!==null&&Lt!==void 0?Lt:[0,0],pr=(0,y.Z)(Vt,2),xr=pr[0],_r=pr[1],ur=wt-ht-xr,Br=Dt-lt-_r;if((0,M.Ge)(S)){var Xt=(0,h.o4)(xr+ht,_r+lt,wt,Dt);ur=Xt.width,Br=Xt.height}(0,D.g6)(kt,r.state.zoom.value)&&(0,s.KJ)(r.canvas,o.oc.POINTER),(0,v.DR)(Ve,{points:[].concat((0,f.Z)(kt.slice(0,-1)),[[xr+ur,_r+Br]])})}}else if(!(Boolean(S.buttons)||r.state.activeTool.type!=="selection"&&r.state.activeTool.type!=="text"&&r.state.activeTool.type!=="eraser")){var wr=r.scene.getNonDeletedElements(),hr=(0,ue.eD)(wr,r.state);if(hr.length!==1||Me||r.state.editingLinearElement){if(hr.length>1&&!Me){var Lr=(0,h.n2)((0,h.KP)(hr),Ae,Re,r.state.zoom,S.pointerType);if(Lr)return void(0,s.KJ)(r.canvas,(0,h.Un)({transformHandleType:Lr}))}}else{var Kt=(0,h.jt)(wr,r.state,Ae,Re,r.state.zoom,S.pointerType);if(Kt&&Kt.transformHandleType)return void(0,s.KJ)(r.canvas,(0,h.Un)(Kt))}var Qt=r.getElementAtPosition(De.x,De.y);r.hitLinkElement=r.getElementLinkAtPosition(De,Qt),(0,N.EN)(r.state)||(r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]?((0,s.KJ)(r.canvas,o.oc.POINTER),(0,rn.Pp)(r.hitLinkElement,r.state)):((0,rn.lV)(),Qt&&Qt.link&&r.state.selectedElementIds[Qt.id]&&!r.state.contextMenu&&!r.state.showHyperlinkPopup?r.setState({showHyperlinkPopup:"info"}):r.state.activeTool.type==="text"?(0,s.KJ)(r.canvas,(0,h.iB)(Qt)?o.oc.TEXT:o.oc.CROSSHAIR):r.state.viewModeEnabled?(0,s.KJ)(r.canvas,o.oc.GRAB):Me?(0,s.KJ)(r.canvas,o.oc.AUTO):r.state.selectedLinearElement?r.handleHoverSelectedLinearElement(r.state.selectedLinearElement,Ae,Re):S[M.tW.CTRL_OR_CMD]?(0,s.KJ)(r.canvas,o.oc.AUTO):!Qt&&!r.isHittingCommonBoundingBoxOfSelectedElements(De,hr)||Qt!=null&&Qt.locked||(0,s.KJ)(r.canvas,o.oc.MOVE)))}}},this.handleEraser=function(S,K,oe){for(var Se=function(qe){qe.forEach(function(Ve){Ve.locked||(ee.push(Ve.id),S.altKey?K.elementIdsToErase[Ve.id]&&K.elementIdsToErase[Ve.id].erase&&(K.elementIdsToErase[Ve.id].erase=!1):K.elementIdsToErase[Ve.id]||(K.elementIdsToErase[Ve.id]={erase:!0,opacity:Ve.opacity}))})},ee=[],z=(0,D.LW)(K.lastCoords.x,K.lastCoords.y,oe.x,oe.y),be=10/r.state.zoom.value,ke=rt({},K.lastCoords),Me=0;Me<=z&&(Se(r.getElementsAtPosition(ke.x,ke.y)),Me!==z);){var De=(Me=Math.min(Me+be,z))/z,Ae=(1-De)*ke.x+De*oe.x,Re=(1-De)*ke.y+De*oe.y;ke.x=Ae,ke.y=Re}var Xe=r.scene.getElementsIncludingDeleted().map(function(qe){var Ve=(0,I.Xh)(qe)&&ee.includes(qe.containerId)?qe.containerId:qe.id;if(ee.includes(Ve)){if(!S.altKey)return(0,v.BE)(qe,{opacity:o.xY});if(K.elementIdsToErase[Ve]&&K.elementIdsToErase[Ve].erase===!1)return(0,v.BE)(qe,{opacity:K.elementIdsToErase[Ve].opacity})}return qe});r.scene.replaceAllElements(Xe),K.lastCoords.x=oe.x,K.lastCoords.y=oe.y},this.handleTouchMove=function(S){kn=!0},this.handleCanvasPointerDown=function(S){var K,oe;r.state.contextMenu&&r.setState({contextMenu:null});var Se=document.getSelection();if(Se!=null&&Se.anchorNode&&Se.removeAllRanges(),r.maybeOpenContextMenuAfterPointerDownOnTouchDevices(S),r.maybeCleanupAfterMissingPointerUp(S),r.state.penDetected||S.pointerType!=="pen"||r.setState(function(qe){return{penMode:!0,penDetected:!0}}),!r.device.isTouchScreen&&["pen","touch"].includes(S.pointerType)&&(r.device=(0,s.v4)(r.device,{isTouchScreen:!0})),!wn&&(r.lastPointerDown=S,r.setState({lastPointerDownWith:S.pointerType,cursorButton:"down"}),r.savePointer(S.clientX,S.clientY,"down"),r.updateGestureOnPointerDown(S),!r.handleCanvasPanUsingWheelOrSpaceDrag(S)&&!(S.button!==o.Oh.MAIN&&S.button!==o.Oh.TOUCH||rr.pointers.size>1))){var ee=r.initialPointerDownState(S);if(!r.handleDraggingScrollBar(S,ee)&&(r.clearSelectionIfNotUsingSelection(),r.updateBindingEnabledOnPointerMove(S),!r.handleSelectionOnPointerDown(S,ee)&&(!r.state.penMode||S.pointerType!=="touch"||r.state.activeTool.type==="selection"||r.state.activeTool.type==="text"||r.state.activeTool.type==="image")))if(r.state.activeTool.type!=="text"){if(r.state.activeTool.type==="arrow"||r.state.activeTool.type==="line")r.handleLinearElementOnPointerDown(S,r.state.activeTool.type,ee);else if(r.state.activeTool.type==="image"){(0,s.KJ)(r.canvas,o.oc.CROSSHAIR);var z=r.state.pendingImageElementId&&r.scene.getElement(r.state.pendingImageElementId);if(!z)return;r.setState({draggingElement:z,editingElement:z,pendingImageElementId:null,multiElement:null});var be=(0,s.dE)(S,r.state),ke=be.x,Me=be.y;(0,v.DR)(z,{x:ke,y:Me})}else r.state.activeTool.type==="freedraw"?r.handleFreeDrawElementOnPointerDown(S,r.state.activeTool.type,ee):r.state.activeTool.type==="custom"?(0,s.KJ)(r.canvas,o.oc.AUTO):r.state.activeTool.type!=="eraser"&&r.state.activeTool.type!=="hand"&&r.createGenericElementOnPointerDown(r.state.activeTool.type,ee);(K=r.props)===null||K===void 0||(oe=K.onPointerDown)===null||oe===void 0||oe.call(K,r.state.activeTool,ee);var De=r.onPointerMoveFromPointerDownHandler(ee),Ae=r.onPointerUpFromPointerDownHandler(ee),Re=r.onKeyDownFromPointerDownHandler(ee),Xe=r.onKeyUpFromPointerDownHandler(ee);on=Ae,r.state.viewModeEnabled||(window.addEventListener(o.Ks.POINTER_MOVE,De),window.addEventListener(o.Ks.POINTER_UP,Ae),window.addEventListener(o.Ks.KEYDOWN,Re),window.addEventListener(o.Ks.KEYUP,Xe),ee.eventListeners.onMove=De,ee.eventListeners.onUp=Ae,ee.eventListeners.onKeyUp=Xe,ee.eventListeners.onKeyDown=Re)}else r.handleTextOnPointerDown(S,ee)}},this.handleCanvasPointerUp=function(S){if(r.lastPointerUp=S,r.device.isTouchScreen){var K=(0,s.dE)({clientX:S.clientX,clientY:S.clientY},r.state),oe=r.getElementAtPosition(K.x,K.y);r.hitLinkElement=r.getElementLinkAtPosition(K,oe)}r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]&&r.redirectToLink(S,r.device.isTouchScreen),r.removePointer(S)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(S){S.pointerType==="touch"&&(kn=!1,nn?kn=!0:nn=window.setTimeout(function(){nn=0,kn||r.handleCanvasContextMenu(S)},o.nM))},this.resetContextMenuTimer=function(){clearTimeout(nn),nn=0,kn=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(S){if(!(rr.pointers.size<=1&&(S.button===o.Oh.WHEEL||S.button===o.Oh.MAIN&&un||(0,N.l$)(r.state)||r.state.viewModeEnabled))||(0,h.iB)(r.state.editingElement))return!1;wn=!0,S.preventDefault();var K=!1,oe=/Linux/.test(window.navigator.platform);(0,s.KJ)(r.canvas,o.oc.GRABBING);var Se=S.clientX,ee=S.clientY,z=(0,s.$9)(function(ke){var Me=Se-ke.clientX,De=ee-ke.clientY;if(Se=ke.clientX,ee=ke.clientY,oe&&!K&&(Math.abs(Me)>1||Math.abs(De)>1)){K=!0;var Ae=function Re(Xe){document.body.removeEventListener(o.Ks.PASTE,Re),Xe.stopPropagation()};document.body.addEventListener(o.Ks.PASTE,Ae),window.addEventListener(o.Ks.POINTER_UP,function Re(){setTimeout(function(){document.body.removeEventListener(o.Ks.PASTE,Ae),window.removeEventListener(o.Ks.POINTER_UP,Re)},100)})}r.setState({scrollX:r.state.scrollX-Me/r.state.zoom.value,scrollY:r.state.scrollY-De/r.state.zoom.value})}),be=(0,s.tH)(on=function(){on=null,wn=!1,un||(r.state.viewModeEnabled?(0,s.KJ)(r.canvas,o.oc.GRAB):(0,s.Uk)(r.canvas,r.state)),r.setState({cursorButton:"up"}),r.savePointer(S.clientX,S.clientY,"up"),window.removeEventListener(o.Ks.POINTER_MOVE,z),window.removeEventListener(o.Ks.POINTER_UP,be),window.removeEventListener(o.Ks.BLUR,be),z.flush()});return window.addEventListener(o.Ks.BLUR,be),window.addEventListener(o.Ks.POINTER_MOVE,z,{passive:!0}),window.addEventListener(o.Ks.POINTER_UP,be),!0},this.clearSelectionIfNotUsingSelection=function(){r.state.activeTool.type!=="selection"&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(S,K){if(r.state.activeTool.type==="selection"){var oe=r.scene.getNonDeletedElements(),Se=(0,ue.eD)(oe,r.state);if(Se.length!==1||r.state.editingLinearElement)Se.length>1&&(K.resize.handleType=(0,h.n2)((0,h.KP)(Se),K.origin.x,K.origin.y,r.state.zoom,S.pointerType));else{var ee=(0,h.jt)(oe,r.state,K.origin.x,K.origin.y,r.state.zoom,S.pointerType);ee!=null&&(r.setState({resizingElement:ee.element}),K.resize.handleType=ee.transformHandleType)}if(K.resize.handleType)(0,s.KJ)(r.canvas,(0,h.Un)({transformHandleType:K.resize.handleType})),K.resize.isResizing=!0,K.resize.offset=(0,s.AK)((0,h.xx)(K.resize.handleType,Se,K.origin.x,K.origin.y)),Se.length===1&&(0,I.bt)(Se[0])&&Se[0].points.length===2&&(K.resize.arrowDirection=(0,h.T)(K.resize.handleType,Se[0]));else{var z;if(r.state.selectedLinearElement){var be=r.state.editingLinearElement||r.state.selectedLinearElement,ke=_._.handlePointerDown(S,r.state,r.history,K.origin,be);if(ke.hitElement&&(K.hit.element=ke.hitElement),ke.linearElementEditor&&(r.setState({selectedLinearElement:ke.linearElementEditor}),r.state.editingLinearElement&&r.setState({editingLinearElement:ke.linearElementEditor})),ke.didAddPoint)return!0}if(K.hit.element=(z=K.hit.element)!==null&&z!==void 0?z:r.getElementAtPosition(K.origin.x,K.origin.y),K.hit.element&&r.getElementLinkAtPosition({x:K.origin.x,y:K.origin.y},K.hit.element))return!1;K.hit.allHitElements=r.getElementsAtPosition(K.origin.x,K.origin.y);var Me=K.hit.element,De=K.hit.allHitElements.some(function(Ae){return r.isASelectedElement(Ae)});if(Me!==null&&De||S.shiftKey||K.hit.hasHitCommonBoundingBoxOfSelectedElements||r.clearSelection(Me),r.state.editingLinearElement)r.setState({selectedElementIds:(0,G.Z)({},r.state.editingLinearElement.elementId,!0)});else if(Me!=null){if(S[M.tW.CTRL_OR_CMD])return r.state.selectedElementIds[Me.id]||(K.hit.wasAddedToSelection=!0),r.setState(function(Ae){return rt(rt({},(0,b.iE)(Ae,Me)),{},{previousSelectedElementIds:r.state.selectedElementIds})}),!1;r.state.selectedElementIds[Me.id]||(r.state.editingGroupId&&!(0,b.Nd)(Me,r.state.editingGroupId)&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),De||K.hit.hasHitCommonBoundingBoxOfSelectedElements||(r.setState(function(Ae){return(0,b.bO)(rt(rt({},Ae),{},{selectedElementIds:rt(rt({},Ae.selectedElementIds),{},(0,G.Z)({},Me.id,!0)),showHyperlinkPopup:!!Me.link&&"info"}),r.scene.getNonDeletedElements())}),K.hit.wasAddedToSelection=!0))}r.setState({previousSelectedElementIds:r.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(S,K){if(!(0,h.iB)(r.state.editingElement)){var oe=K.origin.x,Se=K.origin.y,ee=r.getElementAtPosition(oe,Se,{includeBoundTextElement:!0}),z=(0,ct.OW)(r.scene.getNonDeletedElements(),r.state,oe,Se);(0,I.Xo)(ee)&&(z=ee,oe=ee.x+ee.width/2,Se=ee.y+ee.height/2),r.startTextEditing({sceneX:oe,sceneY:Se,insertAtParentCenter:!S.altKey,container:z}),(0,s.z8)(r.canvas),r.state.activeTool.locked||r.setState({activeTool:(0,s.Om)(r.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(S,K,oe){var Se=(0,D.wC)(oe.origin.x,oe.origin.y,null),ee=(0,y.Z)(Se,2),z=ee[0],be=ee[1],ke=(0,W.KE)({type:K,x:z,y:be,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:null,simulatePressure:S.pressure===.5,locked:!1});r.setState(function(Ae){return{selectedElementIds:rt(rt({},Ae.selectedElementIds),{},(0,G.Z)({},ke.id,!1))}});var Me=ke.simulatePressure?ke.pressures:[].concat((0,f.Z)(ke.pressures),[S.pressure]);(0,v.DR)(ke,{points:[[0,0]],pressures:Me});var De=(0,u.Y9)(oe.origin,r.scene);r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[ke])),r.setState({draggingElement:ke,editingElement:ke,startBoundElement:De,suggestedBindings:[]})},this.createImageElement=function(S){var K=S.sceneX,oe=S.sceneY,Se=(0,D.wC)(K,oe,r.state.gridSize),ee=(0,y.Z)(Se,2),z=ee[0],be=ee[1];return(0,h.vw)({type:"image",x:z,y:be,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,roundness:null,opacity:r.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(S,K,oe){if(r.state.multiElement){var Se=r.state.multiElement;if(Se.type==="line"&&(0,D.g6)(Se.points,r.state.zoom.value))return(0,v.DR)(Se,{lastCommittedPoint:Se.points[Se.points.length-1]}),void r.actionManager.executeAction(C.pL);var ee=Se.x,z=Se.y,be=Se.lastCommittedPoint;if(Se.points.length>1&&be&&(0,D.LW)(oe.origin.x-ee,oe.origin.y-z,be[0],be[1])<o.qx)return void r.actionManager.executeAction(C.pL);r.setState(function(Lt){return{selectedElementIds:rt(rt({},Lt.selectedElementIds),{},(0,G.Z)({},Se.id,!0))}}),(0,v.DR)(Se,{lastCommittedPoint:Se.points[Se.points.length-1]}),(0,s.KJ)(r.canvas,o.oc.POINTER)}else{var ke=(0,D.wC)(oe.origin.x,oe.origin.y,r.state.gridSize),Me=(0,y.Z)(ke,2),De=Me[0],Ae=Me[1],Re=r.state,Xe=Re.currentItemStartArrowhead,qe=Re.currentItemEndArrowhead,Ve=K==="arrow"?[Xe,qe]:[null,null],ht=(0,y.Z)(Ve,2),lt=ht[0],kt=ht[1],nt=(0,h.y8)({type:K,x:De,y:Ae,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.state.currentItemRoundness==="round"?{type:o.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:lt,endArrowhead:kt,locked:!1});r.setState(function(Lt){return{selectedElementIds:rt(rt({},Lt.selectedElementIds),{},(0,G.Z)({},nt.id,!1))}}),(0,v.DR)(nt,{points:[].concat((0,f.Z)(nt.points),[[0,0]])});var Nt=(0,u.Y9)(oe.origin,r.scene);r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[nt])),r.setState({draggingElement:nt,editingElement:nt,startBoundElement:Nt,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(S,K){var oe=(0,D.wC)(K.origin.x,K.origin.y,r.state.gridSize),Se=(0,y.Z)(oe,2),ee=Se[0],z=Se[1],be=(0,h.Up)({type:S,x:ee,y:z,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.state.currentItemRoundness==="round"?{type:(0,I.QI)(S)?o.a6.ADAPTIVE_RADIUS:o.a6.PROPORTIONAL_RADIUS}:null,locked:!1});be.type==="selection"?r.setState({selectionElement:be,draggingElement:be}):(r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[be])),r.setState({multiElement:null,draggingElement:be,editingElement:be}))},this.restoreReadyToEraseElements=function(S){var K=r.scene.getElementsIncludingDeleted().map(function(oe){return S.elementIdsToErase[oe.id]&&S.elementIdsToErase[oe.id].erase?(0,v.BE)(oe,{opacity:S.elementIdsToErase[oe.id].opacity}):(0,I.Xh)(oe)&&S.elementIdsToErase[oe.containerId]&&S.elementIdsToErase[oe.containerId].erase?(0,v.BE)(oe,{opacity:S.elementIdsToErase[oe.containerId].opacity}):oe});r.scene.replaceAllElements(K)},this.eraseElements=function(S){var K=r.scene.getElementsIncludingDeleted().map(function(oe){return S.elementIdsToErase[oe.id]&&S.elementIdsToErase[oe.id].erase||(0,I.Xh)(oe)&&S.elementIdsToErase[oe.containerId]&&S.elementIdsToErase[oe.containerId].erase?(0,v.BE)(oe,{isDeleted:!0}):oe});r.history.resumeRecording(),r.scene.replaceAllElements(K)},this.initializeImage=function(){var S=(0,c.Z)(k().mark(function K(oe){var Se,ee,z,be,ke,Me,De,Ae,Re,Xe,qe,Ve,ht,lt,kt;return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(be=oe.imageFile,ke=oe.imageElement,Me=oe.showCursorImagePreview,De=Me!==void 0&&Me,(0,Ue.Wr)(be)){nt.next=3;break}throw new Error((0,m.t)("errors.unsupportedFileType"));case 3:if(Ae=be.type,(0,s.KJ)(r.canvas,"wait"),Ae!==o.LO.svg){nt.next=23;break}return nt.prev=6,nt.t0=Ue.Pn,nt.t1=Tn.bp,nt.next=11,be.text();case 11:return nt.t2=nt.sent,nt.next=14,(0,nt.t1)(nt.t2);case 14:nt.t3=nt.sent,nt.t4=be.name,be=(0,nt.t0)(nt.t3,nt.t4),nt.next=23;break;case 19:throw nt.prev=19,nt.t5=nt.catch(6),console.warn(nt.t5),new Error((0,m.t)("errors.svgImageInsertError"));case 23:return nt.next=25,((Se=(ee=r.props).generateIdForFile)===null||Se===void 0?void 0:Se.call(ee,be))||(0,Ue.tW)(be);case 25:if(Re=nt.sent){nt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,m.t)("errors.imageInsertError"));case 29:if((Xe=r.files[Re])!=null&&Xe.dataURL){nt.next=42;break}return nt.prev=31,nt.next=34,(0,Ue.Tu)(be,{maxWidthOrHeight:o.h6});case 34:be=nt.sent,nt.next=40;break;case 37:nt.prev=37,nt.t6=nt.catch(31),console.error("error trying to resing image file on insertion",nt.t6);case 40:if(!(be.size>o.$n)){nt.next=42;break}throw new Error((0,m.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(o.$n/1024/1024),"MB")}));case 42:if(De&&(Ve=(qe=r.files[Re])===null||qe===void 0?void 0:qe.dataURL,ht=Ve&&(0,Ue.KG)(Ve),r.setImagePreviewCursor(ht||be)),nt.t7=(z=r.files[Re])===null||z===void 0?void 0:z.dataURL,nt.t7){nt.next=48;break}return nt.next=47,(0,Ue.Sf)(be);case 47:nt.t7=nt.sent;case 48:return lt=nt.t7,kt=(0,v.DR)(ke,{fileId:Re},!1),nt.abrupt("return",new Promise(function(){var Nt=(0,c.Z)(k().mark(function Lt(It,Wt){var wt,Dt;return k().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(Vt.prev=0,r.files=rt(rt({},r.files),{},(0,G.Z)({},Re,{mimeType:Ae,id:Re,dataURL:lt,created:Date.now(),lastRetrieved:Date.now()})),Dt=r.imageCache.get(Re)){Vt.next=7;break}return r.addNewImagesToImageCache(),Vt.next=7,r.updateImageCache([kt]);case 7:if(!((Dt==null?void 0:Dt.image)instanceof Promise)){Vt.next=10;break}return Vt.next=10,Dt.image;case 10:r.state.pendingImageElementId!==kt.id&&((wt=r.state.draggingElement)===null||wt===void 0?void 0:wt.id)!==kt.id&&r.initializeImageDimensions(kt,!0),It(kt),Vt.next=18;break;case 14:Vt.prev=14,Vt.t0=Vt.catch(0),console.error(Vt.t0),Wt(new Error((0,m.t)("errors.imageInsertError")));case 18:return Vt.prev=18,De||(0,s.z8)(r.canvas),Vt.finish(18);case 21:case"end":return Vt.stop()}},Lt,null,[[0,14,18,21]])}));return function(Lt,It){return Nt.apply(this,arguments)}}()));case 51:case"end":return nt.stop()}},K,null,[[6,19],[31,37]])}));return function(K){return S.apply(this,arguments)}}(),this.insertImageElement=function(){var S=(0,c.Z)(k().mark(function K(oe,Se,ee){return k().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[oe])),z.prev=1,z.next=4,r.initializeImage({imageFile:Se,imageElement:oe,showCursorImagePreview:ee});case 4:z.next=11;break;case 6:z.prev=6,z.t0=z.catch(1),(0,v.DR)(oe,{isDeleted:!0}),r.actionManager.executeAction(C.pL),r.setState({errorMessage:z.t0.message||(0,m.t)("errors.imageInsertError")});case 11:case"end":return z.stop()}},K,null,[[1,6]])}));return function(K,oe,Se){return S.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var S=(0,c.Z)(k().mark(function K(oe){var Se,ee,z,be,ke,Me,De;return k().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Se=96,Ae.next=3,(0,Ue.Tu)(oe,{maxWidthOrHeight:Se});case 3:return ee=Ae.sent,Ae.next=6,(0,Ue.Sf)(ee);case 6:if(z=Ae.sent,oe.type!==o.LO.svg){Ae.next=20;break}return Ae.next=10,(0,Tn.PK)(z);case 10:be=Ae.sent,ke=Math.min(be.height,Se),(Me=ke*(be.width/be.height))>Se&&(ke=(Me=Se)*(be.height/be.width)),(De=document.createElement("canvas")).height=ke,De.width=Me,De.getContext("2d").drawImage(be,0,0,Me,ke),z=De.toDataURL(o.LO.svg);case 20:r.state.pendingImageElementId&&(0,s.KJ)(r.canvas,"url(".concat(z,") 4 4, auto"));case 21:case"end":return Ae.stop()}},K)}));return function(K){return S.apply(this,arguments)}}(),this.onImageAction=(0,c.Z)(k().mark(function S(){var K,oe,Se,ee,z,be,ke,Me,De,Ae=arguments;return k().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return K=Ae.length>0&&Ae[0]!==void 0?Ae[0]:{insertOnCanvasDirectly:!1},oe=K.insertOnCanvasDirectly,Re.prev=1,Se=r.state.width/2+r.state.offsetLeft,ee=r.state.height/2+r.state.offsetTop,z=(0,s.dE)({clientX:Se,clientY:ee},r.state),be=z.x,ke=z.y,Re.next=7,(0,Ot.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:Me=Re.sent,De=r.createImageElement({sceneX:be,sceneY:ke}),oe?(r.insertImageElement(De,Me),r.initializeImageDimensions(De),r.setState({selectedElementIds:(0,G.Z)({},De.id,!0)},function(){r.actionManager.executeAction(C.pL)})):r.setState({pendingImageElementId:De.id},function(){r.insertImageElement(De,Me,!0)}),Re.next=16;break;case 12:Re.prev=12,Re.t0=Re.catch(1),Re.t0.name!=="AbortError"?console.error(Re.t0):console.warn(Re.t0),r.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,s.Om)(r.state,{type:"selection"})},function(){r.actionManager.executeAction(C.pL)});case 16:case"end":return Re.stop()}},S,null,[[1,12]])})),this.initializeImageDimensions=function(S){var K,oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Se=(0,I.wi)(S)&&((K=r.imageCache.get(S.fileId))===null||K===void 0?void 0:K.image);if(!Se||Se instanceof Promise){if(S.width<o.f/r.state.zoom.value&&S.height<o.f/r.state.zoom.value){var ee=100/r.state.zoom.value;(0,v.DR)(S,{x:S.x-ee/2,y:S.y-ee/2,width:ee,height:ee})}}else if(oe||S.width<o.f/r.state.zoom.value&&S.height<o.f/r.state.zoom.value){var z=Math.max(r.state.height-120,160),be=Math.min(z,Math.floor(.5*r.state.height)/r.state.zoom.value),ke=Math.min(Se.naturalHeight,be),Me=ke*(Se.naturalWidth/Se.naturalHeight),De=S.x+S.width/2-Me/2,Ae=S.y+S.height/2-ke/2;(0,v.DR)(S,{x:De,y:Ae,width:Me,height:ke})}},this.updateImageCache=function(){var S=(0,c.Z)(k().mark(function K(oe){var Se,ee,z,be,ke,Me,De,Ae=arguments;return k().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Se=Ae.length>1&&Ae[1]!==void 0?Ae[1]:r.files,Re.next=3,(0,Tn.Xx)({imageCache:r.imageCache,fileIds:oe.map(function(Xe){return Xe.fileId}),files:Se});case 3:if(ee=Re.sent,z=ee.updatedFiles,be=ee.erroredFiles,z.size||be.size){ke=bo(oe);try{for(ke.s();!(Me=ke.n()).done;)De=Me.value,z.has(De.fileId)&&(0,ie.bI)(De)}catch(Xe){ke.e(Xe)}finally{ke.f()}}return be.size&&r.scene.replaceAllElements(r.scene.getElementsIncludingDeleted().map(function(Xe){return(0,I.wi)(Xe)&&be.has(Xe.fileId)?(0,v.BE)(Xe,{status:"error"}):Xe})),Re.abrupt("return",{updatedFiles:z,erroredFiles:be});case 9:case"end":return Re.stop()}},K)}));return function(K){return S.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,c.Z)(k().mark(function S(){var K,oe,Se,ee,z=arguments;return k().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(K=z.length>0&&z[0]!==void 0?z[0]:(0,Tn.oA)(r.scene.getNonDeletedElements()),oe=z.length>1&&z[1]!==void 0?z[1]:r.files,!(Se=K.filter(function(ke){return!ke.isDeleted&&!r.imageCache.has(ke.fileId)})).length){be.next=9;break}return be.next=6,r.updateImageCache(Se,oe);case 6:ee=be.sent,ee.updatedFiles.size&&r.scene.informMutation();case 9:case"end":return be.stop()}},S)})),this.scheduleImageRefresh=ri()(function(){r.addNewImagesToImageCache()},o.LL),this.updateBindingEnabledOnPointerMove=function(S){var K=(0,u.cz)(S);r.state.isBindingEnabled!==K&&r.setState({isBindingEnabled:K})},this.maybeSuggestBindingAtCursor=function(S){var K=(0,u.Y9)(S,r.scene);r.setState({suggestedBindings:K!=null?[K]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(S,K,oe){if(K.length){var Se=K.reduce(function(ee,z){var be=(0,u.Y9)(z,r.scene);return be==null||(0,u.DK)(S,oe==null?void 0:oe.id,be)||ee.push(be),ee},[]);r.setState({suggestedBindings:Se})}},this.handleCanvasRef=function(S){var K,oe,Se;S!==null?(r.canvas=S,r.rc=ae.Z.canvas(r.canvas),r.canvas.addEventListener(o.Ks.WHEEL,r.handleWheel,{passive:!1}),r.canvas.addEventListener(o.Ks.TOUCH_START,r.onTapStart),r.canvas.addEventListener(o.Ks.TOUCH_END,r.onTapEnd)):((K=r.canvas)===null||K===void 0||K.removeEventListener(o.Ks.WHEEL,r.handleWheel),(oe=r.canvas)===null||oe===void 0||oe.removeEventListener(o.Ks.TOUCH_START,r.onTapStart),(Se=r.canvas)===null||Se===void 0||Se.removeEventListener(o.Ks.TOUCH_END,r.onTapEnd))},this.handleAppOnDrop=function(){var S=(0,c.Z)(k().mark(function K(oe){var Se,ee,z,be,ke,Me,De,Ae,Re,Xe;return k().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,(0,Ue.bv)(oe);case 2:if(Se=qe.sent,ee=Se.file,z=Se.fileHandle,qe.prev=5,!(0,Ue.Wr)(ee)){qe.next=26;break}if((ee==null?void 0:ee.type)!==o.LO.png&&(ee==null?void 0:ee.type)!==o.LO.svg){qe.next=20;break}return qe.prev=8,qe.next=11,(0,fe.cT)(ee,r.state,r.scene.getElementsIncludingDeleted(),z);case 11:return be=qe.sent,r.syncActionResult(rt(rt({},be),{},{appState:rt(rt({},be.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),qe.abrupt("return");case 16:if(qe.prev=16,qe.t0=qe.catch(8),qe.t0.name==="EncodingError"){qe.next=20;break}throw qe.t0;case 20:return ke=(0,s.dE)(oe,r.state),Me=ke.x,De=ke.y,Ae=r.createImageElement({sceneX:Me,sceneY:De}),r.insertImageElement(Ae,ee),r.initializeImageDimensions(Ae),r.setState({selectedElementIds:(0,G.Z)({},Ae.id,!0)}),qe.abrupt("return");case 26:qe.next=31;break;case 28:return qe.prev=28,qe.t1=qe.catch(5),qe.abrupt("return",r.setState({isLoading:!1,errorMessage:qe.t1.message}));case 31:if(!(Re=oe.dataTransfer.getData(o.LO.excalidrawlib))||typeof Re!="string"){qe.next=35;break}try{Xe=(0,Ue.wf)(Re),r.addElementsFromPasteOrLibrary({elements:(0,q.WV)(Xe),position:oe,files:null})}catch(Ve){r.setState({errorMessage:Ve.message})}return qe.abrupt("return");case 35:if(!ee){qe.next=38;break}return qe.next=38,r.loadFileToCanvas(ee,z);case 38:case"end":return qe.stop()}},K,null,[[5,28],[8,16]])}));return function(K){return S.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var S=(0,c.Z)(k().mark(function K(oe,Se){var ee;return k().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,Ue.gY)(oe);case 2:return oe=z.sent,z.prev=3,z.next=6,(0,Ue.ZY)(oe,r.state,r.scene.getElementsIncludingDeleted(),Se);case 6:if((ee=z.sent).type!==o.LO.excalidraw){z.next=12;break}r.setState({isLoading:!0}),r.syncActionResult(rt(rt({},ee.data),{},{appState:rt(rt({},ee.data.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),z.next=15;break;case 12:if(ee.type!==o.LO.excalidrawlib){z.next=15;break}return z.next=15,r.library.updateLibrary({libraryItems:oe,merge:!0,openLibraryMenu:!0}).catch(function(be){console.error(be),r.setState({errorMessage:(0,m.t)("errors.importLibraryError")})});case 15:z.next=20;break;case 17:z.prev=17,z.t0=z.catch(3),r.setState({isLoading:!1,errorMessage:z.t0.message});case 20:case"end":return z.stop()}},K,null,[[3,17]])}));return function(K,oe){return S.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(S){if(S.preventDefault(),S.nativeEvent.pointerType!=="touch"&&(S.nativeEvent.pointerType!=="pen"||S.button===o.Oh.SECONDARY)||r.state.activeTool.type==="selection"){var K=(0,s.dE)(S,r.state),oe=K.x,Se=K.y,ee=r.getElementAtPosition(oe,Se,{preferSelected:!0,includeLockedElements:!0}),z=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state),be=r.isHittingCommonBoundingBoxOfSelectedElements({x:oe,y:Se},z),ke=ee||be?"element":"canvas",Me=r.excalidrawContainerRef.current.getBoundingClientRect(),De=Me.top,Ae=Me.left,Re=S.clientX-Ae,Xe=S.clientY-De;(0,p.L)("contextMenu","openContextMenu",ke),r.setState(rt(rt({},ee&&!r.state.selectedElementIds[ee.id]?(0,b.bO)(rt(rt({},r.state),{},{selectedElementIds:(0,G.Z)({},ee.id,!0),selectedLinearElement:(0,I.bt)(ee)?new _._(ee,r.scene):null}),r.scene.getNonDeletedElements()):r.state),{},{showHyperlinkPopup:!1}),function(){r.setState({contextMenu:{top:Xe,left:Re,items:r.getContextMenuItems(ke)}})})}},this.maybeDragNewGenericElement=function(S,K){var oe=r.state.draggingElement,Se=S.lastCoords;if(oe)if(oe.type==="selection"&&r.state.activeTool.type!=="eraser")(0,h.EJ)(oe,r.state.activeTool.type,S.origin.x,S.origin.y,Se.x,Se.y,(0,s.TE)(S.origin.x,Se.x),(0,s.TE)(S.origin.y,Se.y),(0,M.E0)(K),(0,M.OA)(K));else{var ee,z=(0,D.wC)(Se.x,Se.y,r.state.gridSize),be=(0,y.Z)(z,2),ke=be[0],Me=be[1],De=(0,I.wi)(oe)&&((ee=r.imageCache.get(oe.fileId))===null||ee===void 0?void 0:ee.image),Ae=!De||De instanceof Promise?null:De.width/De.height;(0,h.EJ)(oe,r.state.activeTool.type,S.originInGrid.x,S.originInGrid.y,ke,Me,(0,s.TE)(S.originInGrid.x,ke),(0,s.TE)(S.originInGrid.y,Me),(0,I.pC)(oe)?!(0,M.E0)(K):(0,M.E0)(K),(0,M.OA)(K),Ae),r.maybeSuggestBindingForAll([oe])}},this.maybeHandleResize=function(S,K){var oe=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state),Se=S.resize.handleType;r.setState({isResizing:Se&&Se!=="rotation",isRotating:Se==="rotation"});var ee=S.lastCoords,z=(0,D.wC)(ee.x-S.resize.offset.x,ee.y-S.resize.offset.y,r.state.gridSize),be=(0,y.Z)(z,2),ke=be[0],Me=be[1];return!!(0,h.vY)(S,Se,oe,S.resize.arrowDirection,(0,M.Ge)(K),(0,M.OA)(K),oe.length===1&&(0,I.pC)(oe[0])?!(0,M.E0)(K):(0,M.E0)(K),ke,Me,S.resize.center.x,S.resize.center.y)&&(r.maybeSuggestBindingForAll(oe),!0)},this.getContextMenuItems=function(S){var K=[];return K.push(C.jK,C.FA),S==="canvas"?r.state.viewModeEnabled?[].concat(K,[C.Pb,C.JN,ho,C.u0]):[vo.yQ,ze,C.jK,C.FA,C.zp,ze,C.Yy,ze,C.Pb,C.JN,ho,C.u0]:(K.push(C.zp),r.state.viewModeEnabled?[C.uN].concat(K):[C.ZM,C.uN,vo.yQ,ze].concat(K,[ze,C.pw,C.W3,ze,C.EQ,C.y7,C.vD,C.s,ze,C.FL,ze,C.V,C.yA,C.zi,C.BZ,ze,C.jl,C.kt,ze,C.Qs,C.nz,C.xF,C.iL,ze,C.X9]))},this.handleWheel=(0,s.tH)(function(S){if(S.preventDefault(),!wn){var K=S.deltaX,oe=S.deltaY;if(S.metaKey||S.ctrlKey){var Se=Math.sign(oe),ee=100*o.V4,z=Math.abs(oe),be=oe;z>ee&&(be=ee*Se);var ke=r.state.zoom.value-be/100;return ke+=Math.log10(Math.max(1,r.state.zoom.value))*-Se*Math.min(1,z/20),r.setState(function(Me){return rt(rt({},(0,Pe.E)({viewportX:sn,viewportY:cn,nextZoom:(0,ue.j)(ke)},Me)),{},{shouldCacheIgnoreZoom:!0})}),void r.resetShouldCacheIgnoreZoomDebounced()}S.shiftKey?r.setState(function(Me){var De=Me.zoom;return{scrollX:Me.scrollX-(oe||K)/De.value}}):r.setState(function(Me){var De=Me.zoom,Ae=Me.scrollX,Re=Me.scrollY;return{scrollX:Ae-K/De.value,scrollY:Re-oe/De.value}})}}),this.savePointer=function(S,K,oe){var Se,ee;if(S&&K){var z=(0,s.dE)({clientX:S,clientY:K},r.state);isNaN(z.x)||isNaN(z.y),(Se=(ee=r.props).onPointerUpdate)===null||Se===void 0||Se.call(ee,{pointer:z,button:oe,pointersMap:rr.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,s.Ds)(function(){r.unmounted||r.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(S){var K;if((K=r.excalidrawContainerRef)!==null&&K!==void 0&&K.current){var oe=r.excalidrawContainerRef.current.getBoundingClientRect(),Se=oe.width,ee=oe.height,z=oe.left,be=oe.top,ke=r.state,Me=ke.width,De=ke.height,Ae=ke.offsetTop,Re=ke.offsetLeft;if(Se===Me&&ee===De&&z===Re&&be===Ae)return void(S&&S());r.setState({width:Se,height:ee,offsetLeft:z,offsetTop:be},function(){S&&S()})}},this.refresh=function(){r.setState(rt({},r.getCanvasOffsets()))}};o.Vi.TEST!=="production"&&o.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var r;return(r=this.app)===null||r===void 0?void 0:r.scene.getElementsIncludingDeleted()},set:function(r){var S;return(S=this.app)===null||S===void 0?void 0:S.scene.replaceAllElements(r)}}}));var ci=Jn},3807:function(ge,Q,t){t.d(Q,{o:function(){return de}});var w=t(45),y=t(3646),f=t(487),c=t.n(f),j=t(631),A=t.n(j),R=t(2052),n=t.n(R),Z=t(4010),H=t.n(Z),G=t(1469),le=t.n(G),k=t(9329),se=t.n(k),pe=t(6029),Ee={};Ee.styleTagTransform=se(),Ee.setAttributes=H(),Ee.insert=n().bind(null,"head"),Ee.domAPI=A(),Ee.insertStyleElement=le(),c()(pe.Z,Ee),pe.Z&&pe.Z.locals&&pe.Z.locals;var ae=t(4512),de=function(ye){var C=ye.children,J=ye.checked,g=ye.onChange,m=ye.className;return(0,ae.jsxs)("div",{className:(0,w.Z)("Checkbox",m,{"is-checked":J}),onClick:function(M){g(!J,M),M.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ae.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":J,children:y.eQ}),(0,ae.jsx)("div",{className:"Checkbox-label",children:C})]})}},4499:function(ge,Q,t){t.d(Q,{z:function(){return e}});var w=t(2577),y=t(9787),f=t.n(y),c=t(2891),j=t(6340),A=t(487),R=t.n(A),n=t(631),Z=t.n(n),H=t(2052),G=t.n(H),le=t(4010),k=t.n(le),se=t(1469),pe=t.n(se),Ee=t(9329),ae=t.n(Ee),de=t(2345),ye={};ye.styleTagTransform=ae(),ye.setAttributes=k(),ye.insert=G().bind(null,"head"),ye.domAPI=Z(),ye.insertStyleElement=pe(),R()(de.Z,ye),de.Z&&de.Z.locals&&de.Z.locals;var C=t(6066),J=t(8211),g=t(56),m=t(4512),M=function(a,i){return!g.Z[i].includes(a)},v=function(a){var i=new Option().style;return i.color=a,!!i.color},u=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),s=function(a){var i=a.colors,l=a.color,p=a.onChange,T=a.onClose,X=a.label,te=a.showInput,N=te===void 0||te,L=a.type,fe=a.elements,q=f().useRef(),F=f().useRef(),h=f().useRef(),_=f().useRef(),W=f().useState(function(){return L==="canvasBackground"?[]:function(O,E){for(var b=[],d=O.filter(function(D){return!D.isDeleted}).sort(function(D,ce){return ce.updated-D.updated}),x=0,P={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[E];x<d.length&&b.length<5;){var U=d[x];b.length<5&&M(U[P],E)&&!b.includes(U[P])&&b.push(U[P]),x++}return b}(fe,L)}),I=(0,w.Z)(W,1)[0];f().useEffect(function(){F.current?F.current.focus():_.current?_.current.focus():h.current&&h.current.focus()},[]);var re=function(O){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return O.map(function(b,d){var x=b.replace("#",""),P=E?u[d+15]:u[d],U=E?x:(0,J.t)("colors.".concat(x));return(0,m.jsxs)("button",{className:"color-picker-swatch",onClick:function(D){D.currentTarget.focus(),p(b)},title:"".concat(U).concat((0,j.Qm)(b)?"":" (".concat(b,")")," \u2014 ").concat(P.toUpperCase()),"aria-label":U,"aria-keyshortcuts":u[d],style:{color:b},ref:function(D){!E&&D&&d===0&&(q.current=D),D&&b===l&&(F.current=D)},onFocus:function(){p(b)},children:[(0,j.Qm)(b)?(0,m.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,m.jsx)("span",{className:"color-picker-keybinding",children:P})]},b)})};return(0,m.jsxs)("div",{className:"color-picker color-picker-type-".concat(L),role:"dialog","aria-modal":"true","aria-label":(0,J.t)("labels.colorPicker"),onKeyDown:function(O){var E=!1;if((0,C.Wl)(O.key)){var b,d,x;E=!0;var P,U=document.activeElement,D=(0,J.G3)().rtl,ce=!1,ie=Array.prototype.indexOf.call((b=h.current.querySelector(".color-picker-content--default"))===null||b===void 0?void 0:b.children,U);ie===-1&&(ie=Array.prototype.indexOf.call((P=h.current.querySelector(".color-picker-content--canvas-colors"))===null||P===void 0?void 0:P.children,U))!==-1&&(ce=!0);var ue=ce?(d=h.current)===null||d===void 0?void 0:d.querySelector(".color-picker-content--canvas-colors"):(x=h.current)===null||x===void 0?void 0:x.querySelector(".color-picker-content--default");if(ue&&ie!==-1){var Ce,Pe=ue.children.length-(N?1:0),B=O.key===(D?C.tW.ARROW_LEFT:C.tW.ARROW_RIGHT)?(ie+1)%Pe:O.key===(D?C.tW.ARROW_RIGHT:C.tW.ARROW_LEFT)?(Pe+ie-1)%Pe:ce||O.key!==C.tW.ARROW_DOWN?ce||O.key!==C.tW.ARROW_UP?ie:(Pe+ie-5)%Pe:(ie+5)%Pe;(Ce=ue.children[B])===null||Ce===void 0||Ce.focus()}O.preventDefault()}else if(!u.includes(O.key.toLowerCase())||O[C.tW.CTRL_OR_CMD]||O.altKey||(0,j.s)(O.target))O.key!==C.tW.ESCAPE&&O.key!==C.tW.ENTER||(E=!0,O.preventDefault(),T());else{var Y,$,xe;E=!0;var Oe=u.indexOf(O.key.toLowerCase()),Ze=Oe>=15,Fe=Ze?h==null||(Y=h.current)===null||Y===void 0?void 0:Y.querySelector(".color-picker-content--canvas-colors"):h==null||($=h.current)===null||$===void 0?void 0:$.querySelector(".color-picker-content--default"),Je=Ze?Oe-15:Oe;Fe==null||(xe=Fe.children[Je])===null||xe===void 0||xe.focus(),O.preventDefault()}E&&(O.nativeEvent.stopImmediatePropagation(),O.stopPropagation())},children:[(0,m.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,m.jsx)("div",{className:"color-picker-triangle"}),(0,m.jsxs)("div",{className:"color-picker-content",ref:function(O){O&&(h.current=O)},tabIndex:-1,children:[(0,m.jsx)("div",{className:"color-picker-content--default",children:re(i)}),!!I.length&&(0,m.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,m.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,J.t)("labels.canvasColors")}),(0,m.jsx)("div",{className:"color-picker-content--canvas-colors",children:re(I,!0)})]}),N&&(0,m.jsx)(o,{color:l,label:X,onChange:function(O){p(O)},ref:_})]})]})},o=f().forwardRef(function(a,i){var l=a.color,p=a.onChange,T=a.label,X=f().useState(l),te=(0,w.Z)(X,2),N=te[0],L=te[1],fe=f().useRef(null);f().useEffect(function(){L(l)},[l]),f().useImperativeHandle(i,function(){return fe.current});var q=f().useCallback(function(F){var h=F.toLowerCase(),_=function(W){return(0,j.Qm)(W)?W:v("#".concat(W))?"#".concat(W):v(W)?W:null}(h);_&&p(_),L(h)},[p]);return(0,m.jsxs)("label",{className:"color-input-container",children:[(0,m.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,m.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":T,onChange:function(F){return q(F.target.value)},value:(N||"").replace(/^#/,""),onBlur:function(){return L(l)},ref:fe})]})});o.displayName="ColorInput";var e=function(a){var i,l=a.type,p=a.color,T=a.onChange,X=a.label,te=a.isActive,N=a.setActive,L=a.elements,fe=(a.appState,f().useRef(null)),q=(i=fe.current)===null||i===void 0?void 0:i.getBoundingClientRect();return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"color-picker-control-container",children:[(0,m.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,m.jsx)("button",{className:"color-picker-label-swatch","aria-label":X,style:p?{"--swatch-color":p}:void 0,onClick:function(){return N(!te)},ref:fe})}),(0,m.jsx)(o,{color:p,label:X,onChange:function(F){T(F)}})]}),(0,m.jsx)(f().Suspense,{fallback:"",children:te?(0,m.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:q==null?void 0:q.top,left:q==null?void 0:q.right,zIndex:1},children:(0,m.jsx)(c.J,{onCloseRequest:function(F){return F.target!==fe.current&&N(!1)},children:(0,m.jsx)(s,{colors:g.Z[l],color:p||null,onChange:function(F){T(F)},onClose:function(){var F;N(!1),(F=fe.current)===null||F===void 0||F.focus()},label:X,showInput:!1,type:l,elements:L})})}):null})]})}},7046:function(ge,Q,t){t.d(Q,{Z:function(){return s}});var w=t(7169),y=t(2726),f=t(8211),c=t(8396),j=t(487),A=t.n(j),R=t(631),n=t.n(R),Z=t(2052),H=t.n(Z),G=t(4010),le=t.n(G),k=t(1469),se=t.n(k),pe=t(9329),Ee=t.n(pe),ae=t(9393),de={};de.styleTagTransform=Ee(),de.setAttributes=le(),de.insert=H().bind(null,"head"),de.domAPI=n(),de.insertStyleElement=se(),A()(ae.Z,de),ae.Z&&ae.Z.locals&&ae.Z.locals;var ye=t(6428),C=t(4739),J=t(770),g=t(4206),m=t(4512),M=["onConfirm","onCancel","children","confirmText","cancelText","className"];function v(o,e){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),a.push.apply(a,i)}return a}function u(o){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?v(Object(a),!0).forEach(function(i){(0,w.Z)(o,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(a,i))})}return o}var s=function(o){var e=o.onConfirm,a=o.onCancel,i=o.children,l=o.confirmText,p=l===void 0?(0,f.t)("buttons.confirm"):l,T=o.cancelText,X=T===void 0?(0,f.t)("buttons.cancel"):T,te=o.className,N=te===void 0?"":te,L=(0,y.Z)(o,M),fe=(0,g.n9)(),q=(0,C.b9)(J.u);return(0,m.jsxs)(c.V,u(u({onCloseRequest:a,small:!0},L),{},{className:"confirm-dialog ".concat(N),children:[i,(0,m.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,m.jsx)(ye.Z,{label:X,onClick:function(){fe({openMenu:null}),q(!1),a()}}),(0,m.jsx)(ye.Z,{label:p,onClick:function(){fe({openMenu:null}),q(!1),e()},actionType:"danger"})]})]}))}},8396:function(ge,Q,t){t.d(Q,{V:function(){return p}});var w=t(2577),y=t(45),f=t(9787),c=t(8211),j=t(4206),A=t(6066),R=t(487),n=t.n(R),Z=t(631),H=t.n(Z),G=t(2052),le=t.n(G),k=t(4010),se=t.n(k),pe=t(1469),Ee=t.n(pe),ae=t(9329),de=t.n(ae),ye=t(9482),C={};C.styleTagTransform=de(),C.setAttributes=se(),C.insert=le().bind(null,"head"),C.domAPI=H(),C.insertStyleElement=Ee(),n()(ye.Z,C),ye.Z&&ye.Z.locals&&ye.Z.locals;var J=t(3646),g=t(1881),m=t(6843),M={};M.styleTagTransform=de(),M.setAttributes=se(),M.insert=le().bind(null,"head"),M.domAPI=H(),M.insertStyleElement=Ee(),n()(m.Z,M),m.Z&&m.Z.locals&&m.Z.locals;var v=t(5156),u=t(2335),s=t(4512),o=function(T){var X=T.theme,te=X===void 0?u.C6.LIGHT:X,N=T.closeOnClickOutside,L=N===void 0||N,fe=e(te);return fe?(0,v.createPortal)((0,s.jsxs)("div",{className:(0,y.Z)("Modal",T.className),role:"dialog","aria-modal":"true",onKeyDown:function(q){q.key===A.tW.ESCAPE&&(q.nativeEvent.stopImmediatePropagation(),q.stopPropagation(),T.onCloseRequest())},"aria-labelledby":T.labelledBy,"data-prevent-outside-click":!0,children:[(0,s.jsx)("div",{className:"Modal__background",onClick:L?T.onCloseRequest:void 0}),(0,s.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(T.maxWidth,"px")},tabIndex:0,children:T.children})]}),fe):null},e=function(T){var X=(0,f.useState)(null),te=(0,w.Z)(X,2),N=te[0],L=te[1],fe=(0,j.Fy)(),q=(0,f.useRef)(fe.isMobile);q.current=fe.isMobile;var F=(0,j.J0)().container;return(0,f.useLayoutEffect)(function(){N&&N.classList.toggle("excalidraw--mobile",fe.isMobile)},[N,fe.isMobile]),(0,f.useLayoutEffect)(function(){var h=!(F==null||!F.classList.contains("theme--dark"))||T==="dark",_=document.createElement("div");return _.classList.add("excalidraw","excalidraw-modal-container"),_.classList.toggle("excalidraw--mobile",q.current),h&&(_.classList.add("theme--dark"),_.classList.add("theme--dark-background-none")),document.body.appendChild(_),L(_),function(){document.body.removeChild(_)}},[F,T]),N},a=t(6340),i=t(4739),l=t(770),p=function(T){var X=function(){var I=(0,f.useState)(null),re=(0,w.Z)(I,2),O=re[0],E=re[1];return[O,(0,f.useCallback)(function(b){return E(b)},[])]}(),te=(0,w.Z)(X,2),N=te[0],L=te[1],fe=(0,f.useState)(document.activeElement),q=(0,w.Z)(fe,1)[0],F=(0,j.J0)().id;(0,f.useEffect)(function(){if(N){var I=(0,a.xp)(N);I.length>0&&T.autofocus!==!1&&(I[1]||I[0]).focus();var re=function(O){if(O.key===A.tW.TAB){var E=(0,a.xp)(N),b=document.activeElement,d=E.findIndex(function(x){return x===b});d===0&&O.shiftKey?(E[E.length-1].focus(),O.preventDefault()):d!==E.length-1||O.shiftKey||(E[0].focus(),O.preventDefault())}};return N.addEventListener("keydown",re),function(){return N.removeEventListener("keydown",re)}}},[N,T.autofocus]);var h=(0,j.n9)(),_=(0,i.b9)(l.u),W=function(){h({openMenu:null}),_(!1),q.focus(),T.onCloseRequest()};return(0,s.jsx)(o,{className:(0,y.Z)("Dialog",T.className),labelledBy:"dialog-title",maxWidth:T.small?550:800,onCloseRequest:W,theme:T.theme,closeOnClickOutside:T.closeOnClickOutside,children:(0,s.jsxs)(g.W,{ref:L,children:[(0,s.jsxs)("h2",{id:"".concat(F,"-dialog-title"),className:"Dialog__title",children:[(0,s.jsx)("span",{className:"Dialog__titleContent",children:T.title}),(0,s.jsx)("button",{className:"Modal__close",onClick:W,title:(0,c.t)("buttons.close"),"aria-label":(0,c.t)("buttons.close"),children:(0,j.Fy)().isMobile?J.op:J.Tw})]}),(0,s.jsx)("div",{className:"Dialog__content",children:T.children})]})})}},6428:function(ge,Q,t){t.d(Q,{Z:function(){return m}});var w=t(7169),y=t(2726),f=t(45),c=t(487),j=t.n(c),A=t(631),R=t.n(A),n=t(2052),Z=t.n(n),H=t(4010),G=t.n(H),le=t(1469),k=t.n(le),se=t(9329),pe=t.n(se),Ee=t(6148),ae={};ae.styleTagTransform=pe(),ae.setAttributes=G(),ae.insert=Z().bind(null,"head"),ae.domAPI=R(),ae.insertStyleElement=k(),j()(Ee.Z,ae),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var de=t(5644),ye=t(4512),C=["label","onClick","className","children","actionType","type","isLoading"];function J(M,v){var u=Object.keys(M);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(M);v&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(M,o).enumerable})),u.push.apply(u,s)}return u}function g(M){for(var v=1;v<arguments.length;v++){var u=arguments[v]!=null?arguments[v]:{};v%2?J(Object(u),!0).forEach(function(s){(0,w.Z)(M,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(u)):J(Object(u)).forEach(function(s){Object.defineProperty(M,s,Object.getOwnPropertyDescriptor(u,s))})}return M}var m=function(M){var v=M.label,u=M.onClick,s=M.className,o=M.children,e=M.actionType,a=M.type,i=a===void 0?"button":a,l=M.isLoading,p=(0,y.Z)(M,C),T=e?"Dialog__action-button--".concat(e):"";return(0,ye.jsxs)("button",g(g({className:(0,f.Z)("Dialog__action-button",T,s),type:i,"aria-label":v,onClick:u},p),{},{children:[o&&(0,ye.jsx)("div",{style:l?{visibility:"hidden"}:{},children:o}),(0,ye.jsx)("div",{style:l?{visibility:"hidden"}:{},children:v}),l&&(0,ye.jsx)("div",{style:{position:"absolute",inset:0},children:(0,ye.jsx)(de.Z,{})})]}))}},1881:function(ge,Q,t){t.d(Q,{W:function(){return g}});var w=t(7169),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),R=t.n(A),n=t(4010),Z=t.n(n),H=t(1469),G=t.n(H),le=t(9329),k=t.n(le),se=t(7369),pe={};pe.styleTagTransform=k(),pe.setAttributes=Z(),pe.insert=R().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(9787),ae=t.n(Ee),de=t(45),ye=t(4512);function C(m,M){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);M&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),v.push.apply(v,u)}return v}function J(m){for(var M=1;M<arguments.length;M++){var v=arguments[M]!=null?arguments[M]:{};M%2?C(Object(v),!0).forEach(function(u){(0,w.Z)(m,u,v[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):C(Object(v)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(v,u))})}return m}var g=ae().forwardRef(function(m,M){var v=m.children,u=m.padding,s=m.className,o=m.style;return(0,ye.jsx)("div",{className:(0,de.Z)("Island",s),style:J({"--padding":u},o),ref:M,children:v})})},770:function(ge,Q,t){t.d(Q,{W:function(){return U},u:function(){return x}});var w=t(8950),y=t(2577),f=t(2975),c=t.n(f),j=t(9787),A=t(5523),R=t(7053),n=t(8211),Z=t(3646),H=t(1319),G=t(1393),le=t(6340),k=t(4739),se=t(9487),pe=t(7046),Ee=t(7169),ae=t(5284),de=t(8396),ye=t(3024),C=t(2335),J=t(487),g=t.n(J),m=t(631),M=t.n(m),v=t(2052),u=t.n(v),s=t(4010),o=t.n(s),e=t(1469),a=t.n(e),i=t(9329),l=t.n(i),p=t(7589),T={};T.styleTagTransform=l(),T.setAttributes=o(),T.insert=u().bind(null,"head"),T.domAPI=M(),T.insertStyleElement=a(),g()(p.Z,T),p.Z&&p.Z.locals&&p.Z.locals;var X=t(8465),te={};te.styleTagTransform=l(),te.setAttributes=o(),te.insert=u().bind(null,"head"),te.domAPI=M(),te.insertStyleElement=a(),g()(X.Z,te),X.Z&&X.Z.locals&&X.Z.locals;var N=t(4512);function L(D,ce){var ie=Object.keys(D);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(D);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(D,Ce).enumerable})),ie.push.apply(ie,ue)}return ie}function fe(D){for(var ce=1;ce<arguments.length;ce++){var ie=arguments[ce]!=null?arguments[ce]:{};ce%2?L(Object(ie),!0).forEach(function(ue){(0,Ee.Z)(D,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(ie)):L(Object(ie)).forEach(function(ue){Object.defineProperty(D,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return D}var q=function(D){var ce=D.libItem,ie=D.appState,ue=D.index,Ce=D.onChange,Pe=D.onRemove,B=(0,j.useRef)(null),Y=(0,j.useRef)(null);return(0,j.useEffect)(function(){var $=B.current;$&&(0,w.Z)(c().mark(function xe(){var Oe;return c().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,(0,ye.$D)({elements:ce.elements,appState:fe(fe({},ie),{},{viewBackgroundColor:ae.white,exportBackground:!0}),files:null});case 2:Oe=Ze.sent,$.innerHTML=Oe.outerHTML;case 4:case"end":return Ze.stop()}},xe)}))()},[ce.elements,ie]),(0,N.jsxs)("div",{className:"single-library-item",children:[ce.status==="published"&&(0,N.jsx)("span",{className:"single-library-item-status",children:(0,n.t)("labels.statusPublished")}),(0,N.jsx)("div",{ref:B,className:"single-library-item__svg"}),(0,N.jsx)(H.V,{"aria-label":(0,n.t)("buttons.remove"),type:"button",icon:Z.Tw,className:"single-library-item--remove",onClick:Pe.bind(null,ce.id),title:(0,n.t)("buttons.remove")}),(0,N.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,N.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,N.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,N.jsx)("span",{style:{fontWeight:500,color:ae.gray[6]},children:(0,n.t)("publishDialog.itemName")}),(0,N.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,N.jsx)("input",{type:"text",ref:Y,style:{width:"80%",padding:"0.2rem"},defaultValue:ce.name,placeholder:"Item name",onChange:function($){Ce($.target.value,ue)}})]}),(0,N.jsx)("span",{className:"error",children:ce.error})]})]})},F=t(434),h=t(6428);function _(D,ce){var ie=Object.keys(D);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(D);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(D,Ce).enumerable})),ie.push.apply(ie,ue)}return ie}function W(D){for(var ce=1;ce<arguments.length;ce++){var ie=arguments[ce]!=null?arguments[ce]:{};ce%2?_(Object(ie),!0).forEach(function(ue){(0,Ee.Z)(D,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(ie)):_(Object(ie)).forEach(function(ue){Object.defineProperty(D,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return D}function I(D,ce){var ie=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!ie){if(Array.isArray(D)||(ie=function($,xe){if(!!$){if(typeof $=="string")return re($,xe);var Oe=Object.prototype.toString.call($).slice(8,-1);if(Oe==="Object"&&$.constructor&&(Oe=$.constructor.name),Oe==="Map"||Oe==="Set")return Array.from($);if(Oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oe))return re($,xe)}}(D))||ce&&D&&typeof D.length=="number"){ie&&(D=ie);var ue=0,Ce=function(){};return{s:Ce,n:function(){return ue>=D.length?{done:!0}:{done:!1,value:D[ue++]}},e:function($){throw $},f:Ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pe,B=!0,Y=!1;return{s:function(){ie=ie.call(D)},n:function(){var $=ie.next();return B=$.done,$},e:function($){Y=!0,Pe=$},f:function(){try{B||ie.return==null||ie.return()}finally{if(Y)throw Pe}}}}function re(D,ce){(ce==null||ce>D.length)&&(ce=D.length);for(var ie=0,ue=new Array(ce);ie<ce;ie++)ue[ie]=D[ie];return ue}var O="publish-library-data",E=function(){var D=(0,w.Z)(c().mark(function ce(ie){var ue,Ce,Pe,B,Y,$,xe,Oe,Ze,Fe,Je,Ke,Be,Le,ne,me,ve;return c().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:ue=6,Ce=128,Pe=Math.round(Ce/16),B=Math.max(Math.round(Ce/64),2),Y=(0,le.yo)(ie,ue),($=document.createElement("canvas")).width=Y[0].length*Ce+(Y[0].length+1)*(2*Pe)-2*Pe,$.height=Y.length*Ce+(Y.length+1)*(2*Pe)-2*Pe,(xe=$.getContext("2d")).fillStyle=ae.white,xe.fillRect(0,0,$.width,$.height),Oe=I(ie.entries()),we.prev=12,Oe.s();case 14:if((Ze=Oe.n()).done){we.next=28;break}return Fe=(0,y.Z)(Ze.value,2),Je=Fe[0],Ke=Fe[1],we.next=18,(0,ye.NL)({elements:Ke.elements,files:null,maxWidthOrHeight:Ce});case 18:Be=we.sent,Le=Be.width,ne=Be.height,me=Math.floor(Je/ue)*(Ce+2*Pe),ve=Je%ue*(Ce+2*Pe),xe.drawImage(Be,ve+(Ce-Le)/2+Pe,me+(Ce-ne)/2+Pe),xe.lineWidth=B,xe.strokeStyle=ae.gray[4],xe.strokeRect(ve+Pe/2,me+Pe/2,Ce+Pe,Ce+Pe);case 26:we.next=14;break;case 28:we.next=33;break;case 30:we.prev=30,we.t0=we.catch(12),Oe.e(we.t0);case 33:return we.prev=33,Oe.f(),we.finish(33);case 36:return we.t1=F.Tu,we.t2=File,we.next=40,(0,F._c)($);case 40:return we.t3=we.sent,we.t4=[we.t3],we.t5={type:C.LO.png},we.t6=new we.t2(we.t4,"preview",we.t5),we.t7={outputType:C.LO.jpg,maxWidthOrHeight:5e3},we.next=47,(0,we.t1)(we.t6,we.t7);case 47:return we.abrupt("return",we.sent);case 48:case"end":return we.stop()}},ce,null,[[12,30,33,36]])}));return function(ce){return D.apply(this,arguments)}}(),b=function(D){var ce=D.onClose,ie=D.libraryItems,ue=D.appState,Ce=D.onSuccess,Pe=D.onError,B=D.updateItemsInStorage,Y=D.onRemove,$=(0,j.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),xe=(0,y.Z)($,2),Oe=xe[0],Ze=xe[1],Fe=(0,j.useState)(!1),Je=(0,y.Z)(Fe,2),Ke=Je[0],Be=Je[1];(0,j.useEffect)(function(){var Ye=function(){try{var et=localStorage.getItem(O);if(et)return JSON.parse(et)}catch(at){console.error(at)}return null}();Ye&&Ze(Ye)},[]);var Le=(0,j.useState)(ie.slice()),ne=(0,y.Z)(Le,2),me=ne[0],ve=ne[1];(0,j.useEffect)(function(){ve(ie.slice())},[ie]);var we,Ie=function(Ye){Ze(W(W({},Oe),{},(0,Ee.Z)({},Ye.target.name,Ye.target.value)))},Te=function(){var Ye=(0,w.Z)(c().mark(function et(at){var $e,tt,ct,Et,Pt,_t,vt;return c().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(at.preventDefault(),Be(!0),$e=[],tt=!1,me.forEach(function(ft){var St="";ft.name||(St=(0,n.t)("publishDialog.errors.required"),tt=!0),$e.push(W(W({},ft),{},{error:St}))}),!tt){yt.next=9;break}return ve($e),Be(!1),yt.abrupt("return");case 9:return yt.next=11,E(me);case 11:ct=yt.sent,Et={type:C.r8.excalidrawLibrary,version:C.Kr.excalidrawLibrary,source:C.pb,libraryItems:me},Pt=JSON.stringify(Et,null,2),_t=new Blob([Pt],{type:"application/json"}),(vt=new FormData).append("excalidrawLib",_t),vt.append("previewImage",ct),vt.append("previewImageType",ct.type),vt.append("title",Oe.name),vt.append("authorName",Oe.authorName),vt.append("githubHandle",Oe.githubHandle),vt.append("name",Oe.name),vt.append("description",Oe.description),vt.append("twitterHandle",Oe.twitterHandle),vt.append("website",Oe.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:vt}).then(function(ft){return ft.ok?ft.json().then(function(St){var Yt=St.url;localStorage.removeItem(O),Ce({url:Yt,authorName:Oe.authorName,items:me})}):ft.json().catch(function(){throw new Error(ft.statusText||"something went wrong")}).then(function(St){throw new Error(St.message||ft.statusText||"something went wrong")})},function(ft){console.error(ft),Pe(ft),Be(!1)}).catch(function(ft){console.error(ft),Pe(ft),Be(!1)});case 27:case"end":return yt.stop()}},et)}));return function(et){return Ye.apply(this,arguments)}}(),ze=(0,j.useCallback)(function(){B(me),function(Ye){try{localStorage.setItem(O,JSON.stringify(Ye))}catch(et){console.error(et)}}(Oe),ce()},[me,ce,B,Oe]),We=!!ie.length,He=ie.some(function(Ye){return Ye.status==="published"});return(0,N.jsx)(de.V,{onCloseRequest:ze,title:(0,n.t)("publishDialog.title"),className:"publish-library",children:We?(0,N.jsxs)("form",{onSubmit:Te,children:[(0,N.jsxs)("div",{className:"publish-library-note",children:[(0,n.t)("publishDialog.noteDescription.pre"),(0,N.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,n.t)("publishDialog.noteDescription.link")})," ",(0,n.t)("publishDialog.noteDescription.post")]}),(0,N.jsxs)("span",{className:"publish-library-note",children:[(0,n.t)("publishDialog.noteGuidelines.pre"),(0,N.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,n.t)("publishDialog.noteGuidelines.link")}),(0,n.t)("publishDialog.noteGuidelines.post")]}),(0,N.jsx)("div",{className:"publish-library-note",children:(0,n.t)("publishDialog.noteItems")}),He&&(0,N.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,n.t)("publishDialog.republishWarning")}),(we=[],me.forEach(function(Ye,et){we.push((0,N.jsx)("div",{className:"single-library-item-wrapper",children:(0,N.jsx)(q,{libItem:Ye,appState:ue,index:et,onChange:function(at,$e){var tt=me.slice();tt[$e].name=at,ve(tt)},onRemove:Y})},et))}),(0,N.jsx)("div",{className:"selected-library-items",children:we})),(0,N.jsxs)("div",{className:"publish-library__fields",children:[(0,N.jsxs)("label",{children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:(0,n.t)("publishDialog.libraryName")}),(0,N.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,N.jsx)("input",{type:"text",name:"name",required:!0,value:Oe.name,onChange:Ie,placeholder:(0,n.t)("publishDialog.placeholder.libraryName")})]}),(0,N.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:(0,n.t)("publishDialog.libraryDesc")}),(0,N.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,N.jsx)("textarea",{name:"description",rows:4,required:!0,value:Oe.description,onChange:Ie,placeholder:(0,n.t)("publishDialog.placeholder.libraryDesc")})]}),(0,N.jsxs)("label",{children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:(0,n.t)("publishDialog.authorName")}),(0,N.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,N.jsx)("input",{type:"text",name:"authorName",required:!0,value:Oe.authorName,onChange:Ie,placeholder:(0,n.t)("publishDialog.placeholder.authorName")})]}),(0,N.jsxs)("label",{children:[(0,N.jsx)("span",{children:(0,n.t)("publishDialog.githubUsername")}),(0,N.jsx)("input",{type:"text",name:"githubHandle",value:Oe.githubHandle,onChange:Ie,placeholder:(0,n.t)("publishDialog.placeholder.githubHandle")})]}),(0,N.jsxs)("label",{children:[(0,N.jsx)("span",{children:(0,n.t)("publishDialog.twitterUsername")}),(0,N.jsx)("input",{type:"text",name:"twitterHandle",value:Oe.twitterHandle,onChange:Ie,placeholder:(0,n.t)("publishDialog.placeholder.twitterHandle")})]}),(0,N.jsxs)("label",{children:[(0,N.jsx)("span",{children:(0,n.t)("publishDialog.website")}),(0,N.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,n.t)("publishDialog.errors.website"),value:Oe.website,onChange:Ie,placeholder:(0,n.t)("publishDialog.placeholder.website")})]}),(0,N.jsxs)("span",{className:"publish-library-note",children:[(0,n.t)("publishDialog.noteLicense.pre"),(0,N.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,n.t)("publishDialog.noteLicense.link")}),(0,n.t)("publishDialog.noteLicense.post")]})]}),(0,N.jsxs)("div",{className:"publish-library__buttons",children:[(0,N.jsx)(h.Z,{label:(0,n.t)("buttons.cancel"),onClick:ze,"data-testid":"cancel-clear-canvas-button"}),(0,N.jsx)(h.Z,{type:"submit",label:(0,n.t)("buttons.submit"),actionType:"primary",isLoading:Ke})]})]}):(0,N.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,n.t)("publishDialog.atleastOneLibItem")})})},d=t(9127),x=(0,k.cn)(!1),P=function(D,ce){return D.filter(function(ie){return ce.includes(ie.id)})},U=function(D){var ce=D.setAppState,ie=D.selectedItems,ue=D.library,Ce=D.onRemoveFromLibrary,Pe=D.resetLibrary,B=D.onSelectItems,Y=D.appState,$=(0,k.KO)(R.rF,se.yE),xe=(0,y.Z)($,1)[0],Oe=(0,k.KO)(x),Ze=(0,y.Z)(Oe,2),Fe=Ze[0],Je=Ze[1],Ke=(0,j.useCallback)(function(){var _t=ie.length?(0,n.t)("alerts.removeItemsFromsLibrary",{count:ie.length}):(0,n.t)("alerts.resetLibrary"),vt=ie.length?(0,n.t)("confirmDialog.removeItemsFromLib"):(0,n.t)("confirmDialog.resetLibrary");return(0,N.jsx)(pe.Z,{onConfirm:function(){ie.length?Ce():Pe(),me(!1)},onCancel:function(){me(!1)},title:vt,children:(0,N.jsx)("p",{children:_t})})},[ie,Ce,Pe]),Be=(0,j.useState)(!1),Le=(0,y.Z)(Be,2),ne=Le[0],me=Le[1],ve=!!ie.length,we=ve?xe.libraryItems.filter(function(_t){return ie.includes(_t.id)}):xe.libraryItems,Ie=ve?(0,n.t)("buttons.remove"):(0,n.t)("buttons.resetLibrary"),Te=(0,j.useState)(!1),ze=(0,y.Z)(Te,2),We=ze[0],He=ze[1],Ye=(0,j.useState)(null),et=(0,y.Z)(Ye,2),at=et[0],$e=et[1],tt=(0,j.useCallback)(function(){return(0,N.jsxs)(de.V,{onCloseRequest:function(){return $e(null)},title:(0,n.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,N.jsxs)("p",{children:[(0,n.t)("publishSuccessDialog.content",{authorName:at.authorName})," ",(0,N.jsx)("a",{href:at==null?void 0:at.url,target:"_blank",rel:"noopener noreferrer",children:(0,n.t)("publishSuccessDialog.link")})]}),(0,N.jsx)(H.V,{type:"button",title:(0,n.t)("buttons.close"),"aria-label":(0,n.t)("buttons.close"),label:(0,n.t)("buttons.close"),onClick:function(){return $e(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[$e,at]),ct=(0,j.useCallback)(function(_t,vt){He(!1),$e({url:_t.url,authorName:_t.authorName});var yt=vt.slice();yt.forEach(function(ft){ie.includes(ft.id)&&(ft.status="published")}),ue.setLibrary(yt)},[He,$e,ie,ue]),Et=function(){var _t=(0,w.Z)(c().mark(function vt(){return c().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return yt.prev=0,yt.next=3,ue.updateLibrary({libraryItems:(0,G.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:yt.next=11;break;case 5:if(yt.prev=5,yt.t0=yt.catch(0),(yt.t0===null||yt.t0===void 0?void 0:yt.t0.name)!=="AbortError"){yt.next=10;break}return console.warn(yt.t0),yt.abrupt("return");case 10:ce({errorMessage:(0,n.t)("errors.importLibraryError")});case 11:case"end":return yt.stop()}},vt,null,[[0,5]])}));return function(){return _t.apply(this,arguments)}}(),Pt=function(){var _t=(0,w.Z)(c().mark(function vt(){var yt;return c().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(!ve){ft.next=4;break}ft.t0=we,ft.next=7;break;case 4:return ft.next=6,ue.getLatestLibrary();case 6:ft.t0=ft.sent;case 7:yt=ft.t0,(0,A.t1)(yt).catch(le.FG).catch(function(St){ce({errorMessage:St.message})});case 9:case"end":return ft.stop()}},vt)}));return function(){return _t.apply(this,arguments)}}();return(0,N.jsxs)("div",{style:{position:"relative"},children:[(0,N.jsxs)(d.Z,{open:Fe,children:[(0,N.jsx)(d.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return Je(!Fe)},children:Z.YA}),(0,N.jsxs)(d.Z.Content,{onClickOutside:function(){return Je(!1)},onSelect:function(){return Je(!1)},className:"library-menu",children:[!ve&&(0,N.jsx)(d.Z.Item,{onSelect:Et,icon:Z.Tl,"data-testid":"lib-dropdown--load",children:(0,n.t)("buttons.load")}),!!we.length&&(0,N.jsx)(d.Z.Item,{onSelect:Pt,icon:Z.Hy,"data-testid":"lib-dropdown--export",children:(0,n.t)("buttons.export")}),!!we.length&&(0,N.jsx)(d.Z.Item,{onSelect:function(){return me(!0)},icon:Z.XH,children:Ie}),ve&&(0,N.jsx)(d.Z.Item,{icon:Z.Nw,onSelect:function(){return He(!0)},"data-testid":"lib-dropdown--remove",children:(0,n.t)("buttons.publishLibrary")})]})]}),ie.length>0&&(0,N.jsx)("div",{className:"library-actions-counter",children:ie.length}),ne&&Ke(),We&&(0,N.jsx)(b,{onClose:function(){return He(!1)},libraryItems:P(xe.libraryItems,ie),appState:Y,onSuccess:function(_t){return ct(_t,xe.libraryItems)},onError:function(_t){return window.alert(_t)},updateItemsInStorage:function(){return ue.setLibrary(xe.libraryItems)},onRemove:function(_t){return B(ie.filter(function(vt){return vt!==_t}))}}),at&&tt()]})}},5440:function(ge,Q,t){t.d(Q,{z:function(){return n}});var w=t(2577),y=t(8211),f=t(9787),c=t(5644),j=t(45),A=t(2335),R=t(4512),n=function(Z){var H=Z.delay,G=Z.theme,le=(0,f.useState)(!!H),k=(0,w.Z)(le,2),se=k[0],pe=k[1];return(0,f.useEffect)(function(){if(H){var Ee=setTimeout(function(){pe(!1)},H);return function(){return clearTimeout(Ee)}}},[H]),se?null:(0,R.jsxs)("div",{className:(0,j.Z)("LoadingMessage",{"LoadingMessage--dark":G===A.C6.DARK}),children:[(0,R.jsx)("div",{children:(0,R.jsx)(c.Z,{})}),(0,R.jsx)("div",{className:"LoadingMessage-text",children:(0,y.t)("labels.loadingScene")})]})}},2891:function(ge,Q,t){t.d(Q,{J:function(){return C}});var w=t(9787),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),R=t.n(A),n=t(4010),Z=t.n(n),H=t(1469),G=t.n(H),le=t(9329),k=t.n(le),se=t(9935),pe={};pe.styleTagTransform=k(),pe.setAttributes=Z(),pe.insert=R().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(5156),ae=t(6340),de=t(6066),ye=t(4512),C=function(J){var g=J.children,m=J.left,M=J.top,v=J.onCloseRequest,u=J.fitInViewport,s=u!==void 0&&u,o=J.offsetLeft,e=o===void 0?0:o,a=J.offsetTop,i=a===void 0?0:a,l=J.viewportWidth,p=l===void 0?window.innerWidth:l,T=J.viewportHeight,X=T===void 0?window.innerHeight:T,te=(0,w.useRef)(null),N=te.current;return(0,w.useEffect)(function(){if(N){var L=function(fe){if(fe.key===de.tW.TAB){var q=(0,ae.xp)(N),F=document.activeElement,h=q.findIndex(function(_){return _===F});h===0&&fe.shiftKey?(q[q.length-1].focus(),fe.preventDefault(),fe.stopImmediatePropagation()):h!==q.length-1||fe.shiftKey||(q[0].focus(),fe.preventDefault(),fe.stopImmediatePropagation())}};return N.addEventListener("keydown",L),function(){return N.removeEventListener("keydown",L)}}},[N]),(0,w.useLayoutEffect)(function(){if(s&&te.current){var L=te.current,fe=L.getBoundingClientRect(),q=fe.x,F=fe.y,h=fe.width,_=fe.height;q+h-e>p&&(L.style.left="".concat(p-h-10,"px")),F+_-i>X&&(L.style.top="".concat(X-_,"px")),_>=X&&(L.style.height="".concat(X-20,"px"),L.style.top="10px",L.style.overflowY="scroll"),h>=p&&(L.style.width="".concat(p,"px"),L.style.left="0px",L.style.overflowX="scroll")}},[s,p,X,e,i]),(0,w.useEffect)(function(){if(v){var L=function(fe){var q;(q=te.current)!==null&&q!==void 0&&q.contains(fe.target)||(0,Ee.unstable_batchedUpdates)(function(){return v(fe)})};return document.addEventListener("pointerdown",L,!1),function(){return document.removeEventListener("pointerdown",L,!1)}}},[v]),(0,ye.jsx)("div",{className:"popover",style:{top:M,left:m},ref:te,children:g})}},9430:function(ge,Q,t){t.d(Q,{Y:function(){return te},b:function(){return X}});var w=t(2577),y=t(9787),f=t.n(y),c=t(1881),j=t(4739),A=t(9487),R=f().createContext({}),n=t(45),Z=t(8211),H=t(4206),G=t(3646),le=t(7169),k=t(4512);function se(N,L){var fe=Object.keys(N);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(N);L&&(q=q.filter(function(F){return Object.getOwnPropertyDescriptor(N,F).enumerable})),fe.push.apply(fe,q)}return fe}var pe=t(1894),Ee=function(N){return(0,k.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,k.jsxs)(pe.u,{label:(0,Z.t)("labels.sidebarLock"),children:[(0,k.jsxs)("label",{className:(0,n.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,k.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:N.onChange,checked:N.checked,"aria-label":(0,Z.t)("labels.sidebarLock")})," ",(0,k.jsx)("div",{className:(0,n.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":N.checked}),tabIndex:0,children:G.qQ})," "]})," "]})})},ae=function(N){var L=(0,y.createContext)([!1,function(){}]),fe=function(F){var h=F.children,_=(0,y.useState)(!1),W=(0,w.Z)(_,2),I=W[0],re=W[1],O=(0,y.useMemo)(function(){return[I,re]},[I]);return(0,k.jsx)(L.Provider,{value:O,children:h})},q=function(F){var h=(0,y.useContext)(L),_=(0,w.Z)(h,2),W=_[0],I=_[1];return(0,y.useLayoutEffect)(function(){if(!F.__isFallback)return I(!0),function(){return I(!1)}},[F.__isFallback,I]),F.__isFallback&&W?null:(0,k.jsx)(N,function(re){for(var O=1;O<arguments.length;O++){var E=arguments[O]!=null?arguments[O]:{};O%2?se(Object(E),!0).forEach(function(b){(0,le.Z)(re,b,E[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(E)):se(Object(E)).forEach(function(b){Object.defineProperty(re,b,Object.getOwnPropertyDescriptor(E,b))})}return re}({},F))};return N.name&&(q.displayName="".concat(N.name,"_upstreamOverrideWrapper"),fe.displayName="".concat(N.name,"_upstreamOverrideContextWrapper")),[fe,q]}(function(N){var L=N.children,fe=N.className,q=(0,H.Fy)(),F=(0,y.useContext)(R),h=!(!q.canDeviceFitSidebar||!F.dockable),_=!!F.onClose;return(0,k.jsxs)("div",{className:(0,n.Z)("layer-ui__sidebar__header",fe),"data-testid":"sidebar-header",children:[L,(h||_)&&(0,k.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[h&&(0,k.jsx)(Ee,{checked:!!F.docked,onChange:function(){var W;(W=F.onDock)===null||W===void 0||W.call(F,!F.docked)}}),_&&(0,k.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:F.onClose,"aria-label":(0,Z.t)("buttons.close"),children:G.Tw})]})]})}),de=(0,w.Z)(ae,2),ye={Context:de[0],Component:de[1]},C=t(487),J=t.n(C),g=t(631),m=t.n(g),M=t(2052),v=t.n(M),u=t(4010),s=t.n(u),o=t(1469),e=t.n(o),a=t(9329),i=t.n(a),l=t(8208),p={};p.styleTagTransform=i(),p.setAttributes=s(),p.insert=v().bind(null,"head"),p.domAPI=m(),p.insertStyleElement=e(),J()(l.Z,p),l.Z&&l.Z.locals&&l.Z.locals;var T=t(6340),X=(0,j.cn)({rendered:0,docked:0}),te=Object.assign((0,y.forwardRef)(function(N,L){var fe,q=N.children,F=N.onClose,h=N.onDock,_=N.docked,W=N.initialDockedState,I=W===void 0?_:W,re=N.dockable,O=re===void 0||re,E=N.className,b=N.__isInternal,d=(0,j.KO)(X,A.yE),x=(0,w.Z)(d,2),P=x[0],U=x[1],D=(0,H.n9)(),ce=(0,y.useState)((fe=_!=null?_:I)!==null&&fe!==void 0&&fe),ie=(0,w.Z)(ce,2),ue=ie[0],Ce=ie[1];(0,y.useLayoutEffect)(function(){_===void 0&&D(function(Y){return Ce(Y.isSidebarDocked),null})},[D,_]),(0,y.useLayoutEffect)(function(){if(!b)return U(function(Y){return{rendered:Y.rendered+1,docked:ue?Y.docked+1:Y.docked}}),function(){U(function(Y){return{rendered:Y.rendered-1,docked:ue?Y.docked-1:Y.docked}})}},[b,U,ue]);var Pe=(0,y.useRef)(F);Pe.current=F,(0,y.useEffect)(function(){return function(){var Y;(Y=Pe.current)===null||Y===void 0||Y.call(Pe)}},[]);var B=(0,y.useRef)({});return B.current.onClose=function(){D({openSidebar:null})},B.current.onDock=function(Y){_===void 0&&(D({isSidebarDocked:Y}),Ce(Y)),h==null||h(Y)},B.current=(0,T.v4)(B.current,{docked:_!=null?_:ue,dockable:O}),P.rendered>0&&b?null:(0,k.jsx)(c.W,{className:(0,n.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":ue},E),ref:L,children:(0,k.jsx)(R.Provider,{value:B.current,children:(0,k.jsxs)(ye.Context,{children:[(0,k.jsx)(ye.Component,{__isFallback:!0}),q]})})})}),{Header:ye.Component})},5644:function(ge,Q,t){t.d(Q,{Z:function(){return Ee}});var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),R=t(4010),n=t.n(R),Z=t(1469),H=t.n(Z),G=t(9329),le=t.n(G),k=t(5892),se={};se.styleTagTransform=le(),se.setAttributes=n(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=H(),y()(k.Z,se),k.Z&&k.Z.locals&&k.Z.locals;var pe=t(4512),Ee=function(ae){var de=ae.size,ye=de===void 0?"1em":de,C=ae.circleWidth,J=C===void 0?8:C;return(0,pe.jsx)("div",{className:"Spinner",children:(0,pe.jsx)("svg",{viewBox:"0 0 100 100",style:{width:ye,height:ye},children:(0,pe.jsx)("circle",{cx:"50",cy:"50",r:50-J/2,strokeWidth:J,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(ge,Q,t){t.d(Q,{Z:function(){return C}});var w=t(7169),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),R=t.n(A),n=t(4010),Z=t.n(n),H=t(1469),G=t.n(H),le=t(9329),k=t.n(le),se=t(3874),pe={};pe.styleTagTransform=k(),pe.setAttributes=Z(),pe.insert=R().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(45),ae=t(4512);function de(J,g){var m=Object.keys(J);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(J);g&&(M=M.filter(function(v){return Object.getOwnPropertyDescriptor(J,v).enumerable})),m.push.apply(m,M)}return m}function ye(J){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?de(Object(m),!0).forEach(function(M){(0,w.Z)(J,M,m[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(m)):de(Object(m)).forEach(function(M){Object.defineProperty(J,M,Object.getOwnPropertyDescriptor(m,M))})}return J}var C={Row:function(J){var g=J.children,m=J.gap,M=J.align,v=J.justifyContent,u=J.className,s=J.style;return(0,ae.jsx)("div",{className:(0,Ee.Z)("Stack Stack_horizontal",u),style:ye({"--gap":m,alignItems:M,justifyContent:v},s),children:g})},Col:function(J){var g=J.children,m=J.gap,M=J.align,v=J.justifyContent,u=J.className,s=J.style;return(0,ae.jsx)("div",{className:(0,Ee.Z)("Stack Stack_vertical",u),style:ye({"--gap":m,justifyItems:M,justifyContent:v},s),children:g})}}},1319:function(ge,Q,t){t.d(Q,{V:function(){return le}});var w=t(8950),y=t(2577),f=t(2975),c=t.n(f),j=(t(5422),t(9787)),A=t.n(j),R=t(45),n=t(4206),Z=t(6797),H=t(5644),G=t(4512),le=A().forwardRef(function(k,se){var pe=(0,n.J0)().id,Ee=A().useRef(null);A().useImperativeHandle(se,function(){return Ee.current});var ae="ToolIcon_size_".concat(k.size),de=(0,j.useState)(!1),ye=(0,y.Z)(de,2),C=ye[0],J=ye[1],g=(0,j.useRef)(!0),m=function(){var u=(0,w.Z)(c().mark(function s(o){var e,a;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(a="onClick"in k&&((e=k.onClick)===null||e===void 0?void 0:e.call(k,o)))||!("then"in a)){i.next=18;break}return i.prev=2,J(!0),i.next=6,a;case 6:i.next=15;break;case 8:if(i.prev=8,i.t0=i.catch(2),i.t0 instanceof Z._){i.next=14;break}throw i.t0;case 14:console.warn(i.t0);case 15:return i.prev=15,g.current&&J(!1),i.finish(15);case 18:case"end":return i.stop()}},s,null,[[2,8,15,18]])}));return function(s){return u.apply(this,arguments)}}();(0,j.useEffect)(function(){return function(){g.current=!1}},[]);var M=(0,j.useRef)(null);if(k.type==="button"||k.type==="icon"||k.type==="submit"){var v=k.type==="icon"?"button":k.type;return(0,G.jsxs)("button",{className:(0,R.Z)("ToolIcon_type_button",ae,k.className,k.visible&&!k.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!k.hidden,"ToolIcon--selected":k.selected,"ToolIcon--plain":k.type==="icon"}),"data-testid":k["data-testid"],hidden:k.hidden,title:k.title,"aria-label":k["aria-label"],type:v,onClick:m,ref:Ee,disabled:C||k.isLoading,children:[(k.icon||k.label)&&(0,G.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[k.icon||k.label,k.keyBindingLabel&&(0,G.jsx)("span",{className:"ToolIcon__keybinding",children:k.keyBindingLabel}),k.isLoading&&(0,G.jsx)(H.Z,{})]}),k.showAriaLabel&&(0,G.jsxs)("div",{className:"ToolIcon__label",children:[k["aria-label"]," ",C&&(0,G.jsx)(H.Z,{})]}),k.children]})}return(0,G.jsxs)("label",{className:(0,R.Z)("ToolIcon",k.className),title:k.title,onPointerDown:function(u){var s;M.current=u.pointerType||null,(s=k.onPointerDown)===null||s===void 0||s.call(k,{pointerType:u.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){M.current=null})},children:[(0,G.jsx)("input",{className:"ToolIcon_type_radio ".concat(ae),type:"radio",name:k.name,"aria-label":k["aria-label"],"aria-keyshortcuts":k["aria-keyshortcuts"],"data-testid":k["data-testid"],id:"".concat(pe,"-").concat(k.id),onChange:function(){var u;(u=k.onChange)===null||u===void 0||u.call(k,{pointerType:M.current})},checked:k.checked,ref:Ee}),(0,G.jsxs)("div",{className:"ToolIcon__icon",children:[k.icon,k.keyBindingLabel&&(0,G.jsx)("span",{className:"ToolIcon__keybinding",children:k.keyBindingLabel})]})]})});le.defaultProps={visible:!0,className:"",size:"medium"},le.displayName="ToolButton"},1894:function(ge,Q,t){t.d(Q,{u:function(){return ye},bK:function(){return ae},Js:function(){return de}});var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),R=t(4010),n=t.n(R),Z=t(1469),H=t.n(Z),G=t(9329),le=t.n(G),k=t(6626),se={};se.styleTagTransform=le(),se.setAttributes=n(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=H(),y()(k.Z,se),k.Z&&k.Z.locals&&k.Z.locals;var pe=t(9787),Ee=t(4512),ae=function(){var C=document.querySelector(".excalidraw-tooltip");if(C)return C;var J=document.createElement("div");return document.body.appendChild(J),J.classList.add("excalidraw-tooltip"),J},de=function(C,J){var g,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",M=C.getBoundingClientRect(),v=window.innerWidth,u=window.innerHeight,s=5,o=J.left+J.width/2-M.width/2;o<0?o=s:o+M.width>=v&&(o=v-M.width-s),m==="bottom"?(g=J.top+J.height+s)+M.height>=u&&(g=J.top-M.height-s):(g=J.top-M.height-s)<0&&(g=J.top+J.height+s),Object.assign(C.style,{top:"".concat(g,"px"),left:"".concat(o,"px")})},ye=function(C){var J=C.children,g=C.label,m=C.long,M=m!==void 0&&m,v=C.style;return(0,pe.useEffect)(function(){return function(){return ae().classList.remove("excalidraw-tooltip--visible")}},[]),(0,Ee.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(u){return function(s,o,e,a){o.classList.add("excalidraw-tooltip--visible"),o.style.minWidth=a?"50ch":"10ch",o.style.maxWidth=a?"50ch":"15ch",o.textContent=e;var i=s.getBoundingClientRect();de(o,i)}(u.currentTarget,ae(),g,M)},onPointerLeave:function(){return ae().classList.remove("excalidraw-tooltip--visible")},style:v,children:J})}},6773:function(ge,Q,t){t.d(Q,{Z:function(){return g}});var w=t(2577),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),R=t.n(A),n=t(4010),Z=t.n(n),H=t(1469),G=t.n(H),le=t(9329),k=t.n(le),se=t(6359),pe={};pe.styleTagTransform=k(),pe.setAttributes=Z(),pe.insert=R().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(9787),ae=t.n(Ee),de=t(45),ye=t(1894),C=t(4206),J=t(4512),g=function(m){var M=m.className,v=m.mobile,u=m.collaborators,s=(0,C.eh)(),o=new Map;u.forEach(function(a,i){o.set(a.id||i,a)});var e=o.size>0&&Array.from(o).filter(function(a){var i=(0,w.Z)(a,2),l=(i[0],i[1]);return Object.keys(l).length!==0}).map(function(a){var i=(0,w.Z)(a,2),l=i[0],p=i[1],T=s.renderAction("goToCollaborator",[l,p]);return v?(0,J.jsx)(ye.u,{label:p.username||"Unknown user",children:T},l):(0,J.jsx)(ae().Fragment,{children:T},l)});return(0,J.jsx)("div",{className:(0,de.Z)("UserList",M,{UserList_mobile:v}),children:e})}},8888:function(ge,Q,t){t.d(Q,{A3:function(){return H},ZC:function(){return le},R6:function(){return G}});var w=t(9787),y=t.n(w);const f=k=>{let se;const pe=new Set,Ee=(ye,C)=>{const J=typeof ye=="function"?ye(se):ye;if(!Object.is(J,se)){const g=se;se=(C!=null?C:typeof J!="object")?J:Object.assign({},se,J),pe.forEach(m=>m(se,g))}},ae=()=>se,de={setState:Ee,getState:ae,subscribe:ye=>(pe.add(ye),()=>pe.delete(ye)),destroy:()=>{console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),pe.clear()}};return se=k(Ee,ae,de),de},c=k=>k?f(k):f;var j=t(5668);const{useSyncExternalStoreWithSelector:A}=j,R=k=>{typeof k!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const se=typeof k=="function"?c(k):k,pe=(Ee,ae)=>function(de,ye=de.getState,C){const J=A(de.subscribe,de.getState,de.getServerState||de.getState,ye,C);return(0,w.useDebugValue)(J),J}(se,Ee,ae);return Object.assign(pe,se),pe},n=k=>k?R(k):R;function Z(){const k=n(se=>({current:new Array,version:0,set:se}));return{In:({children:se})=>{const pe=k(ae=>ae.set),Ee=k(ae=>ae.version);return(0,w.useLayoutEffect)(()=>{pe(ae=>({version:ae.version+1}))},[]),(0,w.useLayoutEffect)(()=>(pe(({current:ae})=>({current:[...ae,se]})),()=>pe(({current:ae})=>({current:ae.filter(de=>de!==se)}))),[se,Ee]),null},Out:()=>{const se=k(pe=>pe.current);return y().createElement(y().Fragment,null,se)}}}var H=y().createContext(null),G=function(){return y().useContext(H)},le=function(){return y().useMemo(function(){return{mainMenuTunnel:Z(),welcomeScreenMenuHintTunnel:Z(),welcomeScreenToolbarHintTunnel:Z(),welcomeScreenHelpHintTunnel:Z(),welcomeScreenCenterTunnel:Z(),footerCenterTunnel:Z(),jotaiScope:Symbol()}},[])}},9127:function(ge,Q,t){t.d(Q,{Z:function(){return F}});var w=t(45),y=t(4206),f=t(4512),c=function(h){var _=h.className,W=_===void 0?"":_,I=h.children,re=h.onToggle,O=(0,y.gF)(),E=(0,y.Fy)(),b=(0,w.Z)("dropdown-menu-button ".concat(W),"zen-mode-transition",{"transition-left":O.zenModeEnabled,"dropdown-menu-button--mobile":E.isMobile}).trim();return(0,f.jsx)("button",{"data-prevent-outside-click":!0,className:b,onClick:re,type:"button","data-testid":"dropdown-menu-button",children:I})},j=c;c.displayName="DropdownMenuTrigger";var A=t(2739),R=function(){return(0,f.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},n=R;R.displayName="DropdownMenuSeparator";var Z=function(h){var _=h.children,W=h.className,I=W===void 0?"":W,re=h.style,O=h.title;return(0,f.jsxs)("div",{className:"dropdown-menu-group ".concat(I),style:re,children:[O&&(0,f.jsx)("p",{className:"dropdown-menu-group-title",children:O}),_]})},H=Z;Z.displayName="DropdownMenuGroup";var G=t(1930),le=t(9787),k=t.n(le),se=t(1881),pe=t(7239),Ee=t(6772),ae=function(h){var _,W,I=h.children,re=h.onClickOutside,O=h.className,E=O===void 0?"":O,b=h.onSelect,d=h.style,x=(0,y.Fy)(),P=(_=function(){re==null||re()},W=(0,le.useRef)(null),(0,le.useEffect)(function(){var D=function(ce){var ie=W.current;!ie||ie.contains(ce.target)||(0,G.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some(function(ue){return ue.contains(ce.target)})||_(ce)};return document.addEventListener("pointerdown",D),document.addEventListener("touchstart",D),function(){document.removeEventListener("pointerdown",D),document.removeEventListener("touchstart",D)}},[W,_]),W),U=(0,w.Z)("dropdown-menu ".concat(E),{"dropdown-menu--mobile":x.isMobile}).trim();return(0,f.jsx)(Ee.N7.Provider,{value:{onSelect:b},children:(0,f.jsx)("div",{ref:P,className:U,style:d,"data-testid":"dropdown-menu",children:x.isMobile?(0,f.jsx)(pe.Z.Col,{className:"dropdown-menu-container",children:I}):(0,f.jsx)(se.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:I})})})};ae.displayName="DropdownMenuContent";var de=ae,ye=t(4215),C=t(7169),J=t(2726),g=["children","className"];function m(h,_){var W=Object.keys(h);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(h);_&&(I=I.filter(function(re){return Object.getOwnPropertyDescriptor(h,re).enumerable})),W.push.apply(W,I)}return W}function M(h){for(var _=1;_<arguments.length;_++){var W=arguments[_]!=null?arguments[_]:{};_%2?m(Object(W),!0).forEach(function(I){(0,C.Z)(h,I,W[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(W)):m(Object(W)).forEach(function(I){Object.defineProperty(h,I,Object.getOwnPropertyDescriptor(W,I))})}return h}var v=function(h){var _=h.children,W=h.className,I=W===void 0?"":W,re=(0,J.Z)(h,g);return(0,f.jsx)("div",M(M({},re),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(I).trim(),children:_}))},u=t(487),s=t.n(u),o=t(631),e=t.n(o),a=t(2052),i=t.n(a),l=t(4010),p=t.n(l),T=t(1469),X=t.n(T),te=t(9329),N=t.n(te),L=t(7399),fe={};fe.styleTagTransform=N(),fe.setAttributes=p(),fe.insert=i().bind(null,"head"),fe.domAPI=e(),fe.insertStyleElement=X(),s()(L.Z,fe),L.Z&&L.Z.locals&&L.Z.locals;var q=function(h){var _=h.children,W=h.open,I=function(O){return k().Children.toArray(O).find(function(E){return k().isValidElement(E)&&typeof E.type!="string"&&(E==null?void 0:E.type.displayName)&&E.type.displayName==="DropdownMenuTrigger"})||null}(_),re=function(O){return k().Children.toArray(O).find(function(E){return k().isValidElement(E)&&typeof E.type!="string"&&(E==null?void 0:E.type.displayName)&&E.type.displayName==="DropdownMenuContent"})||null}(_);return(0,f.jsxs)(f.Fragment,{children:[I,W&&re]})};q.Trigger=j,q.Content=de,q.Item=A.Z,q.ItemLink=ye.Z,q.ItemCustom=v,q.Group=H,q.Separator=n;var F=q;q.displayName="DropdownMenu"},2739:function(ge,Q,t){var w=t(7169),y=t(2726),f=t(6772),c=t(4122),j=t(4512),A=["icon","onSelect","children","shortcut","className"];function R(H,G){var le=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);G&&(k=k.filter(function(se){return Object.getOwnPropertyDescriptor(H,se).enumerable})),le.push.apply(le,k)}return le}function n(H){for(var G=1;G<arguments.length;G++){var le=arguments[G]!=null?arguments[G]:{};G%2?R(Object(le),!0).forEach(function(k){(0,w.Z)(H,k,le[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(le)):R(Object(le)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(le,k))})}return H}var Z=function(H){var G,le=H.icon,k=H.onSelect,se=H.children,pe=H.shortcut,Ee=H.className,ae=(0,y.Z)(H,A),de=(0,f.qZ)(ae.onClick,k);return(0,j.jsx)("button",n(n({},ae),{},{onClick:de,type:"button",className:(0,f.n)(Ee),title:(G=ae.title)!==null&&G!==void 0?G:ae["aria-label"],children:(0,j.jsx)(c.Z,{icon:le,shortcut:pe,children:se})}))};Q.Z=Z,Z.displayName="DropdownMenuItem"},4122:function(ge,Q,t){var w=t(4206),y=t(4512);Q.Z=function(f){var c=f.icon,j=f.shortcut,A=f.children,R=(0,w.Fy)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"dropdown-menu-item__icon",children:c}),(0,y.jsx)("div",{className:"dropdown-menu-item__text",children:A}),j&&!R.isMobile&&(0,y.jsx)("div",{className:"dropdown-menu-item__shortcut",children:j})]})}},4215:function(ge,Q,t){var w=t(7169),y=t(2726),f=t(4122),c=t(6772),j=t(4512),A=["icon","shortcut","href","children","onSelect","className"];function R(H,G){var le=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);G&&(k=k.filter(function(se){return Object.getOwnPropertyDescriptor(H,se).enumerable})),le.push.apply(le,k)}return le}function n(H){for(var G=1;G<arguments.length;G++){var le=arguments[G]!=null?arguments[G]:{};G%2?R(Object(le),!0).forEach(function(k){(0,w.Z)(H,k,le[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(le)):R(Object(le)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(le,k))})}return H}var Z=function(H){var G,le=H.icon,k=H.shortcut,se=H.href,pe=H.children,Ee=H.onSelect,ae=H.className,de=ae===void 0?"":ae,ye=(0,y.Z)(H,A),C=(0,c.qZ)(ye.onClick,Ee);return(0,j.jsx)("a",n(n({},ye),{},{href:se,target:"_blank",rel:"noreferrer",className:(0,c.n)(de),title:(G=ye.title)!==null&&G!==void 0?G:ye["aria-label"],onClick:C,children:(0,j.jsx)(f.Z,{icon:le,shortcut:k,children:pe})}))};Q.Z=Z,Z.displayName="DropdownMenuItemLink"},6772:function(ge,Q,t){t.d(Q,{N7:function(){return j},n:function(){return A},qZ:function(){return R}});var w=t(9787),y=t.n(w),f=t(2335),c=t(6340),j=y().createContext({}),A=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"dropdown-menu-item dropdown-menu-item-base ".concat(n).trim()},R=function(n,Z){var H=(0,w.useContext)(j);return(0,c.Mj)(n,function(G){var le,k=new CustomEvent(f.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});Z==null||Z(k),k.defaultPrevented||(le=H.onSelect)===null||le===void 0||le.call(H,k)})}},3646:function(ge,Q,t){t.d(Q,{$c:function(){return Pe},$q:function(){return te},BF:function(){return We},BR:function(){return ce},Ct:function(){return Je},D7:function(){return E},DG:function(){return ie},DJ:function(){return M},DS:function(){return St},EO:function(){return Tt},ET:function(){return O},FC:function(){return J},Gc:function(){return Oe},HL:function(){return Ke},Hk:function(){return ir},Hy:function(){return W},IN:function(){return Ze},J8:function(){return ue},Mw:function(){return v},NA:function(){return q},NW:function(){return h},Nw:function(){return sr},OA:function(){return dt},OW:function(){return s},P7:function(){return or},Pm:function(){return p},RJ:function(){return He},RY:function(){return _},Re:function(){return e},ST:function(){return ve},Sd:function(){return N},TP:function(){return Ce},Tl:function(){return D},Tw:function(){return Te},UE:function(){return B},VL:function(){return T},Vl:function(){return $},Vq:function(){return Ee},W2:function(){return yt},W5:function(){return me},Wl:function(){return tt},X7:function(){return at},XB:function(){return X},XH:function(){return fe},YA:function(){return de},ZA:function(){return $e},Zm:function(){return b},_C:function(){return C},_U:function(){return m},a0:function(){return Ye},a1:function(){return P},a5:function(){return Et},aA:function(){return Jt},aT:function(){return Pt},bf:function(){return _t},by:function(){return I},e0:function(){return a},eQ:function(){return d},fr:function(){return Yt},gK:function(){return we},h0:function(){return re},il:function(){return qt},j8:function(){return Ne},jn:function(){return Ie},kL:function(){return F},kM:function(){return vt},m:function(){return At},m9:function(){return ct},mh:function(){return Le},nb:function(){return o},np:function(){return et},nq:function(){return ot},o3:function(){return Zt},oQ:function(){return g},oT:function(){return Bt},op:function(){return ze},pO:function(){return ae},po:function(){return U},pw:function(){return Fe},q0:function(){return Ue},qQ:function(){return ye},rr:function(){return Ot},t5:function(){return xe},tW:function(){return it},tb:function(){return l},tn:function(){return Ct},uD:function(){return ne},vo:function(){return gt},wr:function(){return ft},xL:function(){return L},xP:function(){return x},xs:function(){return Be},z6:function(){return jt},zG:function(){return Y},zb:function(){return i},zu:function(){return u}});var w=t(7169),y=t(2726),f=t(9787),c=t.n(f),j=t(5284),A=t(45),R=t(2335),n=t(4512),Z=["width","height","mirror","style"];function H(zt,Ft){var $t=Object.keys(zt);if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(zt);Ft&&(lr=lr.filter(function(Or){return Object.getOwnPropertyDescriptor(zt,Or).enumerable})),$t.push.apply($t,lr)}return $t}function G(zt){for(var Ft=1;Ft<arguments.length;Ft++){var $t=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?H(Object($t),!0).forEach(function(lr){(0,w.Z)(zt,lr,$t[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors($t)):H(Object($t)).forEach(function(lr){Object.defineProperty(zt,lr,Object.getOwnPropertyDescriptor($t,lr))})}return zt}var le=function(zt){return zt===R.C6.LIGHT?j.white:"#1e1e1e"},k=function(zt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,$t=typeof Ft=="number"?{width:Ft}:Ft,lr=$t.width,Or=lr===void 0?512:lr,Vr=$t.height,Xr=Vr===void 0?Or:Vr,qr=$t.mirror,Wr=$t.style,fr=(0,y.Z)($t,Z);return(0,n.jsx)("svg",G(G({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Or," ").concat(Xr),className:(0,A.Z)({"rtl-mirror":qr}),style:Wr},fr),{},{children:typeof zt=="string"?(0,n.jsx)("path",{fill:"currentColor",d:zt}):zt}))},se={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},pe={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Ee=(k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,n.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,n.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,n.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),se),k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,n.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,n.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,n.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,n.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),se)),ae=k((0,n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),se),de=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,n.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,n.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),se),ye=k((0,n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,n.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,n.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),se),C=k((0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,n.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,n.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,n.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,n.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,n.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),pe),J=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,n.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,n.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),pe),g=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),m=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),M=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),v=k((0,n.jsxs)("g",{fill:"currentColor",children:[(0,n.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),u=k((0,n.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,n.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),s=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),se),o=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),se),e=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),se),a=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,n.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,n.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),se),i=k((0,n.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),pe),l=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,n.jsx)("path",{d:"M16 7h4"}),(0,n.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),se),p=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,n.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),pe),T=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,n.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,n.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,n.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,n.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),se),X=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M12.5 6.667h.01"}),(0,n.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,n.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,n.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),pe),te=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,n.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),se),N=k((0,n.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),pe),L=k((0,n.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),pe),fe=k((0,n.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),pe),q=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,n.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),pe),F=k((0,n.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),pe),h=k((0,n.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),pe),_=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,n.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,n.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),se),W=k((0,n.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),pe),I=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,n.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),se),re=k((0,n.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),pe),O=k((0,n.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),pe),E=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,n.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),pe),b=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),se),d=k((0,n.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),x=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,n.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),pe),P=k("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),U=k("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),D=k((0,n.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),pe),ce=k("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ie=k("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),ue=k((0,n.jsxs)("g",{strokeWidth:"1.25",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M15 8h.01"}),(0,n.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,n.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,n.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,n.jsx)("path",{d:"M19 16v6"}),(0,n.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),se),Ce=k("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Pe=(k("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),B=(k("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),k((0,n.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),pe)),Y=k((0,n.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),pe),$=k("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),xe=(k((0,n.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),pe),k("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,n.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),k((0,n.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe)),Oe=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,n.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Ze=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Fe=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",children:[(0,n.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,n.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,n.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,n.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Je=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Ke=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Be=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Le=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),ne=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),me=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),ve=k((0,n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),pe),we=k((0,n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,n.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),pe),Ie=k((0,n.jsxs)("g",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,n.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,n.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,n.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),se),Te=(k("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),k("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe)),ze=k("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),We=(k("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),k("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),k("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),c().memo(function(zt){var Ft=zt.theme;return k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,n.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,n.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,n.jsxs)("g",{fill:le(Ft),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,n.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),He=c().memo(function(zt){var Ft=zt.theme;return k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,n.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,n.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,n.jsxs)("g",{fill:le(Ft),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,n.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,n.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),Ye=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,n.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,n.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,n.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),pe),et=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{clipPath:"url(#a)",children:[(0,n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,n.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,n.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,n.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),at=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{clipPath:"url(#a)",children:(0,n.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G(G({},pe),{},{fill:"currentColor"})),$e=k((0,n.jsx)(n.Fragment,{children:(0,n.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),pe),tt=k((0,n.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),pe),ct=k((0,n.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),pe),Et=k((0,n.jsxs)("g",{strokeWidth:"2",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M5 12h2"}),(0,n.jsx)("path",{d:"M17 12h2"}),(0,n.jsx)("path",{d:"M11 12h2"})]}),se),Pt=k((0,n.jsxs)("g",{strokeWidth:"2",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M4 12v.01"}),(0,n.jsx)("path",{d:"M8 12v.01"}),(0,n.jsx)("path",{d:"M12 12v.01"}),(0,n.jsx)("path",{d:"M16 12v.01"}),(0,n.jsx)("path",{d:"M20 12v.01"})]}),se),_t=k((0,n.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),pe),vt=k((0,n.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),pe),yt=k((0,n.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),pe),ft=k((0,n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,n.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,n.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,n.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,n.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,n.jsx)("path",{d:"M16.6667 10V10.01"}),(0,n.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,n.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,n.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,n.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,n.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,n.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,n.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),pe),St=k((0,n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,n.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,n.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,n.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,n.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,n.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,n.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,n.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,n.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,n.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,n.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,n.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),se),Yt=k((0,n.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),qt=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,n.jsxs)("g",{transform:$t?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,n.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,n.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Ct=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:$t?"translate(40, 0) scale(-1, 1)":"",children:[(0,n.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,n.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),At=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,n.jsx)("g",{transform:$t?"translate(40, 0) scale(-1, 1)":"",children:(0,n.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Ne=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:$t?"translate(40, 0) scale(-1, 1)":"",children:[(0,n.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,n.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Ue=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{clipPath:"url(#a)",children:(0,n.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),ot=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{clipPath:"url(#a)",children:(0,n.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),it=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{clipPath:"url(#a)",children:(0,n.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),dt=k((0,n.jsx)(n.Fragment,{children:(0,n.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),pe),gt=k((0,n.jsx)(n.Fragment,{children:(0,n.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),pe),jt=k((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Ot=k((0,n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,n.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,n.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),se),Zt=k((0,n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,n.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,n.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),se),Bt=k((0,n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,n.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,n.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),se),Tt=c().memo(function(zt){return zt.theme,k((0,n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,n.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),se)}),Jt=c().memo(function(zt){return zt.theme,k((0,n.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,n.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),se)}),or=c().memo(function(zt){return zt.theme,k((0,n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,n.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,n.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),se)}),sr=k((0,n.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),ir=(k((0,n.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),k((0,n.jsxs)("g",{strokeWidth:1.25,children:[(0,n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,n.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,n.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,n.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),se))},4709:function(ge,Q,t){t.d(Q,{Z:function(){return x}});var w={};t.r(w),t.d(w,{ChangeCanvasBackground:function(){return T},ClearCanvas:function(){return l},Export:function(){return X},Help:function(){return i},LiveCollaborationTrigger:function(){return N},LoadScene:function(){return o},SaveAsImage:function(){return a},SaveToActiveFile:function(){return e},Socials:function(){return te},ToggleTheme:function(){return p}});var y=t(4206),f=t(9127),c=t(785),j=t(8211),A=t(3646),R=t(2739),n=t(4215),Z=t(5654),H=t(487),G=t.n(H),le=t(631),k=t.n(le),se=t(2052),pe=t.n(se),Ee=t(4010),ae=t.n(Ee),de=t(1469),ye=t.n(de),C=t(9329),J=t.n(C),g=t(4343),m={};m.styleTagTransform=J(),m.setAttributes=ae(),m.insert=pe().bind(null,"head"),m.domAPI=k(),m.insertStyleElement=ye(),G()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var M=t(45),v=t(4739),u=t(6798),s=t(4512),o=function(){(0,y.gF)();var P=(0,y.eh)();return P.isActionEnabled(Z._d)?(0,s.jsx)(R.Z,{icon:A.Tl,onSelect:function(){return P.executeAction(Z._d)},"data-testid":"load-button",shortcut:(0,c.C)("loadScene"),"aria-label":(0,j.t)("buttons.load"),children:(0,j.t)("buttons.load")}):null};o.displayName="LoadScene";var e=function(){(0,y.gF)();var P=(0,y.eh)();return P.isActionEnabled(Z.ns)?(0,s.jsx)(R.Z,{shortcut:(0,c.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return P.executeAction(Z.ns)},icon:A.a1,"aria-label":"".concat((0,j.t)("buttons.save")),children:"".concat((0,j.t)("buttons.save"))}):null};e.displayName="SaveToActiveFile";var a=function(){var P=(0,y.n9)();return(0,y.gF)(),(0,s.jsx)(R.Z,{icon:A.J8,"data-testid":"image-export-button",onSelect:function(){return P({openDialog:"imageExport"})},shortcut:(0,c.C)("imageExport"),"aria-label":(0,j.t)("buttons.exportImage"),children:(0,j.t)("buttons.exportImage")})};a.displayName="SaveAsImage";var i=function(){(0,y.gF)();var P=(0,y.eh)();return(0,s.jsx)(R.Z,{"data-testid":"help-menu-item",icon:A.by,onSelect:function(){return P.executeAction(Z.jY)},shortcut:"?","aria-label":(0,j.t)("helpDialog.title"),children:(0,j.t)("helpDialog.title")})};i.displayName="Help";var l=function(){(0,y.gF)();var P=(0,v.b9)(u.w);return(0,y.eh)().isActionEnabled(Z.mo)?(0,s.jsx)(R.Z,{icon:A.XH,onSelect:function(){return P("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":(0,j.t)("buttons.clearReset"),children:(0,j.t)("buttons.clearReset")}):null};l.displayName="ClearCanvas";var p=function(){var P=(0,y.gF)(),U=(0,y.eh)();return U.isActionEnabled(Z.Zp)?(0,s.jsx)(R.Z,{onSelect:function(D){return D.preventDefault(),U.executeAction(Z.Zp)},icon:P.theme==="dark"?A.NW:A.kL,"data-testid":"toggle-dark-mode",shortcut:(0,c.C)("toggleTheme"),"aria-label":P.theme==="dark"?(0,j.t)("buttons.lightMode"):(0,j.t)("buttons.darkMode"),children:P.theme==="dark"?(0,j.t)("buttons.lightMode"):(0,j.t)("buttons.darkMode")}):null};p.displayName="ToggleTheme";var T=function(){var P=(0,y.gF)(),U=(0,y.eh)();return P.viewModeEnabled?null:(0,s.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,s.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:(0,j.t)("labels.canvasBackground")}),(0,s.jsx)("div",{style:{padding:"0 0.625rem"},children:U.renderAction("changeViewBackgroundColor")})]})};T.displayName="ChangeCanvasBackground";var X=function(){(0,y.gF)();var P=(0,y.n9)();return(0,s.jsx)(R.Z,{icon:A.Hy,onSelect:function(){P({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":(0,j.t)("buttons.export"),children:(0,j.t)("buttons.export")})};X.displayName="Export";var te=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{icon:A.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,s.jsx)(n.Z,{icon:A.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,s.jsx)(n.Z,{icon:A.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};te.displayName="Socials";var N=function(P){var U=P.onSelect,D=P.isCollaborating;return(0,y.gF)(),(0,s.jsx)(R.Z,{"data-testid":"collab-button",icon:A.jn,className:(0,M.Z)({"active-collab":D}),onSelect:U,children:(0,j.t)("labels.liveCollaboration")})};N.displayName="LiveCollaborationTrigger";var L=t(6773),fe=t(7169),q=t(2577),F=t(9787),h=t(8888);function _(P,U){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(P);U&&(ce=ce.filter(function(ie){return Object.getOwnPropertyDescriptor(P,ie).enumerable})),D.push.apply(D,ce)}return D}var W,I,re,O,E,b=t(6340),d=Object.assign((W="MainMenu",I=function(P){var U=P.children,D=P.onSelect,ce=(0,h.R6)().mainMenuTunnel,ie=(0,y.Fy)(),ue=(0,y.gF)(),Ce=(0,y.n9)(),Pe=ie.isMobile?void 0:function(){return Ce({openMenu:null})};return(0,s.jsx)(ce.In,{children:(0,s.jsxs)(f.Z,{open:ue.openMenu==="canvas",children:[(0,s.jsx)(f.Z.Trigger,{onToggle:function(){Ce({openMenu:ue.openMenu==="canvas"?null:"canvas"})},children:A.RY}),(0,s.jsxs)(f.Z.Content,{onClickOutside:Pe,onSelect:(0,b.Mj)(D,function(){Ce({openMenu:null})}),children:[U,ie.isMobile&&ue.collaborators.size>0&&(0,s.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,s.jsx)("legend",{children:(0,j.t)("labels.collaborators")}),(0,s.jsx)(L.Z,{mobile:!0,collaborators:ue.collaborators})]})]})]})})},re=(0,v.cn)(0),O=!1,E=function(P){var U=(0,h.R6)().jotaiScope,D=(0,v.KO)(re,U),ce=(0,q.Z)(D,2),ie=ce[0],ue=ce[1];return(0,F.useLayoutEffect)(function(){return ue(function(Ce){return Ce+1}),function(){ue(function(Ce){return Ce-1})}},[ue]),P.__fallback||(O=!0),!ie&&P.__fallback&&O||ie>1&&P.__fallback?null:(0,s.jsx)(I,function(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var B=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?_(Object(B),!0).forEach(function(Y){(0,fe.Z)(Ce,Y,B[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(B)):_(Object(B)).forEach(function(Y){Object.defineProperty(Ce,Y,Object.getOwnPropertyDescriptor(B,Y))})}return Ce}({},P))},E.displayName=W,E),{Trigger:f.Z.Trigger,Item:f.Z.Item,ItemLink:f.Z.ItemLink,ItemCustom:f.Z.ItemCustom,Group:f.Z.Group,Separator:f.Z.Separator,DefaultItems:w}),x=d},2335:function(ge,Q,t){t.d(Q,{jo:function(){return Oe},iC:function(){return J},gK:function(){return Ke},$C:function(){return i},oc:function(){return o},_9:function(){return ve},qy:function(){return $},rk:function(){return te},n5:function(){return X},h6:function(){return xe},Rx:function(){return me},Hg:function(){return N},cW:function(){return U},hs:function(){return L},f:function(){return g},xY:function(){return ne},Iw:function(){return M},$e:function(){return v},Vi:function(){return a},Ks:function(){return pe},r8:function(){return F},ZB:function(){return Y},pb:function(){return h},ut:function(){return l},k:function(){return fe},sA:function(){return b},LL:function(){return _},EE:function(){return Pe},qx:function(){return m},$n:function(){return Ze},zK:function(){return B},LO:function(){return q},Zj:function(){return E},Yx:function(){return ue},sS:function(){return ie},kV:function(){return ce},sk:function(){return Ce},eF:function(){return D},Oh:function(){return e},WR:function(){return Ie},a6:function(){return we},HM:function(){return re},ay:function(){return s},hR:function(){return Fe},Gj:function(){return W},I8:function(){return Le},wZ:function(){return u},C6:function(){return p},ZF:function(){return d},nM:function(){return I},ah:function(){return P},UO:function(){return x},Kr:function(){return Je},oX:function(){return Be},_D:function(){return T},V4:function(){return O},Dt:function(){return ye},Um:function(){return ae},vU:function(){return C},ED:function(){return de}});var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),R=t(4010),n=t.n(R),Z=t(1469),H=t.n(Z),G=t(9329),le=t.n(G),k=t(6464),se={};se.styleTagTransform=le(),se.setAttributes=n(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=H(),y()(k.Z,se);var pe,Ee=k.Z&&k.Z.locals?k.Z.locals:void 0,ae=/Mac|iPod|iPhone|iPad/.test(navigator.platform),de=/^Win/.test(navigator.platform),ye=/\b(android)\b/i.test(navigator.userAgent),C="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,J="Excalidraw",g=10,m=8,M=5,v=1,u=30,s=Math.PI/12,o={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},e={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Te){Te.COPY="copy",Te.PASTE="paste",Te.CUT="cut",Te.KEYDOWN="keydown",Te.KEYUP="keyup",Te.MOUSE_MOVE="mousemove",Te.RESIZE="resize",Te.UNLOAD="unload",Te.FOCUS="focus",Te.BLUR="blur",Te.DRAG_OVER="dragover",Te.DROP="drop",Te.GESTURE_END="gestureend",Te.BEFORE_UNLOAD="beforeunload",Te.GESTURE_START="gesturestart",Te.GESTURE_CHANGE="gesturechange",Te.POINTER_MOVE="pointermove",Te.POINTER_UP="pointerup",Te.STATE_CHANGE="statechange",Te.WHEEL="wheel",Te.TOUCH_START="touchstart",Te.TOUCH_END="touchend",Te.HASHCHANGE="hashchange",Te.VISIBILITY_CHANGE="visibilitychange",Te.SCROLL="scroll",Te.EXCALIDRAW_LINK="excalidraw-link",Te.MENU_ITEM_SELECT="menu.itemSelect"})(pe||(pe={}));var a={TEST:"test",DEVELOPMENT:"development"},i={SHAPE_ACTIONS_MENU:"App-menu__left"},l={Virgil:1,Helvetica:2,Cascadia:3},p={LIGHT:"light",DARK:"dark"},T="Segoe UI Emoji",X=20,te=l.Virgil,N="left",L="top",fe=20,q={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},F={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},h=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,_=500,W=300,I=500,re=100,O=.1,E=.1,b=300,d=Ee.themeFilter,x={addLibrary:"addLibrary"},P={addLibrary:"addLibrary"},U={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},D=640,ce=730,ie=1e3,ue=500,Ce=1229,Pe=parseInt(Ee.rightSidebarWidth),B=2,Y=[1,2,3],$=10,xe=1440,Oe=[q.png,q.jpg,q.svg,q.gif,q.webp,q.bmp,q.ico],Ze=2097152,Fe="http://www.w3.org/2000/svg",Je={excalidraw:2,excalidrawLibrary:2},Ke=5,Be={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Le={LEFT:"left",CENTER:"center",RIGHT:"right"},ne=20,me=.25,ve=32,we={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Ie="__precedingElement__"},434:function(ge,Q,t){t.d(Q,{DQ:function(){return g},KG:function(){return l},Pn:function(){return T},Qk:function(){return J},Sf:function(){return i},Tu:function(){return p},Wr:function(){return M},ZY:function(){return v},_c:function(){return e},bv:function(){return X},cT:function(){return u},g8:function(){return m},gY:function(){return fe},lV:function(){return o},tW:function(){return a},vZ:function(){return q},wf:function(){return s}});var w=t(1930),y=t(2577),f=t(7169),c=t(8950),j=t(2975),A=t.n(j),R=t(5605),n=t(8897),Z=t(2335),H=t(1047),G=t(6797),le=t(8211),k=t(75),se=t(6340),pe=t(1393),Ee=t(5523),ae=t(679);function de(F,h){var _=Object.keys(F);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(F);h&&(W=W.filter(function(I){return Object.getOwnPropertyDescriptor(F,I).enumerable})),_.push.apply(_,W)}return _}function ye(F){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?de(Object(_),!0).forEach(function(W){(0,f.Z)(F,W,_[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(_)):de(Object(_)).forEach(function(W){Object.defineProperty(F,W,Object.getOwnPropertyDescriptor(_,W))})}return F}var C=function(){var F=(0,c.Z)(A().mark(function h(_){var W;return A().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(_.type!==Z.LO.png){I.next=18;break}return I.prev=1,I.next=4,Promise.resolve().then(t.bind(t,673));case 4:return I.next=6,I.sent.decodePngMetadata(_);case 6:return I.abrupt("return",I.sent);case 9:if(I.prev=9,I.t0=I.catch(1),I.t0.message!=="INVALID"){I.next=15;break}throw new DOMException((0,le.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,le.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:I.next=43;break;case 18:if(!("text"in Blob)){I.next=24;break}return I.next=21,_.text();case 21:W=I.sent,I.next=27;break;case 24:return I.next=26,new Promise(function(re){var O=new FileReader;O.readAsText(_,"utf8"),O.onloadend=function(){O.readyState===FileReader.DONE&&re(O.result)}});case 26:W=I.sent;case 27:if(_.type!==Z.LO.svg){I.next=43;break}return I.prev=28,I.next=31,Promise.resolve().then(t.bind(t,673));case 31:return I.next=33,I.sent.decodeSvgMetadata({svg:W});case 33:return I.abrupt("return",I.sent);case 36:if(I.prev=36,I.t1=I.catch(28),I.t1.message!=="INVALID"){I.next=42;break}throw new DOMException((0,le.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,le.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return I.abrupt("return",W);case 44:case"end":return I.stop()}},h,null,[[1,9],[28,36]])}));return function(h){return F.apply(this,arguments)}}(),J=function(F){var h;return F&&((h=F.name.match(/\.(json|excalidraw|png|svg)$/))===null||h===void 0?void 0:h[1])||null},g=function(F){return F==="png"||F==="svg"},m=function(F){var h=J(F);return h==="png"||h==="svg"},M=function(F){var h=(F||{}).type;return!!h&&Z.jo.includes(h)},v=function(){var F=(0,c.Z)(A().mark(function h(_,W,I,re){var O,E;return A().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,C(_);case 2:if(O=b.sent,b.prev=3,E=JSON.parse(O),!(0,Ee.dS)(E)){b.next=9;break}return b.abrupt("return",{type:Z.LO.excalidraw,data:(0,ae.nu)({elements:(0,H._M)(E.elements||[]),appState:ye(ye({theme:W==null?void 0:W.theme,fileHandle:re||_.handle||null},(0,n.s)(E.appState||{})),W?(0,k.W)(E.elements||[],W,null):{}),files:E.files},W,I)});case 9:if(!(0,Ee.HT)(E)){b.next=11;break}return b.abrupt("return",{type:Z.LO.excalidrawlib,data:E});case 11:throw new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 14:throw b.prev=14,b.t0=b.catch(3),console.error(b.t0.message),new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return b.stop()}},h,null,[[3,14]])}));return function(h,_,W,I){return F.apply(this,arguments)}}(),u=function(){var F=(0,c.Z)(A().mark(function h(_,W,I,re){var O;return A().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,v(_,W,I,re);case 2:if((O=E.sent).type===Z.LO.excalidraw){E.next=5;break}throw new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 5:return E.abrupt("return",O.data);case 6:case"end":return E.stop()}},h)}));return function(h,_,W,I){return F.apply(this,arguments)}}(),s=function(F){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",_=JSON.parse(F);if(!(0,Ee.HT)(_))throw new Error("Invalid library");var W=_.libraryItems||_.library;return(0,ae.wJ)(W,h)},o=function(){var F=(0,c.Z)(A().mark(function h(_){var W,I=arguments;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return W=I.length>1&&I[1]!==void 0?I[1]:"unpublished",re.t0=s,re.next=4,C(_);case 4:return re.t1=re.sent,re.t2=W,re.abrupt("return",(0,re.t0)(re.t1,re.t2));case 7:case"end":return re.stop()}},h)}));return function(h){return F.apply(this,arguments)}}(),e=function(){var F=(0,c.Z)(A().mark(function h(_){return A().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",new Promise(function(I,re){try{_.toBlob(function(O){if(!O)return re(new G.l((0,le.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));I(O)})}catch(O){re(O)}}));case 1:case"end":return W.stop()}},h)}));return function(h){return F.apply(this,arguments)}}(),a=function(){var F=(0,c.Z)(A().mark(function h(_){var W;return A().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.t0=window.crypto.subtle,I.next=4,q(_);case 4:return I.t1=I.sent,I.next=7,I.t0.digest.call(I.t0,"SHA-1",I.t1);case 7:return W=I.sent,I.abrupt("return",(0,se.G3)(new Uint8Array(W)));case 11:return I.prev=11,I.t2=I.catch(0),console.error(I.t2),I.abrupt("return",(0,R.x0)(40));case 15:case"end":return I.stop()}},h,null,[[0,11]])}));return function(h){return F.apply(this,arguments)}}(),i=function(){var F=(0,c.Z)(A().mark(function h(_){return A().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",new Promise(function(I,re){var O=new FileReader;O.onload=function(){var E=O.result;I(E)},O.onerror=function(E){return re(E)},O.readAsDataURL(_)}));case 1:case"end":return W.stop()}},h)}));return function(h){return F.apply(this,arguments)}}(),l=function(F){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",_=F.indexOf(","),W=atob(F.slice(_+1)),I=F.slice(0,_).split(":")[1].split(";")[0],re=new ArrayBuffer(W.length),O=new Uint8Array(re),E=0;E<W.length;E++)O[E]=W.charCodeAt(E);return new File([re],h,{type:I})},p=function(){var F=(0,c.Z)(A().mark(function h(_,W){var I,re,O,E,b,d;return A().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(_.type!==Z.LO.svg){x.next=2;break}return x.abrupt("return",_);case 2:return x.next=4,Promise.all([t.e(4736).then(t.t.bind(t,4881,23)).then(function(P){return P.default}),t.e(4736).then(t.bind(t,100)).then(function(P){return P.default})]);case 4:if(I=x.sent,re=(0,y.Z)(I,2),O=re[0],E=re[1],b=E({pica:O({features:["js","wasm"]})}),W.outputType&&(d=W.outputType,b._create_blob=function(P){return this.pica.toBlob(P.out_canvas,d,.8).then(function(U){return P.out_blob=U,P})}),M(_)){x.next=12;break}throw new Error((0,le.t)("errors.unsupportedFileType"));case 12:return x.t0=File,x.next=15,b.toBlob(_,{max:W.maxWidthOrHeight});case 15:return x.t1=x.sent,x.t2=[x.t1],x.t3=_.name,x.t4={type:W.outputType||_.type},x.abrupt("return",new x.t0(x.t2,x.t3,x.t4));case 20:case"end":return x.stop()}},h)}));return function(h,_){return F.apply(this,arguments)}}(),T=function(F){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(F)],h,{type:Z.LO.svg})},X=function(){var F=(0,c.Z)(A().mark(function h(_){var W,I;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return W=_.dataTransfer.files.item(0),re.next=3,te(_);case 3:if(I=re.sent,!W){re.next=10;break}return re.next=7,fe(W);case 7:re.t0=re.sent,re.next=11;break;case 10:re.t0=null;case 11:return re.t1=re.t0,re.t2=I,re.abrupt("return",{file:re.t1,fileHandle:re.t2});case 14:case"end":return re.stop()}},h)}));return function(h){return F.apply(this,arguments)}}(),te=function(){var F=(0,c.Z)(A().mark(function h(_){var W,I;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!pe.kr){re.next=16;break}return re.prev=1,W=_.dataTransfer.items[0],re.next=5,W.getAsFileSystemHandle();case 5:if(re.t0=re.sent,re.t0){re.next=8;break}re.t0=null;case 8:return I=re.t0,re.abrupt("return",I);case 12:return re.prev=12,re.t1=re.catch(1),console.warn(re.t1.name,re.t1.message),re.abrupt("return",null);case 16:return re.abrupt("return",null);case 17:case"end":return re.stop()}},h,null,[[1,12]])}));return function(h){return F.apply(this,arguments)}}(),N=function(F){var h=null,_="".concat((0,w.Z)(new Uint8Array(F).slice(0,8)).join(" ")," "),W="255 216 255 ",I="71 73 70 56 57 97 ";return _==="137 80 78 71 13 10 26 10 "?h=Z.LO.png:_.startsWith(W)?h=Z.LO.jpg:_.startsWith(I)&&(h=Z.LO.gif),h},L=function(F,h,_){return new File([F],_||"",{type:h})},fe=function(){var F=(0,c.Z)(A().mark(function h(_){var W,I,re,O,E,b,d,x;return A().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(_.type){P.next=28;break}if((W=_)===null||W===void 0||(I=W.name)===null||I===void 0||!I.endsWith(".excalidrawlib")){P.next=11;break}return P.t0=L,P.next=5,q(_);case 5:P.t1=P.sent,P.t2=Z.LO.excalidrawlib,P.t3=_.name,_=(0,P.t0)(P.t1,P.t2,P.t3),P.next=26;break;case 11:if((re=_)===null||re===void 0||(O=re.name)===null||O===void 0||!O.endsWith(".excalidraw")){P.next=21;break}return P.t4=L,P.next=15,q(_);case 15:P.t5=P.sent,P.t6=Z.LO.excalidraw,P.t7=_.name,_=(0,P.t4)(P.t5,P.t6,P.t7),P.next=26;break;case 21:return P.next=23,q(_);case 23:E=P.sent,(b=N(E))&&(_=L(E,b,_.name));case 26:P.next=34;break;case 28:if(!M(_)){P.next=34;break}return P.next=31,q(_);case 31:d=P.sent,(x=N(d))&&x!==_.type&&(_=L(d,x,_.name));case 34:return P.abrupt("return",_);case 35:case"end":return P.stop()}},h)}));return function(h){return F.apply(this,arguments)}}(),q=function(F){return"arrayBuffer"in F?F.arrayBuffer():new Promise(function(h,_){var W=new FileReader;W.onload=function(I){var re;if((re=I.target)===null||re===void 0||!re.result)return _(new Error("Couldn't convert blob to ArrayBuffer"));h(I.target.result)},W.readAsArrayBuffer(F)})}},1393:function(ge,Q,t){t.d(Q,{I$:function(){return le},NL:function(){return k},kr:function(){return c}});var w=t(1930),y=t(8950),f=t(2975),c=function(){if(typeof self=="undefined")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),j=c?t.e(4736).then(t.bind(t,2254)):t.e(4736).then(t.bind(t,3499));function A(){return A=(0,y.Z)(f.mark(function se(){var pe,Ee=arguments;return f.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,j;case 2:return ae.abrupt("return",(pe=ae.sent).default.apply(pe,Ee));case 3:case"end":return ae.stop()}},se)})),A.apply(this,arguments)}c?t.e(4736).then(t.bind(t,6474)):t.e(4736).then(t.bind(t,9521));var R=c?t.e(4736).then(t.bind(t,9475)):t.e(4736).then(t.bind(t,6281));function n(){return n=(0,y.Z)(f.mark(function se(){var pe,Ee=arguments;return f.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,R;case 2:return ae.abrupt("return",(pe=ae.sent).default.apply(pe,Ee));case 3:case"end":return ae.stop()}},se)})),n.apply(this,arguments)}var Z=t(2335),H=t(6797),G=t(6340),le=function(se){var pe,Ee,ae,de=(pe=se.extensions)===null||pe===void 0?void 0:pe.reduce(function(C,J){return C.push(Z.LO[J]),C},[]),ye=(Ee=se.extensions)===null||Ee===void 0?void 0:Ee.reduce(function(C,J){return J==="jpg"?C.concat(".jpg",".jpeg"):C.concat(".".concat(J))},[]);return function(){return A.apply(this,arguments)}({description:se.description,extensions:ye,mimeTypes:de,multiple:(ae=se.multiple)!==null&&ae!==void 0&&ae,legacySetup:function(C,J,g){var m=(0,G.Ds)(J,500),M=function(){v(),document.addEventListener(Z.Ks.KEYUP,m),document.addEventListener(Z.Ks.POINTER_UP,m),m()},v=function(){var s;if((s=g.files)!==null&&s!==void 0&&s.length){var o=se.multiple?(0,w.Z)(g.files):g.files[0];C(o)}};requestAnimationFrame(function(){window.addEventListener(Z.Ks.FOCUS,M)});var u=window.setInterval(function(){v()},500);return function(s){clearInterval(u),m.cancel(),window.removeEventListener(Z.Ks.FOCUS,M),document.removeEventListener(Z.Ks.KEYUP,m),document.removeEventListener(Z.Ks.POINTER_UP,m),s&&(console.warn("Opening the file was canceled (legacy-fs)."),s(new H._))}}})},k=function(se,pe){return function(){return n.apply(this,arguments)}(se,{fileName:"".concat(pe.name,".").concat(pe.extension),description:pe.description,extensions:[".".concat(pe.extension)]},pe.fileHandle)}},673:function(ge,Q,t){t.r(Q),t.d(Q,{decodePngMetadata:function(){return J},decodeSvgMetadata:function(){return m},encodePngMetadata:function(){return C},encodeSvgMetadata:function(){return g},getTEXtChunk:function(){return ye}});var w=t(8950),y=t(2975),f=t.n(y),c=t(2983),j=t.n(c),A=t(1194),R=t(3434),n=t.n(R),Z=t(2744),H=t(2335),G=t(434),le=function(M){return new Promise(function(v,u){var s=typeof M=="string"?new Blob([new TextEncoder().encode(M)]):new Blob([M instanceof Uint8Array?M:new Uint8Array(M)]),o=new FileReader;o.onload=function(e){if(!e.target||typeof e.target.result!="string")return u(new Error("couldn't convert to byte string"));v(e.target.result)},o.readAsBinaryString(s)})},k=function(M){for(var v=new ArrayBuffer(M.length),u=new Uint8Array(v),s=0,o=M.length;s<o;s++)u[s]=M.charCodeAt(s);return v},se=function(M){return new TextDecoder("utf-8").decode(k(M))},pe=function(){var M=(0,w.Z)(f().mark(function v(u){var s=arguments;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(s.length>1&&s[1]!==void 0&&s[1])){o.next=5;break}o.t0=window.btoa(u),o.next=10;break;case 5:return o.t1=window,o.next=8,le(u);case 8:o.t2=o.sent,o.t0=o.t1.btoa.call(o.t1,o.t2);case 10:return o.abrupt("return",o.t0);case 11:case"end":return o.stop()}},v)}));return function(v){return M.apply(this,arguments)}}(),Ee=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o=arguments;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.length>1&&o[1]!==void 0&&o[1],e.abrupt("return",s?window.atob(u):se(window.atob(u)));case 2:case"end":return e.stop()}},v)}));return function(v){return M.apply(this,arguments)}}(),ae=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=u.text,u.compress===!1){e.next=11;break}return e.prev=2,e.next=5,le((0,Z.deflate)(s));case 5:o=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("encode: cannot deflate",e.t0);case 11:if(e.t1=!!o,e.t2=o,e.t2){e.next=17;break}return e.next=16,le(s);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 19:case"end":return e.stop()}},v,null,[[2,8]])}));return function(v){return M.apply(this,arguments)}}(),de=function(){var M=(0,w.Z)(f().mark(function v(u){var s;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.t0=u.encoding,o.next=o.t0==="bstring"?3:12;break;case 3:if(!u.compressed){o.next=7;break}o.t1=u.encoded,o.next=10;break;case 7:return o.next=9,se(u.encoded);case 9:o.t1=o.sent;case 10:return s=o.t1,o.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(u.encoding,'"'));case 13:if(!u.compressed){o.next=15;break}return o.abrupt("return",(0,Z.inflate)(new Uint8Array(k(s)),{to:"string"}));case 15:return o.abrupt("return",s);case 16:case"end":return o.stop()}},v)}));return function(v){return M.apply(this,arguments)}}(),ye=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j(),e.t1=Uint8Array,e.next=4,(0,G.vZ)(u);case 4:if(e.t2=e.sent,e.t3=new e.t1(e.t2),s=(0,e.t0)(e.t3),!(o=s.find(function(a){return a.name==="tEXt"}))){e.next=10;break}return e.abrupt("return",A.decode(o.data));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},v)}));return function(v){return M.apply(this,arguments)}}(),C=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o,e,a;return f().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=u.blob,o=u.metadata,i.t0=j(),i.t1=Uint8Array,i.next=5,(0,G.vZ)(s);case 5:return i.t2=i.sent,i.t3=new i.t1(i.t2),e=(0,i.t0)(i.t3),i.t4=A,i.t5=H.LO.excalidraw,i.t6=JSON,i.next=13,ae({text:o,compress:!0});case 13:return i.t7=i.sent,i.t8=i.t6.stringify.call(i.t6,i.t7),a=i.t4.encode.call(i.t4,i.t5,i.t8),e.splice(-1,0,a),i.abrupt("return",new Blob([n()(e)],{type:H.LO.png}));case 18:case"end":return i.stop()}},v)}));return function(v){return M.apply(this,arguments)}}(),J=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(u);case 2:if(((s=e.sent)==null?void 0:s.keyword)!==H.LO.excalidraw){e.next=19;break}if(e.prev=4,"encoded"in(o=JSON.parse(s.text))){e.next=10;break}if(!("type"in o)||o.type!==H.r8.excalidraw){e.next=9;break}return e.abrupt("return",s.text);case 9:throw new Error("FAILED");case 10:return e.next=12,de(o);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return e.stop()}},v,null,[[4,15]])}));return function(v){return M.apply(this,arguments)}}(),g=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=u.text,a.t0=pe,a.t1=JSON,a.next=5,ae({text:s});case 5:return a.t2=a.sent,a.t3=a.t1.stringify.call(a.t1,a.t2),a.next=9,(0,a.t0)(a.t3,!0);case 9:return o=a.sent,e="",e+="<!-- payload-type:".concat(H.LO.excalidraw," -->"),e+="<!-- payload-version:2 -->",e+="<!-- payload-start -->",e+=o,e+="<!-- payload-end -->",a.abrupt("return",e);case 17:case"end":return a.stop()}},v)}));return function(v){return M.apply(this,arguments)}}(),m=function(){var M=(0,w.Z)(f().mark(function v(u){var s,o,e,a,i,l,p;return f().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(s=u.svg).includes("payload-type:".concat(H.LO.excalidraw))){T.next=26;break}if(o=s.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){T.next=5;break}throw new Error("INVALID");case 5:return e=s.match(/<!-- payload-version:(\d+) -->/),a=(e==null?void 0:e[1])||"1",i=a!=="1",T.prev=8,T.next=11,Ee(o[1],i);case 11:if(l=T.sent,"encoded"in(p=JSON.parse(l))){T.next=17;break}if(!("type"in p)||p.type!==H.r8.excalidraw){T.next=16;break}return T.abrupt("return",l);case 16:throw new Error("FAILED");case 17:return T.next=19,de(p);case 19:return T.abrupt("return",T.sent);case 22:throw T.prev=22,T.t0=T.catch(8),console.error(T.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return T.stop()}},v,null,[[8,22]])}));return function(v){return M.apply(this,arguments)}}()},9485:function(ge,Q,t){t.d(Q,{Um:function(){return H.Um},cT:function(){return n.cT},n8:function(){return H.n8},p1:function(){return G}});var w=t(8950),y=t(2975),f=t.n(y),c=t(6665),j=t(2335),A=t(8211),R=t(4162),n=t(434),Z=t(1393),H=t(5523),G=function(){var le=(0,w.Z)(f().mark(function k(se,pe,Ee,ae,de){var ye,C,J,g,m,M,v,u,s,o,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(ye=de.exportBackground,C=de.exportPadding,J=C===void 0?j.qy:C,g=de.viewBackgroundColor,m=de.name,M=de.fileHandle,v=M===void 0?null:M,pe.length!==0){a.next=3;break}throw new Error((0,A.t)("alerts.cannotExportEmptyCanvas"));case 3:if(se!=="svg"&&se!=="clipboard-svg"){a.next=17;break}return a.next=6,(0,R.$D)(pe,{exportBackground:ye,exportWithDarkMode:Ee.exportWithDarkMode,viewBackgroundColor:g,exportPadding:J,exportScale:Ee.exportScale,exportEmbedScene:Ee.exportEmbedScene&&se==="svg"},ae);case 6:if(u=a.sent,se!=="svg"){a.next=13;break}return a.next=10,(0,Z.NL)(new Blob([u.outerHTML],{type:j.LO.svg}),{description:"Export to SVG",name:m,extension:Ee.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:v});case 10:return a.abrupt("return",a.sent);case 13:if(se!=="clipboard-svg"){a.next=17;break}return a.next=16,(0,c.dd)(u.outerHTML);case 16:return a.abrupt("return");case 17:return a.next=19,(0,R.NL)(pe,Ee,ae,{exportBackground:ye,viewBackgroundColor:g,exportPadding:J});case 19:if((s=a.sent).style.display="none",document.body.appendChild(s),se!=="png"){a.next=38;break}return a.next=25,(0,n._c)(s);case 25:if(o=a.sent,s.remove(),!Ee.exportEmbedScene){a.next=33;break}return a.next=30,Promise.resolve().then(t.bind(t,673));case 30:return a.next=32,a.sent.encodePngMetadata({blob:o,metadata:(0,H.I_)(pe,Ee,ae,"local")});case 32:o=a.sent;case 33:return a.next=35,(0,Z.NL)(o,{description:"Export to PNG",name:m,extension:Ee.exportEmbedScene?"excalidraw.png":"png",fileHandle:v});case 35:return a.abrupt("return",a.sent);case 38:if(se!=="clipboard"){a.next=60;break}return a.prev=39,e=(0,n._c)(s),a.next=43,(0,c.uR)(e);case 43:a.next=55;break;case 45:if(a.prev=45,a.t0=a.catch(39),console.warn(a.t0),a.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){a.next=50;break}throw a.t0;case 50:if(!j.vU||a.t0.name!=="TypeError"){a.next=54;break}throw new Error("".concat((0,A.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,A.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,A.t)("alerts.couldNotCopyToClipboard"));case 55:return a.prev=55,s.remove(),a.finish(55);case 58:a.next=62;break;case 60:throw s.remove(),new Error("Unsupported export type");case 62:case"end":return a.stop()}},k,null,[[39,45,55,58]])}));return function(k,se,pe,Ee,ae){return le.apply(this,arguments)}}()},5523:function(ge,Q,t){t.d(Q,{HT:function(){return ae},I_:function(){return k},NI:function(){return de},Um:function(){return se},dS:function(){return Ee},n8:function(){return pe},t1:function(){return ye}});var w=t(6655),y=t(8950),f=t(2975),c=t.n(f),j=t(1393),A=t(8897),R=t(2335),n=t(1047),Z=t(434);function H(C,J){var g=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!g){if(Array.isArray(C)||(g=function(o,e){if(!!o){if(typeof o=="string")return G(o,e);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return G(o,e)}}(C))||J&&C&&typeof C.length=="number"){g&&(C=g);var m=0,M=function(){};return{s:M,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(o){throw o},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,u=!0,s=!1;return{s:function(){g=g.call(C)},n:function(){var o=g.next();return u=o.done,o},e:function(o){s=!0,v=o},f:function(){try{u||g.return==null||g.return()}finally{if(s)throw v}}}}function G(C,J){(J==null||J>C.length)&&(J=C.length);for(var g=0,m=new Array(J);g<J;g++)m[g]=C[g];return m}var le=function(C,J){var g,m={},M=H(C);try{for(M.s();!(g=M.n()).done;){var v=g.value;!v.isDeleted&&"fileId"in v&&v.fileId&&J[v.fileId]&&(m[v.fileId]=J[v.fileId])}}catch(u){M.e(u)}finally{M.f()}return m},k=function(C,J,g,m){var M={type:R.r8.excalidraw,version:R.Kr.excalidraw,source:R.pb,elements:m==="local"?(0,n._M)(C):(0,n.BQ)(C),appState:m==="local"?(0,A.s)(J):(0,A.eS)(J),files:m==="local"?le(C,g):void 0};return JSON.stringify(M,null,2)},se=function(){var C=(0,y.Z)(c().mark(function J(g,m,M){var v,u,s;return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=k(g,m,M,"local"),u=new Blob([v],{type:R.LO.excalidraw}),o.next=4,(0,j.NL)(u,{name:m.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,Z.g8)(m.fileHandle)?null:m.fileHandle});case 4:return s=o.sent,o.abrupt("return",{fileHandle:s});case 6:case"end":return o.stop()}},J)}));return function(J,g,m){return C.apply(this,arguments)}}(),pe=function(){var C=(0,y.Z)(c().mark(function J(g,m){var M;return c().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,j.I$)({description:"Excalidraw files"});case 2:return M=v.sent,v.t0=Z.cT,v.next=6,(0,Z.gY)(M);case 6:return v.t1=v.sent,v.t2=g,v.t3=m,v.t4=M.handle,v.abrupt("return",(0,v.t0)(v.t1,v.t2,v.t3,v.t4));case 11:case"end":return v.stop()}},J)}));return function(J,g){return C.apply(this,arguments)}}(),Ee=function(C){return(C==null?void 0:C.type)===R.r8.excalidraw&&(!C.elements||Array.isArray(C.elements)&&(!C.appState||(0,w.Z)(C.appState)==="object"))},ae=function(C){return(0,w.Z)(C)==="object"&&C&&C.type===R.r8.excalidrawLibrary&&(C.version===1||C.version===2)},de=function(C){var J={type:R.r8.excalidrawLibrary,version:R.Kr.excalidrawLibrary,source:R.pb,libraryItems:C};return JSON.stringify(J,null,2)},ye=function(){var C=(0,y.Z)(c().mark(function J(g){var m;return c().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return m=de(g),M.next=3,(0,j.NL)(new Blob([m],{type:R.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return M.stop()}},J)}));return function(J){return C.apply(this,arguments)}}()},7053:function(ge,Q,t){t.d(Q,{Di:function(){return s},WV:function(){return u},rF:function(){return J},xS:function(){return o},zh:function(){return M}});var w=t(7169),y=t(8950),f=t(5169),c=t(8821),j=t(1930),A=t(2975),R=t.n(A),n=t(434),Z=t(679),H=t(4739),G=t(9487),le=t(8925),k=t(6797),se=t(8211),pe=t(9787),Ee=t(2335);function ae(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),i.push.apply(i,l)}return i}function de(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?ae(Object(i),!0).forEach(function(l){(0,w.Z)(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}function ye(e,a){var i=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(N,L){if(!!N){if(typeof N=="string")return C(N,L);var fe=Object.prototype.toString.call(N).slice(8,-1);if(fe==="Object"&&N.constructor&&(fe=N.constructor.name),fe==="Map"||fe==="Set")return Array.from(N);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return C(N,L)}}(e))||a&&e&&typeof e.length=="number"){i&&(e=i);var l=0,p=function(){};return{s:p,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(N){throw N},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,X=!0,te=!1;return{s:function(){i=i.call(e)},n:function(){var N=i.next();return X=N.done,N},e:function(N){te=!0,T=N},f:function(){try{X||i.return==null||i.return()}finally{if(te)throw T}}}}function C(e,a){(a==null||a>e.length)&&(a=e.length);for(var i=0,l=new Array(a);i<a;i++)l[i]=e[i];return l}var J=(0,H.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),g=function(e){return JSON.parse(JSON.stringify(e))},m=function(e,a){return!e.find(function(i){return i.elements.length===a.elements.length&&i.elements.every(function(l,p){return l.id===a.elements[p].id&&l.versionNonce===a.elements[p].versionNonce})})},M=function(e,a){var i,l=[],p=ye(a);try{for(p.s();!(i=p.n()).done;){var T=i.value;m(e,T)&&l.push(T)}}catch(X){p.e(X)}finally{p.f()}return[].concat(l,(0,j.Z)(e))},v=(0,f.Z)(function e(a){var i=this;(0,c.Z)(this,e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return i.updateQueue[i.updateQueue.length-1]},this.notifyListeners=function(){if(i.updateQueue.length>0)G.e_.set(J,{status:"loading",libraryItems:i.lastLibraryItems,isInitialized:i.isInitialized});else{i.isInitialized=!0,G.e_.set(J,{status:"loaded",libraryItems:i.lastLibraryItems,isInitialized:i.isInitialized});try{var l,p;(l=(p=i.app.props).onLibraryChange)===null||l===void 0||l.call(p,g(i.lastLibraryItems))}catch(T){console.error(T)}}},this.resetLibrary=function(){return i.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var l=(0,y.Z)(R().mark(function p(T){var X;return R().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.prev=0,te.next=3,i.getLastUpdateTask()||i.lastLibraryItems;case 3:X=te.sent,i.updateQueue.length>0?T(i.getLatestLibrary()):T(g(X)),te.next=10;break;case 7:return te.prev=7,te.t0=te.catch(0),te.abrupt("return",T(i.lastLibraryItems));case 10:case"end":return te.stop()}},p,null,[[0,7]])}));return function(p){return l.apply(this,arguments)}}())},this.updateLibrary=function(){var l=(0,y.Z)(R().mark(function p(T){var X,te,N,L,fe,q,F,h,_;return R().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return X=T.libraryItems,te=T.prompt,N=te!==void 0&&te,L=T.merge,fe=L!==void 0&&L,q=T.openLibraryMenu,F=q!==void 0&&q,h=T.defaultStatus,_=h===void 0?"unpublished":h,F&&i.app.setState({openSidebar:"library"}),W.abrupt("return",i.setLibrary(function(){return new Promise(function(){var I=(0,y.Z)(R().mark(function re(O,E){var b,d;return R().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,typeof X!="function"||X instanceof Blob?X:X(i.lastLibraryItems);case 3:if(!((b=x.sent)instanceof Blob)){x.next=10;break}return x.next=7,(0,n.lV)(b,_);case 7:d=x.sent,x.next=11;break;case 10:d=(0,Z.wJ)(b,_);case 11:!N||window.confirm((0,se.t)("alerts.confirmAddLibrary",{numShapes:d.length}))?O(fe?M(i.lastLibraryItems,d):d):E(new k._),x.next=17;break;case 14:x.prev=14,x.t0=x.catch(0),E(x.t0);case 17:case"end":return x.stop()}},re,null,[[0,14]])}));return function(re,O){return I.apply(this,arguments)}}())}).finally(function(){i.app.focusContainer()}));case 3:case"end":return W.stop()}},p)}));return function(p){return l.apply(this,arguments)}}(),this.setLibrary=function(l){var p=new Promise(function(){var T=(0,y.Z)(R().mark(function X(te,N){return R().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,i.getLastUpdateTask();case 3:return typeof l=="function"&&(l=l(i.lastLibraryItems)),L.t0=g,L.next=7,l;case 7:L.t1=L.sent,i.lastLibraryItems=(0,L.t0)(L.t1),te(i.lastLibraryItems),L.next=15;break;case 12:L.prev=12,L.t2=L.catch(0),N(L.t2);case 15:case"end":return L.stop()}},X,null,[[0,12]])}));return function(X,te){return T.apply(this,arguments)}}()).catch(function(T){if(T.name==="AbortError")return console.warn("Library update aborted by user"),i.lastLibraryItems;throw T}).finally(function(){i.updateQueue=i.updateQueue.filter(function(T){return T!==p}),i.notifyListeners()});return i.updateQueue.push(p),i.notifyListeners(),p},this.app=a});Q.ZP=v;var u=function(e){var a,i=Math.ceil(Math.sqrt(e.length)),l=[],p=0,T=0,X=0,te=0,N=0,L=0,fe=0,q=ye(e);try{var F=function(){var h=a.value;N&&N%i==0&&(T+=X+50,p=0,L=0,fe++),L===0&&(X=function(d){return e.slice(d*i,d*i+i).reduce(function(x,P){var U=(0,le.v2)(P.elements).height;return Math.max(x,U)},0)}(fe)),te=function(d){var x,P=0,U=0,D=0,ce=ye(e);try{for(ce.s();!(x=ce.n()).done;){var ie=x.value;if(P%i==0&&(U=0),U===d){var ue=(0,le.v2)(ie.elements).width;D=Math.max(D,ue)}P++,U++}}catch(Ce){ce.e(Ce)}finally{ce.f()}return D}(L);var _=(0,le.v2)(h.elements),W=_.minX,I=_.minY,re=_.width,O=_.height,E=(te-re)/2,b=(X-O)/2;l.push.apply(l,(0,j.Z)(h.elements.map(function(d){return de(de({},d),{},{x:d.x+p+E-W,y:d.y+T+b-I})}))),p+=te+50,N++,L++};for(q.s();!(a=q.n()).done;)F()}catch(h){q.e(h)}finally{q.f()}return l},s=function(){var e=new URLSearchParams(window.location.hash.slice(1)).get(Ee.ah.addLibrary)||new URLSearchParams(window.location.search).get(Ee.UO.addLibrary),a=e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return e?{libraryUrl:e,idToken:a}:null},o=function(e){var a=e.excalidrawAPI,i=e.getInitialLibraryItems,l=(0,pe.useRef)(i);(0,pe.useEffect)(function(){if(a){var p=function(){var te=(0,y.Z)(R().mark(function N(L){var fe,q,F,h,_,W;return R().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return fe=L.libraryUrl,q=L.idToken,F=new Promise(function(){var re=(0,y.Z)(R().mark(function O(E,b){var d,x;return R().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,fetch(decodeURIComponent(fe));case 3:return d=P.sent,P.next=6,d.blob();case 6:x=P.sent,E(x),P.next=13;break;case 10:P.prev=10,P.t0=P.catch(0),b(P.t0);case 13:case"end":return P.stop()}},O,null,[[0,10]])}));return function(O,E){return re.apply(this,arguments)}}()),h=q!==a.id,I.next=5,h&&document.hidden?new Promise(function(re){window.addEventListener("focus",function(){return re()},{once:!0})}):null;case 5:return I.prev=5,I.next=8,a.updateLibrary({libraryItems:F,prompt:h,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:I.next=13;break;case 10:throw I.prev=10,I.t0=I.catch(5),I.t0;case 13:return I.prev=13,window.location.hash.includes(Ee.ah.addLibrary)?((_=new URLSearchParams(window.location.hash.slice(1))).delete(Ee.ah.addLibrary),window.history.replaceState({},Ee.iC,"#".concat(_.toString()))):window.location.search.includes(Ee.UO.addLibrary)&&((W=new URLSearchParams(window.location.search)).delete(Ee.UO.addLibrary),window.history.replaceState({},Ee.iC,"?".concat(W.toString()))),I.finish(13);case 16:case"end":return I.stop()}},N,null,[[5,10,13,16]])}));return function(N){return te.apply(this,arguments)}}(),T=function(te){te.preventDefault();var N=s();N&&(te.stopImmediatePropagation(),window.history.replaceState({},"",te.oldURL),p(N))};l.current&&a.updateLibrary({libraryItems:l.current()});var X=s();return X&&p(X),window.addEventListener(Ee.Ks.HASHCHANGE,T),function(){window.removeEventListener(Ee.Ks.HASHCHANGE,T)}}},[a])}},679:function(ge,Q,t){t.d(Q,{ET:function(){return g},lY:function(){return v},nu:function(){return u},wJ:function(){return o}});var w=t(2577),y=t(7169),f=t(1047),c=t(1974),j=t(6954),A=t(2335),R=t(8897),n=t(6938),Z=t(1935),H=t(6340),G=t(5284);function le(e,a){var i=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(N,L){if(!!N){if(typeof N=="string")return k(N,L);var fe=Object.prototype.toString.call(N).slice(8,-1);if(fe==="Object"&&N.constructor&&(fe=N.constructor.name),fe==="Map"||fe==="Set")return Array.from(N);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return k(N,L)}}(e))||a&&e&&typeof e.length=="number"){i&&(e=i);var l=0,p=function(){};return{s:p,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(N){throw N},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,X=!0,te=!1;return{s:function(){i=i.call(e)},n:function(){var N=i.next();return X=N.done,N},e:function(N){te=!0,T=N},f:function(){try{X||i.return==null||i.return()}finally{if(te)throw T}}}}function k(e,a){(a==null||a>e.length)&&(a=e.length);for(var i=0,l=new Array(a);i<a;i++)l[i]=e[i];return l}function se(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),i.push.apply(i,l)}return i}function pe(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?se(Object(i),!0).forEach(function(l){(0,y.Z)(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var Ee={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},ae=function(e){return Object.keys(A.ut).includes(e)?A.ut[e]:A.rk},de=function(e,a){var i,l,p,T,X,te,N,L,fe,q,F,h,_,W,I={type:a.type||e.type,version:e.version||1,versionNonce:(i=e.versionNonce)!==null&&i!==void 0?i:0,isDeleted:(l=e.isDeleted)!==null&&l!==void 0&&l,id:e.id||(0,j.kb)(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:(p=e.strokeStyle)!==null&&p!==void 0?p:"solid",roughness:(T=e.roughness)!==null&&T!==void 0?T:1,opacity:e.opacity==null?100:e.opacity,angle:e.angle||0,x:(X=(te=a.x)!==null&&te!==void 0?te:e.x)!==null&&X!==void 0?X:0,y:(N=(L=a.y)!==null&&L!==void 0?L:e.y)!==null&&N!==void 0?N:0,strokeColor:e.strokeColor||G.black,backgroundColor:e.backgroundColor||"transparent",width:e.width||0,height:e.height||0,seed:(fe=e.seed)!==null&&fe!==void 0?fe:1,groupIds:(q=e.groupIds)!==null&&q!==void 0?q:[],roundness:e.roundness?e.roundness:e.strokeSharpness==="round"?{type:(0,c.QI)(e.type)?A.a6.LEGACY:A.a6.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map(function(re){return{type:"arrow",id:re}}):(F=e.boundElements)!==null&&F!==void 0?F:[],updated:(h=e.updated)!==null&&h!==void 0?h:(0,H.C3)(),link:(_=e.link)!==null&&_!==void 0?_:null,locked:(W=e.locked)!==null&&W!==void 0&&W};return"customData"in e&&(I.customData=e.customData),A.WR in e&&(I[A.WR]=e[A.WR]),pe(pe(pe({},I),(0,f.Qp)(I)),a)},ye=function(e){var a,i,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(e.type){case"text":var p=e.fontSize,T=e.fontFamily;if("font"in e){var X=e.font.split(" "),te=(0,w.Z)(X,2),N=te[0],L=te[1];p=parseInt(N,10),T=ae(L)}return e=de(e,{fontSize:p,fontFamily:T,text:(a=e.text)!==null&&a!==void 0?a:"",baseline:e.baseline,textAlign:e.textAlign||A.Hg,verticalAlign:e.verticalAlign||A.hs,containerId:(i=e.containerId)!==null&&i!==void 0?i:null,originalText:e.originalText||e.text}),l&&(e=pe(pe({},e),(0,f.JZ)(e))),e;case"freedraw":return de(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return de(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var fe=e,q=fe.startArrowhead,F=q===void 0?null:q,h=fe.endArrowhead,_=h===void 0?e.type==="arrow"?"arrow":null:h,W=e.x,I=e.y,re=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(re[0][0]!==0||re[0][1]!==0){var O=n._.getNormalizedPoints(e);re=O.points,W=O.x,I=O.y}return de(e,{type:e.type==="draw"?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:F,endArrowhead:_,points:re,x:W,y:I});case"ellipse":case"rectangle":case"diamond":return de(e,{})}},C=function(e,a){if(e.boundElements){var i=e.boundElements.slice(),l=new Set;e.boundElements=i.reduce(function(p,T){var X=a.get(T.id);if(X&&!l.has(T.id)){if(l.add(T.id),X.isDeleted)return p;p.push(T),(0,c.iB)(X)&&!X.containerId&&(X.containerId=e.id)}return p},[])}},J=function(e,a){var i=e.containerId?a.get(e.containerId):null;if(i){if(!e.isDeleted&&i.boundElements&&!i.boundElements.find(function(p){return p.id===e.id})){var l=(i.boundElements||(i.boundElements=[])).slice();l.push({type:"text",id:e.id}),i.boundElements=l}}else e.containerId=null},g=function(e,a){var i,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=a?(0,H.xn)(a):null,T=(e||[]).reduce(function(L,fe){if(fe.type!=="selection"&&!(0,f.QD)(fe)){var q=ye(fe,l);if(q){var F=p==null?void 0:p.get(fe.id);F&&F.version>q.version&&(q=(0,Z.ZP)(q,F.version)),L.push(q)}}return L},[]),X=(0,H.xn)(T),te=le(T);try{for(te.s();!(i=te.n()).done;){var N=i.value;(0,c.iB)(N)&&N.containerId?J(N,X):N.boundElements&&C(N,X)}}catch(L){te.e(L)}finally{te.f()}return T},m=function(e,a,i){var l=a[e];return l!==void 0?l:i[e]},M={isLibraryOpen:function(e,a){return["openSidebar","isLibraryOpen"in e?e.isLibraryOpen?"library":null:m("openSidebar",e,a)]},isLibraryMenuDocked:function(e,a){var i;return["isSidebarDocked",(i=e.isLibraryMenuDocked)!==null&&i!==void 0?i:m("isSidebarDocked",e,a)]}},v=function(e,a){var i,l,p;e=e||{};for(var T=(0,R.im)(),X={},te=0,N=Object.keys(M);te<N.length;te++){var L=N[te];if(L in e){var fe=M[L](e,T),q=(0,w.Z)(fe,2),F=q[0],h=q[1];X[F]=h}}for(var _=0,W=Object.entries(T);_<W.length;_++){var I=(0,w.Z)(W[_],2),re=I[0],O=I[1],E=e[re],b=a?a[re]:void 0;X[re]=E!==void 0?E:b!==void 0?b:O}return pe(pe({},X),{},{cursorButton:(a==null?void 0:a.cursorButton)||"up",penDetected:(i=a==null?void 0:a.penDetected)!==null&&i!==void 0?i:!!e.penMode&&(l=e.penDetected)!==null&&l!==void 0&&l,activeTool:pe(pe({},(0,H.Om)(T,X.activeTool.type&&Ee[X.activeTool.type]?X.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(p=X.activeTool.locked)!==null&&p!==void 0&&p}),zoom:typeof e.zoom=="number"?{value:e.zoom}:e.zoom||T.zoom,openSidebar:X.openSidebar==="library"?X.isSidebarDocked?"library":null:X.openSidebar})},u=function(e,a,i){return{elements:g(e==null?void 0:e.elements,i),appState:v(e==null?void 0:e.appState,a||null),files:(e==null?void 0:e.files)||{}}},s=function(e){var a=g((0,f.Lm)(e.elements),null);return a.length?pe(pe({},e),{},{elements:a}):null},o=function(){var e,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,l=[],p=le(a);try{for(p.s();!(e=p.n()).done;){var T=e.value;if(Array.isArray(T)){var X=s({status:i,elements:T,id:(0,j.kb)(),created:Date.now()});X&&l.push(X)}else{var te=T,N=s(pe(pe({},te),{},{id:te.id||(0,j.kb)(),status:te.status||i,created:te.created||Date.now()}));N&&l.push(N)}}}catch(L){p.e(L)}finally{p.f()}return l}},4929:function(ge,Q,t){t.d(Q,{rj:function(){return L},nW:function(){return q},nz:function(){return W},sw:function(){return re},lV:function(){return x},q$:function(){return _},wq:function(){return O},$u:function(){return h},Pp:function(){return b}});var w=t(7169),y=t(2577),f=t(6340),c=t(1935),j=t(7901),A=t(1319),R=t(3646),n=t(8211),Z=t(9787),H=t(45),G=t(6066),le=t(3063),k=t(6552),se=t(2335),pe=t(1894),Ee=t(75),ae=t(2325),de=t(1047),ye=t(487),C=t.n(ye),J=t(631),g=t.n(J),m=t(2052),M=t.n(m),v=t(4010),u=t.n(v),s=t(1469),o=t.n(s),e=t(9329),a=t.n(e),i=t(5260),l={};l.styleTagTransform=a(),l.setAttributes=u(),l.insert=M().bind(null,"head"),l.domAPI=g(),l.insertStyleElement=o(),C()(i.Z,l),i.Z&&i.Z.locals&&i.Z.locals;var p=t(7047),T=t(4206),X=t(4512);function te(U,D){var ce=Object.keys(U);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(U);D&&(ie=ie.filter(function(ue){return Object.getOwnPropertyDescriptor(U,ue).enumerable})),ce.push.apply(ce,ie)}return ce}function N(U){for(var D=1;D<arguments.length;D++){var ce=arguments[D]!=null?arguments[D]:{};D%2?te(Object(ce),!0).forEach(function(ie){(0,w.Z)(U,ie,ce[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(ce)):te(Object(ce)).forEach(function(ie){Object.defineProperty(U,ie,Object.getOwnPropertyDescriptor(ce,ie))})}return U}var L=document.createElement("img");L.src="data:".concat(se.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var fe=!1,q=function(U){var D=U.element,ce=U.setAppState,ie=U.onLinkOpen,ue=(0,T.gF)(),Ce=D.link||"",Pe=(0,Z.useState)(Ce),B=(0,y.Z)(Pe,2),Y=B[0],$=B[1],xe=(0,Z.useRef)(null),Oe=ue.showHyperlinkPopup==="editor"||!Ce,Ze=(0,Z.useCallback)(function(){if(xe.current){var Le=h(xe.current.value);!D.link&&Le&&(0,p.L)("hyperlink","create"),(0,c.DR)(D,{link:Le}),ce({showHyperlinkPopup:"info"})}},[D,ce]);(0,Z.useLayoutEffect)(function(){return function(){Ze()}},[Ze]),(0,Z.useEffect)(function(){var Le=null,ne=function(me){Oe||(Le&&clearTimeout(Le),P(D,ue,[me.clientX,me.clientY])&&(Le=window.setTimeout(function(){ce({showHyperlinkPopup:!1})},500)))};return window.addEventListener(se.Ks.POINTER_MOVE,ne,!1),function(){window.removeEventListener(se.Ks.POINTER_MOVE,ne,!1),Le&&clearTimeout(Le)}},[ue,D,Oe,ce]);var Fe=(0,Z.useCallback)(function(){(0,p.L)("hyperlink","delete"),(0,c.DR)(D,{link:null}),Oe&&(xe.current.value=""),ce({showHyperlinkPopup:!1})},[ce,D,Oe]),Je=F(D,ue),Ke=Je.x,Be=Je.y;return ue.draggingElement||ue.resizingElement||ue.isRotating||ue.openMenu?null:(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Be,"px"),left:"".concat(Ke,"px"),width:320,padding:5},children:[Oe?(0,X.jsx)("input",{className:(0,H.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:xe,value:Y,onChange:function(Le){return $(Le.target.value)},autoFocus:!0,onKeyDown:function(Le){Le.stopPropagation(),Le[G.tW.CTRL_OR_CMD]&&Le.key===G.tW.K&&Le.preventDefault(),Le.key!==G.tW.ENTER&&Le.key!==G.tW.ESCAPE||Ze()}}):(0,X.jsx)("a",{href:D.link||"",className:(0,H.Z)("excalidraw-hyperlinkContainer-link",{"d-none":Oe}),target:_(D.link)?"_self":"_blank",onClick:function(Le){if(D.link&&ie){var ne=(0,f.ag)(se.Ks.EXCALIDRAW_LINK,Le.nativeEvent);ie(D,ne),ne.defaultPrevented&&Le.preventDefault()}},rel:"noopener noreferrer",children:D.link}),(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Oe&&(0,X.jsx)(A.V,{type:"button",title:(0,n.t)("buttons.edit"),"aria-label":(0,n.t)("buttons.edit"),label:(0,n.t)("buttons.edit"),onClick:function(){(0,p.L)("hyperlink","edit","popup-ui"),ce({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:R.Pm}),Ce&&(0,X.jsx)(A.V,{type:"button",title:(0,n.t)("buttons.remove"),"aria-label":(0,n.t)("buttons.remove"),label:(0,n.t)("buttons.remove"),onClick:Fe,className:"excalidraw-hyperlinkContainer--remove",icon:R.XH})]})]})},F=function(U,D){var ce=(0,de.qf)(U),ie=(0,y.Z)(ce,2),ue=ie[0],Ce=ie[1],Pe=(0,f._i)({sceneX:ue+U.width/2,sceneY:Ce},D),B=Pe.x,Y=Pe.y;return{x:B-D.offsetLeft-160,y:Y-D.offsetTop-85}},h=function(U){return(U=U.trim())&&(U.includes("://")||/^[[\\/]/.test(U)||(U="https://".concat(U))),U},_=function(U){return!!(U!=null&&U.includes(location.origin)||U!=null&&U.startsWith("/"))},W=(0,j.z)({name:"hyperlink",perform:function(U,D){return D.showHyperlinkPopup!=="editor"&&{elements:U,appState:N(N({},D),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(U){return U[G.tW.CTRL_OR_CMD]&&U.key===G.tW.K},contextItemLabel:function(U,D){return I(U,D)},predicate:function(U,D){return(0,Ee.eD)(U,D).length===1},PanelComponent:function(U){var D=U.elements,ce=U.appState,ie=U.updateData,ue=(0,Ee.eD)(D,ce);return(0,X.jsx)(A.V,{type:"button",icon:R.xP,"aria-label":(0,n.t)(I(D,ce)),title:"".concat((0,n.t)("labels.link.label")," - ").concat((0,f.uY)("CtrlOrCmd+K")),onClick:function(){return ie(null)},selected:ue.length===1&&!!ue[0].link})}}),I=function(U,D){return(0,Ee.eD)(U,D)[0].link?"labels.link.edit":"labels.link.create"},re=function(U,D,ce){var ie=(0,y.Z)(U,4),ue=ie[0],Ce=ie[1],Pe=ie[2],B=ie[3],Y=le.Dn,$=Y/ce.zoom.value,xe=Y/ce.zoom.value,Oe=Y/ce.zoom.value,Ze=(ue+Pe)/2,Fe=(Ce+B)/2,Je=(Y-8)/(2*ce.zoom.value),Ke=4/ce.zoom.value,Be=Pe+Ke-Je,Le=Ce-Ke-Oe+Je,ne=(0,k.U1)(Be+$/2,Le+xe/2,Ze,Fe,D),me=(0,y.Z)(ne,2);return[me[0]-$/2,me[1]-xe/2,$,xe]},O=function(U,D,ce,ie){var ue=(0,y.Z)(ce,2),Ce=ue[0],Pe=ue[1];if(!U.link||D.selectedElementIds[U.id])return!1;var B=4/D.zoom.value;if(!ie&&D.viewModeEnabled&&(0,ae.pX)(U,[Ce,Pe],B))return!0;var Y=(0,de.qf)(U),$=(0,y.Z)(Y,4),xe=$[0],Oe=$[1],Ze=$[2],Fe=$[3],Je=re([xe,Oe,Ze,Fe],U.angle,D),Ke=(0,y.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3];return Ce>Be-B&&Ce<Be+B+ne&&Pe>Le-B&&Pe<Le+me+B},E=null,b=function(U,D){E&&clearTimeout(E),E=window.setTimeout(function(){return d(U,D)},se.sA)},d=function(U,D){if(U.link){var ce=(0,pe.bK)();ce.classList.add("excalidraw-tooltip--visible"),ce.style.maxWidth="20rem",ce.textContent=U.link;var ie=(0,de.qf)(U),ue=(0,y.Z)(ie,4),Ce=ue[0],Pe=ue[1],B=ue[2],Y=ue[3],$=re([Ce,Pe,B,Y],U.angle,D),xe=(0,y.Z)($,4),Oe=xe[0],Ze=xe[1],Fe=xe[2],Je=xe[3],Ke=(0,f._i)({sceneX:Oe,sceneY:Ze},D);(0,pe.Js)(ce,{left:Ke.x,top:Ke.y,width:Fe,height:Je},"top"),(0,p.L)("hyperlink","tooltip","link-icon"),fe=!0}},x=function(){E&&clearTimeout(E),fe&&(fe=!1,(0,pe.bK)().classList.remove("excalidraw-tooltip--visible"))},P=function(U,D,ce){var ie=(0,y.Z)(ce,2),ue=ie[0],Ce=ie[1],Pe=(0,f.dE)({clientX:ue,clientY:Ce},D),B=Pe.x,Y=Pe.y,$=15/D.zoom.value;if((0,ae.pX)(U,[B,Y],$))return!1;var xe=(0,de.qf)(U),Oe=(0,y.Z)(xe,3),Ze=Oe[0],Fe=Oe[1],Je=Oe[2];if(B>=Ze&&B<=Je&&Y>=Fe-85&&Y<=Fe)return!1;var Ke=F(U,D),Be=Ke.x,Le=Ke.y;return!(ue>=Be-$&&ue<=Be+320+10+$&&Ce>=Le-$&&Ce<=Le+$+10+42)}},8290:function(ge,Q,t){t.d(Q,{$q:function(){return F},DK:function(){return m},H:function(){return M},HG:function(){return Ee},N1:function(){return se},R:function(){return C},Ww:function(){return o},Y9:function(){return u},ZB:function(){return p},cz:function(){return k},ek:function(){return fe},el:function(){return de}});var w=t(7169),y=t(2577),f=t(75),c=t(1974),j=t(2325),A=t(1935),R=t(1564),n=t(6938),Z=t(6340),H=t(6066),G=t(5710);function le(W,I){var re=Object.keys(W);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(W);I&&(O=O.filter(function(E){return Object.getOwnPropertyDescriptor(W,E).enumerable})),re.push.apply(re,O)}return re}var k=function(W){return!W[H.tW.CTRL_OR_CMD]},se=function(W){return W.isBindingEnabled},pe=function(W,I){var re=[];return I.forEach(function(O){var E=W.getNonDeletedElement(O);E!=null&&re.push(E)}),re},Ee=function(W,I,re){var O=new Set,E=new Set;ae(W,I,re,"start",O,E),ae(W,re,I,"end",O,E);var b=Array.from(E).filter(function(d){return!O.has(d)});pe(R.Z.getScene(W),b).forEach(function(d){var x;(0,A.DR)(d,{boundElements:(x=d.boundElements)===null||x===void 0?void 0:x.filter(function(P){return P.type!=="arrow"||P.id!==W.id})})})},ae=function(W,I,re,O,E,b){if(I!=="keep")if(I!=null)re!=null&&(re==="keep"?g(W,I,O):O!=="start"&&re.id===I.id)||(J(W,I,O),E.add(I.id));else{var d=v(W,O);d!=null&&b.add(d)}},de=function(W){W.forEach(function(I){(0,c.Mn)(I)?Ee(I,X(I,"start"),X(I,"end")):(0,c.f0)(I)&&ye(I)})},ye=function(W){N(W).forEach(function(I){var re=(0,y.Z)(I,2),O=re[0],E=re[1];return Ee(O,E==="end"?"keep":W,E==="start"?"keep":W)})},C=function(W,I,re,O){I.startBoundElement!=null&&J(W,I.startBoundElement,"start");var E=u(O,re);E==null||g(W,E,"end")||J(W,E,"end")},J=function(W,I,re){(0,A.DR)(W,(0,w.Z)({},re==="start"?"startBinding":"endBinding",function(O){for(var E=1;E<arguments.length;E++){var b=arguments[E]!=null?arguments[E]:{};E%2?le(Object(b),!0).forEach(function(d){(0,w.Z)(O,d,b[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(b)):le(Object(b)).forEach(function(d){Object.defineProperty(O,d,Object.getOwnPropertyDescriptor(b,d))})}return O}({elementId:I.id},s(W,I,re)))),(0,Z.xn)(I.boundElements||[]).has(W.id)||(0,A.DR)(I,{boundElements:(I.boundElements||[]).concat({id:W.id,type:"arrow"})})},g=function(W,I,re){var O=W[re==="start"?"endBinding":"startBinding"];return m(W,O==null?void 0:O.elementId,I)},m=function(W,I,re){return I===re.id&&W.points.length<3},M=function(W){W.forEach(function(I){(0,c.Mn)(I)&&Ee(I,null,null)})},v=function(W,I){var re=I==="start"?"startBinding":"endBinding",O=W[re];return O==null?null:((0,A.DR)(W,(0,w.Z)({},re,null)),O.elementId)},u=function(W,I){return(0,f.QG)(I.getNonDeletedElements(),function(re){return(0,c.f0)(re,!1)&&(0,j.uu)(re,W)})},s=function(W,I,re){var O=re==="start"?-1:1,E=O===-1?0:W.points.length-1,b=E-O,d=n._.getPointAtIndexGlobalCoordinates(W,E),x=n._.getPointAtIndexGlobalCoordinates(W,b);return{focus:(0,j.T_)(I,x,d),gap:Math.max(1,(0,j.oT)(I,d))}},o=function(W,I){var re,O=((re=W.boundElements)!==null&&re!==void 0?re:[]).filter(function(P){return P.type==="arrow"});if(O.length!==0){var E=I!=null?I:{},b=E.newSize,d=E.simultaneouslyUpdated,x=a(d);pe(R.Z.getScene(W),O.map(function(P){return P.id})).forEach(function(P){if((0,c.bt)(P)){var U=W;if(e(P,U)){var D=l(U,P.startBinding,b),ce=l(U,P.endBinding,b);x.has(P.id)?(0,A.DR)(P,{startBinding:D,endBinding:ce}):(i(P,"start",D,W),i(P,"end",ce,W),(0,G.WJ)(P)&&(0,G.RB)(P,!1))}}})}},e=function(W,I){var re,O;return((re=W.startBinding)===null||re===void 0?void 0:re.elementId)===I.id||((O=W.endBinding)===null||O===void 0?void 0:O.elementId)===I.id},a=function(W){return new Set((W||[]).map(function(I){return I.id}))},i=function(W,I,re,O){if(!(re==null||re.elementId!==O.id&&W.points.length>2)){var E=R.Z.getScene(W).getElement(re.elementId);if(E!=null){var b,d=I==="start"?-1:1,x=d===-1?0:W.points.length-1,P=x-d,U=n._.getPointAtIndexGlobalCoordinates(W,P),D=(0,j.j_)(E,re.focus,U);if(re.gap===0)b=D;else{var ce=(0,j.MZ)(E,U,D,re.gap);b=ce.length===0?D:ce[0]}n._.movePoints(W,[{index:x,point:n._.pointFromAbsoluteCoords(W,b)}],(0,w.Z)({},I==="start"?"startBinding":"endBinding",re))}}},l=function(W,I,re){if(I==null||re==null)return I;var O=I.gap,E=I.focus,b=I.elementId,d=re.width,x=re.height,P=W.width,U=W.height;return{elementId:b,gap:Math.max(1,Math.min((0,j.fb)(W,d,x),O*(d<x?d/P:x/U))),focus:E}},p=function(W){var I=new Set(W.map(function(re){return re.id}));return W.flatMap(function(re){return(0,c.Mn)(re,!1)?T(re).filter(function(O){return!I.has(O.id)}):(0,c.f0)(re,!1)?N(re).filter(function(O){return!I.has(O[0].id)}):[]})},T=function(W){return[X(W,"start"),X(W,"end")].filter(function(I){return I!=null})},X=function(W,I){return u(te(W,I),R.Z.getScene(W))},te=function(W,I){var re=I==="start"?0:-1;return(0,Z.AK)(n._.getPointAtIndexGlobalCoordinates(W,re))},N=function(W){return R.Z.getScene(W).getNonDeletedElements().map(function(I){if(!(0,c.Mn)(I,!1))return null;var re=L(I,"start",W),O=L(I,"end",W);return re||O?[I,re&&O?"both":re?"start":"end",W]:null}).filter(function(I){return I!=null})},L=function(W,I,re){return W[I==="start"?"startBinding":"endBinding"]==null&&!g(W,re,I)&&(0,j.uu)(re,te(W,I))},fe=function(W,I,re,O){var E=new Set,b=new Set,d=O==="duplicatesServeAsOld";I.forEach(function(x){var P=x.boundElements;if(P!=null&&P.length>0&&(P.forEach(function(ce){d&&!re.has(ce.id)&&E.add(ce.id)}),b.add(re.get(x.id))),(0,c.Mn)(x)){if(x.startBinding!=null){var U=x.startBinding.elementId;d&&!re.has(U)&&b.add(U)}if(x.endBinding!=null){var D=x.endBinding.elementId;d&&!re.has(D)&&b.add(D)}x.startBinding==null&&x.endBinding==null||E.add(re.get(x.id))}}),W.filter(function(x){var P=x.id;return E.has(P)}).forEach(function(x){var P=x.startBinding,U=x.endBinding;(0,A.DR)(x,{startBinding:q(P,re),endBinding:q(U,re)})}),W.filter(function(x){var P=x.id;return b.has(P)}).forEach(function(x){var P=x.boundElements;P!=null&&P.length>0&&(0,A.DR)(x,{boundElements:P.map(function(U){return re.has(U.id)?{id:re.get(U.id),type:U.type}:U})})})},q=function(W,I){var re;if(W==null)return null;var O=W.elementId;return{focus:W.focus,gap:W.gap,elementId:(re=I.get(O))!==null&&re!==void 0?re:O}},F=function(W,I){var re=new Set(I.map(function(E){return E.id})),O=new Set;I.forEach(function(E){var b;(0,c.f0)(E)?(b=E.boundElements)===null||b===void 0||b.forEach(function(d){re.has(d.id)||O.add(d.id)}):(0,c.Mn)(E)&&(E.startBinding&&O.add(E.startBinding.elementId),E.endBinding&&O.add(E.endBinding.elementId))}),W.filter(function(E){var b=E.id;return O.has(b)}).forEach(function(E){(0,c.f0)(E)?(0,A.DR)(E,{boundElements:_(E.boundElements,re)}):(0,c.Mn)(E)&&(0,A.DR)(E,{startBinding:h(E.startBinding,re),endBinding:h(E.endBinding,re)})})},h=function(W,I){return W==null||I.has(W.elementId)?null:W},_=function(W,I){return W?W.filter(function(re){return!I.has(re.id)}):null}},8925:function(ge,Q,t){t.d(Q,{CM:function(){return se},IX:function(){return ae},KP:function(){return m},Pi:function(){return g},UC:function(){return k},Ut:function(){return v},Y5:function(){return C},os:function(){return u},qf:function(){return le},v2:function(){return s},wC:function(){return M}});var w=t(2577),y=t(1930),f=t(6552),c=t(8234),j=t(3063),A=t(1974),R=t(5001),n=t(5710),Z=t(6938);function H(o,e){var a=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!a){if(Array.isArray(o)||(a=function(te,N){if(!!te){if(typeof te=="string")return G(te,N);var L=Object.prototype.toString.call(te).slice(8,-1);if(L==="Object"&&te.constructor&&(L=te.constructor.name),L==="Map"||L==="Set")return Array.from(te);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return G(te,N)}}(o))||e&&o&&typeof o.length=="number"){a&&(o=a);var i=0,l=function(){};return{s:l,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(te){throw te},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,T=!0,X=!1;return{s:function(){a=a.call(o)},n:function(){var te=a.next();return T=te.done,te},e:function(te){X=!0,p=te},f:function(){try{T||a.return==null||a.return()}finally{if(X)throw p}}}}function G(o,e){(e==null||e>o.length)&&(e=o.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=o[a];return i}var le=function(o){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,A.F9)(o))return ye(o);if((0,A.bt)(o))return Z._.getElementAbsoluteCoords(o,e);if((0,A.iB)(o)){var a=(0,n.tl)(o);if((0,A.Yv)(a)){var i=Z._.getBoundTextElementPosition(a,o);return[i.x,i.y,i.x+o.width,i.y+o.height,i.x+o.width/2,i.y+o.height/2]}}return[o.x,o.y,o.x+o.width,o.y+o.height,o.x+o.width/2,o.y+o.height/2]},k=function(o){var e=Math.floor(o.width/2)+1,a=o.width,i=Math.floor(o.height/2)+1;return[e,0,a,i,e,o.height,0,i]},se=function(o){var e,a=H(o.sets);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.type==="path")return i.ops}}catch(l){a.e(l)}finally{a.f()}return o.sets[0].ops},pe=function(o,e,a,i,l){var p=1-o;return Math.pow(p,3)*e+3*Math.pow(p,2)*o*a+3*p*Math.pow(o,2)*i+Math.pow(o,3)*l},Ee=function(o,e,a,i){var l=e-o,p=a-e,T=3*l-6*p+3*(i-a),X=6*p-6*l,te=3*l,N=X*X-4*T*te;if(!(N>=0))return!1;var L=null,fe=null,q=1/0,F=1/0;return T===0?q=F=-te/X:(q=(-X+Math.sqrt(N))/(2*T),F=(-X-Math.sqrt(N))/(2*T)),q>=0&&q<=1&&(L=pe(q,o,e,a,i)),F>=0&&F<=1&&(fe=pe(F,o,e,a,i)),[L,fe]},ae=function(o,e){var a=[0,0],i=o.reduce(function(l,p){var T=p.op,X=p.data;if(T==="move")a=X;else if(T==="bcurveTo"){var te=[X[0],X[1]],N=[X[2],X[3]],L=[X[4],X[5]],fe=e?e.apply(void 0,te):te,q=e?e.apply(void 0,N):N,F=e?e.apply(void 0,L):L,h=e?e.apply(void 0,(0,y.Z)(a)):a;a=L;var _=function(b,d,x,P){var U=Ee(b[0],d[0],x[0],P[0]),D=Ee(b[1],d[1],x[1],P[1]),ce=Math.min(b[0],P[0]),ie=Math.max(b[0],P[0]);if(U){var ue=U.filter(function(Y){return Y!==null});ce=Math.min.apply(Math,[ce].concat((0,y.Z)(ue))),ie=Math.max.apply(Math,[ie].concat((0,y.Z)(ue)))}var Ce=Math.min(b[1],P[1]),Pe=Math.max(b[1],P[1]);if(D){var B=D.filter(function(Y){return Y!==null});Ce=Math.min.apply(Math,[Ce].concat((0,y.Z)(B))),Pe=Math.max.apply(Math,[Pe].concat((0,y.Z)(B)))}return[ce,Ce,ie,Pe]}(h,fe,q,F),W=(0,w.Z)(_,4),I=W[0],re=W[1],O=W[2],E=W[3];l.minX=Math.min(l.minX,I),l.minY=Math.min(l.minY,re),l.maxX=Math.max(l.maxX,O),l.maxY=Math.max(l.maxY,E)}return l},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[i.minX,i.minY,i.maxX,i.maxY]},de=function(o){var e,a=1/0,i=1/0,l=-1/0,p=-1/0,T=H(o);try{for(T.s();!(e=T.n()).done;){var X=(0,w.Z)(e.value,2),te=X[0],N=X[1];a=Math.min(a,te),i=Math.min(i,N),l=Math.max(l,te),p=Math.max(p,N)}}catch(L){T.e(L)}finally{T.f()}return[a,i,l,p]},ye=function(o){var e=de(o.points),a=(0,w.Z)(e,4),i=a[0],l=a[1],p=a[2],T=a[3],X=i+o.x,te=l+o.y,N=p+o.x,L=T+o.y;return[X,te,N,L,(X+N)/2,(te+L)/2]},C=function(o,e,a,i){var l=se(e[0]);if(l.length<1)return null;var p=a==="start"?1:l.length-1,T=l[p].data,X=[T[4],T[5]],te=[T[2],T[3]],N=[T[0],T[1]],L=l[p-1],fe=[0,0];L.op==="move"?fe=L.data:L.op==="bcurveTo"&&(fe=[L.data[4],L.data[5]]);var q=function(We,He){return Math.pow(1-We,3)*X[He]+3*We*Math.pow(1-We,2)*te[He]+3*Math.pow(We,2)*(1-We)*N[He]+fe[He]*Math.pow(We,3)},F=a==="start"?fe:X,h=(0,w.Z)(F,2),_=h[0],W=h[1],I=[q(.3,0),q(.3,1)],re=I[0],O=I[1],E=Math.hypot(_-re,W-O),b=(_-re)/E,d=(W-O)/E,x={arrow:30,bar:15,dot:15,triangle:15}[i],P=0;if(i==="arrow"){var U=(0,w.Z)(o.points[o.points.length-1],2),D=U[0],ce=U[1],ie=o.points.length>1?o.points[o.points.length-2]:[0,0],ue=(0,w.Z)(ie,2),Ce=ue[0],Pe=ue[1];P=Math.hypot(D-Ce,ce-Pe)}else for(var B=0;B<o.points.length;B++){var Y=o.points[B-1]||[0,0],$=(0,w.Z)(Y,2),xe=$[0],Oe=$[1],Ze=(0,w.Z)(o.points[B],2),Fe=Ze[0],Je=Ze[1];P+=Math.hypot(Fe-xe,Je-Oe)}var Ke=Math.min(x,P/2),Be=_-b*Ke,Le=W-d*Ke;if(i==="dot")return[_,W,Math.hypot(Le-W,Be-_)+o.strokeWidth];var ne={arrow:20,bar:90,triangle:25}[i],me=(0,f.U1)(Be,Le,_,W,-ne*Math.PI/180),ve=(0,w.Z)(me,2),we=ve[0],Ie=ve[1],Te=(0,f.U1)(Be,Le,_,W,ne*Math.PI/180),ze=(0,w.Z)(Te,2);return[_,W,we,Ie,ze[0],ze[1]]},J=function(o,e,a){var i;if(o.points.length<2){var l=(0,w.Z)(o.points[0],2),p=l[0],T=l[1],X=(0,f.U1)(o.x+p,o.y+T,e,a,o.angle),te=(0,w.Z)(X,2),N=te[0],L=te[1],fe=[N,L,N,L],q=(0,n.WJ)(o);if(q){var F=Z._.getMinMaxXYWithBoundText(o,[N,L,N,L],q);fe=[F[0],F[1],F[2],F[3]]}return fe}var h=(i=(0,j.R2)(o))===null||i===void 0?void 0:i[0],_=h!=null?h:function(b){var d=c.Z.generator(),x=(0,j.i)(b);return d[b.roundness?"curve":x.fill?"polygon":"linearPath"](b.points,x)}(o),W=se(_),I=ae(W,function(b,d){return(0,f.U1)(o.x+b,o.y+d,e,a,o.angle)}),re=[I[0],I[1],I[2],I[3]],O=(0,n.WJ)(o);if(O){var E=Z._.getMinMaxXYWithBoundText(o,re,O);re=[E[0],E[1],E[2],E[3]]}return re},g=function(o){var e,a=le(o),i=(0,w.Z)(a,6),l=i[0],p=i[1],T=i[2],X=i[3],te=i[4],N=i[5];if((0,A.F9)(o)){var L=de(o.points.map(function(at){var $e=(0,w.Z)(at,2),tt=$e[0],ct=$e[1];return(0,f.U1)(tt,ct,te-o.x,N-o.y,o.angle)})),fe=(0,w.Z)(L,4),q=fe[0],F=fe[1],h=fe[2],_=fe[3];return[q+o.x,F+o.y,h+o.x,_+o.y]}if((0,A.bt)(o))e=J(o,te,N);else if(o.type==="diamond"){var W=(0,f.U1)(te,p,te,N,o.angle),I=(0,w.Z)(W,2),re=I[0],O=I[1],E=(0,f.U1)(te,X,te,N,o.angle),b=(0,w.Z)(E,2),d=b[0],x=b[1],P=(0,f.U1)(l,N,te,N,o.angle),U=(0,w.Z)(P,2),D=U[0],ce=U[1],ie=(0,f.U1)(T,N,te,N,o.angle),ue=(0,w.Z)(ie,2),Ce=ue[0],Pe=ue[1];e=[Math.min(re,d,D,Ce),Math.min(O,x,ce,Pe),Math.max(re,d,D,Ce),Math.max(O,x,ce,Pe)]}else if(o.type==="ellipse"){var B=(T-l)/2,Y=(X-p)/2,$=Math.cos(o.angle),xe=Math.sin(o.angle),Oe=Math.hypot(B*$,Y*xe),Ze=Math.hypot(Y*$,B*xe);e=[te-Oe,N-Ze,te+Oe,N+Ze]}else{var Fe=(0,f.U1)(l,p,te,N,o.angle),Je=(0,w.Z)(Fe,2),Ke=Je[0],Be=Je[1],Le=(0,f.U1)(l,X,te,N,o.angle),ne=(0,w.Z)(Le,2),me=ne[0],ve=ne[1],we=(0,f.U1)(T,X,te,N,o.angle),Ie=(0,w.Z)(we,2),Te=Ie[0],ze=Ie[1],We=(0,f.U1)(T,p,te,N,o.angle),He=(0,w.Z)(We,2),Ye=He[0],et=He[1];e=[Math.min(Ke,me,Te,Ye),Math.min(Be,ve,ze,et),Math.max(Ke,me,Te,Ye),Math.max(Be,ve,ze,et)]}return e},m=function(o){if(!o.length)return[0,0,0,0];var e=1/0,a=-1/0,i=1/0,l=-1/0;return o.forEach(function(p){var T=g(p),X=(0,w.Z)(T,4),te=X[0],N=X[1],L=X[2],fe=X[3];e=Math.min(e,te),i=Math.min(i,N),a=Math.max(a,L),l=Math.max(l,fe)}),[e,i,a,l]},M=function(o,e,a,i){if(!(0,A.bt)(o)&&!(0,A.F9)(o))return[o.x,o.y,o.x+e,o.y+a];var l,p=(0,R.z)(0,e,(0,R.z)(1,a,o.points,i),i);if((0,A.F9)(o))l=de(p);else{var T=c.Z.generator(),X=o.roundness?T.curve(p,(0,j.i)(o)):T.linearPath(p,(0,j.i)(o)),te=se(X);l=ae(te)}var N=l,L=(0,w.Z)(N,4),fe=L[0],q=L[1],F=L[2],h=L[3];return[fe+o.x,q+o.y,F+o.x,h+o.y]},v=function(o,e){var a=c.Z.generator(),i=o.roundness==null?a.linearPath(e,(0,j.i)(o)):a.curve(e,(0,j.i)(o)),l=se(i),p=ae(l),T=(0,w.Z)(p,4),X=T[0],te=T[1],N=T[2],L=T[3];return[X+o.x,te+o.y,N+o.x,L+o.y]},u=function(o,e){if(!o.length)return[0,0,0,0];var a=1/0,i=o[0];return o.forEach(function(l){var p=g(l),T=(0,w.Z)(p,4),X=T[0],te=T[1],N=T[2],L=T[3],fe=(0,f.LW)((X+N)/2,(te+L)/2,e.x,e.y);fe<a&&(a=fe,i=l)}),g(i)},s=function(o){var e=m(o),a=(0,w.Z)(e,4),i=a[0],l=a[1],p=a[2],T=a[3];return{minX:i,minY:l,maxX:p,maxY:T,width:p-i,height:T-l,midX:(i+p)/2,midY:(l+T)/2}}},2325:function(ge,Q,t){t.d(Q,{uu:function(){return F},T_:function(){return Ce},j_:function(){return Pe},oT:function(){return W},wX:function(){return te},MZ:function(){return B},wB:function(){return N},Qu:function(){return L},pX:function(){return q},fb:function(){return h}});var w=t(2577),y=function(ne,me){return[0,0,0,0,me,ne,1,0]},f=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ve=[0,0,0,0,0,0,0,0];if(me<0||me>7)throw new Error("Expected `index` between 0 and 7, got `".concat(me,"`"));return ne!==0&&(ve[me]=ne),ve},c=function(ne){return[ne[0],ne[1],ne[2],ne[3],-ne[4],-ne[5],-ne[6],-ne[7]]},j=function(ne,me){return k(me)?[ne[0]-me,ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7]]:[ne[0]-me[0],ne[1]-me[1],ne[2]-me[2],ne[3]-me[3],ne[4]-me[4],ne[5]-me[5],ne[6]-me[6],ne[7]-me[7]]},A=function(ne,me){return k(me)?[ne[0]*me,ne[1]*me,ne[2]*me,ne[3]*me,ne[4]*me,ne[5]*me,ne[6]*me,ne[7]*me]:[R(ne,me),me[1]*ne[0]+me[0]*ne[1]-me[4]*ne[2]+me[5]*ne[3]+me[2]*ne[4]-me[3]*ne[5]-me[7]*ne[6]-me[6]*ne[7],me[2]*ne[0]+me[0]*ne[2]-me[6]*ne[3]+me[3]*ne[6],me[3]*ne[0]+me[6]*ne[2]+me[0]*ne[3]-me[2]*ne[6],me[4]*ne[0]+me[2]*ne[1]-me[1]*ne[2]+me[7]*ne[3]+me[0]*ne[4]+me[6]*ne[5]-me[5]*ne[6]+me[3]*ne[7],me[5]*ne[0]-me[3]*ne[1]+me[7]*ne[2]+me[1]*ne[3]-me[6]*ne[4]+me[0]*ne[5]+me[4]*ne[6]+me[2]*ne[7],me[6]*ne[0]+me[3]*ne[2]-me[2]*ne[3]+me[0]*ne[6],me[7]*ne[0]+me[6]*ne[1]+me[5]*ne[2]+me[4]*ne[3]+me[3]*ne[4]+me[2]*ne[5]+me[1]*ne[6]+me[0]*ne[7]]},R=function(ne,me){return me[0]*ne[0]+me[2]*ne[2]+me[3]*ne[3]-me[6]*ne[6]},n=function(ne,me){return[Z(ne,me),ne[1]*me[7]+ne[4]*me[5]-ne[5]*me[4]+ne[7]*me[1],ne[2]*me[7]-ne[4]*me[6]+ne[6]*me[4]+ne[7]*me[2],ne[3]*me[7]+ne[5]*me[6]-ne[6]*me[5]+ne[7]*me[3],ne[4]*me[7]+ne[7]*me[4],ne[5]*me[7]+ne[7]*me[5],ne[6]*me[7]+ne[7]*me[6],ne[7]*me[7]]},Z=function(ne,me){return ne[0]*me[7]+ne[1]*me[6]+ne[2]*me[5]+ne[3]*me[4]+ne[4]*me[3]+ne[5]*me[2]+ne[6]*me[1]+ne[7]*me[0]},H=function(ne){return Math.sqrt(Math.abs(ne[0]*ne[0]-ne[2]*ne[2]-ne[3]*ne[3]+ne[6]*ne[6]))},G=function(ne){var me=H(ne);if(me===0||me===1)return ne;var ve=ne[6]<0?-1:1;return A(ne,ve/me)},le=function(ne){var me=function(ve){return Math.sqrt(Math.abs(ve[7]*ve[7]-ve[5]*ve[5]-ve[4]*ve[4]+ve[1]*ve[1]))}(ne);return me===0||me===1?ne:A(ne,1/me)},k=function(ne){return typeof ne=="number"},se=(f(1,1),f(1,2),f(1,3),f(1,4),f(1,5),f(1,6),f(1,7),function(ne,me,ve){return G([0,ve,ne,me,0,0,0,0])}),pe=function(ne,me){return G(n(me,ne))},Ee=function(ne,me){return ve=ne,[(we=me)[0]*ve[0]+we[2]*ve[2]+we[3]*ve[3]-we[6]*ve[6],we[1]*ve[0]+we[0]*ve[1]-we[4]*ve[2]+we[5]*ve[3]+we[2]*ve[4]-we[3]*ve[5]-we[7]*ve[6]-we[6]*ve[7],we[2]*ve[0]+we[0]*ve[2]-we[6]*ve[3]+we[3]*ve[6],we[3]*ve[0]+we[6]*ve[2]+we[0]*ve[3]-we[2]*ve[6],we[4]*ve[0]+we[7]*ve[3]+we[0]*ve[4]+we[3]*ve[7],we[5]*ve[0]+we[7]*ve[2]+we[0]*ve[5]+we[2]*ve[7],we[6]*ve[0]+we[0]*ve[6],we[7]*ve[0]+we[0]*ve[7]];var ve,we},ae=function(ne){var me=(0,w.Z)(ne,2),ve=me[0];return[0,0,0,0,me[1],ve,1,0]},de=function(ne){return[ne[5],ne[4]]},ye=function(ne,me){return G((ve=ne,[(we=me)[0]*ve[0],we[1]*ve[0]+we[0]*ve[1],we[2]*ve[0]+we[0]*ve[2],we[3]*ve[0]+we[0]*ve[3],we[4]*ve[0]+we[2]*ve[1]-we[1]*ve[2]+we[0]*ve[4],we[5]*ve[0]-we[3]*ve[1]+we[1]*ve[3]+we[0]*ve[5],we[6]*ve[0]+we[3]*ve[2]-we[2]*ve[3]+we[0]*ve[6],we[7]*ve[0]+we[6]*ve[1]+we[5]*ve[2]+we[4]*ve[3]+we[3]*ve[4]+we[2]*ve[5]+we[1]*ve[6]]));var ve,we},C=function(ne,me){return H(n(ne,me))},J=function(ne,me){return Z(ne,me)},g=function(ne){return[0,0,0,0,ne[4],ne[5],0,0]},m=function(ne,me){return ve=A(ne,Math.sin(me/2)),we=Math.cos(me/2),k(we)?[ve[0]+we,ve[1],ve[2],ve[3],ve[4],ve[5],ve[6],ve[7]]:[ve[0]+we[0],ve[1]+we[1],ve[2]+we[2],ve[3]+we[3],ve[4]+we[4],ve[5]+we[5],ve[6]+we[6],ve[7]+we[7]];var ve,we},M=function(ne,me){return G(A(A(ne,me),c(ne)))},v=t(6552),u=t(1493),s=t(8925),o=t(3063),e=t(1974),a=t(1047),i=t(6340),l=t(267),p=t(5710);function T(ne,me){var ve=typeof Symbol!="undefined"&&ne[Symbol.iterator]||ne["@@iterator"];if(!ve){if(Array.isArray(ne)||(ve=function(He,Ye){if(!!He){if(typeof He=="string")return X(He,Ye);var et=Object.prototype.toString.call(He).slice(8,-1);if(et==="Object"&&He.constructor&&(et=He.constructor.name),et==="Map"||et==="Set")return Array.from(He);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return X(He,Ye)}}(ne))||me&&ne&&typeof ne.length=="number"){ve&&(ne=ve);var we=0,Ie=function(){};return{s:Ie,n:function(){return we>=ne.length?{done:!0}:{done:!1,value:ne[we++]}},e:function(He){throw He},f:Ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te,ze=!0,We=!1;return{s:function(){ve=ve.call(ne)},n:function(){var He=ve.next();return ze=He.done,He},e:function(He){We=!0,Te=He},f:function(){try{ze||ve.return==null||ve.return()}finally{if(We)throw Te}}}}function X(ne,me){(me==null||me>ne.length)&&(me=ne.length);for(var ve=0,we=new Array(me);ve<me;ve++)we[ve]=ne[ve];return we}var te=function ne(me,ve,we,Ie){var Te=10/ve.zoom.value,ze=[we,Ie];if(fe(ve,me)&&(0,l.oY)([me],ve))return q(me,ze,Te);var We=(0,p.WJ)(me);return We&&ne(We,ve,we,Ie)?!0:L(me,ve,ze)},N=function(ne,me,ve,we){var Ie=10/me.zoom.value,Te=(0,p.WJ)(ne);return(!Te||!te(Te,me,ve,we))&&!L(ne,me,[ve,we])&&q(ne,[ve,we],Ie)},L=function(ne,me,ve){var we=10/me.zoom.value,Ie=(0,a.iB)(ne)?I:function(Te){if(Te.type==="arrow")return!1;if(Te.type==="freedraw")return!0;var ze=!(0,i.Qm)(Te.backgroundColor)||(0,e.Xo)(Te);return Te.type==="line"?ze&&(0,v.g6)(Te.points):ze||(0,e.pC)(Te)}(ne)?re:O;return _({element:ne,point:ve,threshold:we,check:Ie})},fe=function(ne,me){return ne.selectedElementIds[me.id]},q=function(ne,me,ve){var we=(0,w.Z)(me,2),Ie=we[0],Te=we[1],ze=(0,s.qf)(ne),We=(0,w.Z)(ze,4),He=We[0],Ye=We[1],et=We[2],at=We[3],$e=(He+et)/2,tt=(Ye+at)/2,ct=(0,v.U1)(Ie,Te,$e,tt,-ne.angle),Et=(0,w.Z)(ct,2),Pt=Et[0],_t=Et[1];return Pt>He-ve&&Pt<et+ve&&_t>Ye-ve&&_t<at+ve},F=function(ne,me){var ve=me.x,we=me.y,Ie=h(ne,ne.width,ne.height);return _({element:ne,point:[ve,we],threshold:Ie,check:E})},h=function(ne,me,ve){var we=(ne.type==="diamond"?1/Math.sqrt(2):1)*Math.min(me,ve);return Math.max(16,Math.min(.25*we,32))},_=function(ne){switch(ne.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var me=W(ne.element,ne.point);return ne.check(me,ne.threshold);case"freedraw":return!!ne.check(b(ne.element,ne.point),ne.threshold)&&U(ne.element,ne.point,ne.threshold);case"arrow":case"line":return D(ne);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},W=function(ne,me){switch(ne.type){case"rectangle":case"image":case"text":return b(ne,me);case"diamond":return d(ne,me);case"ellipse":return x(ne,me)}},I=function(ne,me){return ne<0},re=function(ne,me){return ne<me},O=function(ne,me){return Math.abs(ne)<me},E=function(ne,me){return 0<=ne&&ne<me},b=function(ne,me){var ve=ce(ne,me),we=(0,w.Z)(ve,4),Ie=we[1],Te=we[2],ze=we[3];return Math.max(J(Ie,se(0,1,-ze)),J(Ie,se(1,0,-Te)))},d=function(ne,me){var ve=ce(ne,me),we=(0,w.Z)(ve,4),Ie=we[1],Te=we[2],ze=we[3],We=se(ze,Te,-ze*Te);return J(Ie,We)},x=function(ne,me){var ve,we=P(ne,me),Ie=(0,w.Z)(we,2),Te=Ie[0],ze=Ie[1];return ve=ze,-Math.sign(ve[1])*J(Te,ze)},P=function(ne,me){var ve=ce(ne,me),we=(0,w.Z)(ve,4),Ie=we[1],Te=we[2],ze=we[3],We=de(Ie),He=(0,w.Z)(We,2),Ye=He[0],et=He[1],at=.707,$e=.707,tt=Te,ct=ze;[0,1,2,3].forEach(function(_t){var vt=tt*at,yt=ct*$e,ft=(tt*tt-ct*ct)*Math.pow(at,3)/tt,St=(ct*ct-tt*tt)*Math.pow($e,3)/ct,Yt=vt-ft,qt=yt-St,Ct=Ye-ft,At=et-St,Ne=Math.hypot(qt,Yt),Ue=Math.hypot(At,Ct);at=Math.min(1,Math.max(0,(Ct*Ne/Ue+ft)/tt)),$e=Math.min(1,Math.max(0,(At*Ne/Ue+St)/ct));var ot=Math.hypot($e,at);at/=ot,$e/=ot});var Et,Pt=y(tt*at,ct*$e);return[Ie,Ee(pe(Ie,Et=Pt),Et)]},U=function(ne,me,ve){var we,Ie;if(ne.angle===0)we=me[0]-ne.x,Ie=me[1]-ne.y;else{var Te=(0,s.qf)(ne),ze=(0,w.Z)(Te,4),We=ze[0],He=ze[1],Ye=ze[2],et=ze[3],at=(0,v.xj)(me,[We+(Ye-We)/2,He+(et-He)/2],-ne.angle);we=at[0]-ne.x,Ie=at[1]-ne.y}var $e,tt=(0,w.Z)(ne.points,2),ct=tt[0],Et=tt[1];if((0,v.LW)(ct[0],ct[1],we,Ie)<ve||(0,v.LW)(Et[0],Et[1],we,Ie)<ve)return!0;for(var Pt=0;Pt<ne.points.length;Pt++){var _t=[Et[0]-ct[0],Et[1]-ct[1]],vt=Math.hypot(_t[1],_t[0]),yt=[_t[0]/vt,_t[1]/vt],ft=[we-ct[0],Ie-ct[1]],St=(ft[0]*yt[0]+ft[1]*yt[1])/Math.hypot(yt[1],yt[0]);$e=[ct[0]+yt[0]*St,ct[1]+yt[1]*St];var Yt=(0,v.LW)($e[0],$e[1],ct[0],ct[1]),qt=(0,v.LW)($e[0],$e[1],Et[0],Et[1]);if($e=qt<Yt&&Yt>vt?Et:Yt<qt&&qt>vt?ct:$e,Math.hypot(Ie-$e[1],we-$e[0])<ve)return!0;ct=Et,Et=ne.points[Pt+1]}var Ct=(0,o.R2)(ne);return!(!Ct||!Ct.sets.length)&&Le(Ct,we,Ie,ve)},D=function(ne){var me=ne.element,ve=ne.threshold;if(!(0,o.R2)(me))return!1;var we=ce(ne.element,ne.point),Ie=(0,w.Z)(we,4),Te=Ie[0],ze=Ie[1],We=Ie[2],He=Ie[3],Ye=se(0,1,-He),et=se(1,0,-We);if(!re(J(ze,Ye),ve)||!re(J(ze,et),ve))return!1;var at=de(Te),$e=(0,w.Z)(at,2),tt=$e[0],ct=$e[1],Et=(0,o.R2)(me);return Et?ne.check===re&&Et.some(function(Pt){return Be(Pt,tt,ct,me.roundness?"round":"sharp")})?!0:Et.some(function(Pt){return Le(Pt,tt,ct,ve)}):!1},ce=function(ne,me){var ve,we=ae(me),Ie=(0,s.qf)(ne),Te=(0,w.Z)(Ie,4),ze=Te[0],We=Te[1],He=Te[2],Ye=Te[3],et=(0,s.qf)(ne),at=ue([ze,We,He,Ye]),$e=m(at,ne.angle),tt=M($e,we),ct=function(ft){return[0,0,0,0,Math.abs(ft[4]),Math.abs(ft[5]),1,0]}(j(tt,g(at))),Et=(ve=ne.x,[0,0,0,0,ne.y,ve,0,0]),Pt=j(tt,Et),_t=(0,w.Z)(et,4),vt=_t[0],yt=_t[1];return[Pt,ct,(_t[2]-vt)/2,(_t[3]-yt)/2]},ie=function(ne){var me=(0,s.qf)(ne),ve=(0,w.Z)(me,4),we=ve[0],Ie=ve[1],Te=ve[2],ze=ve[3],We=ue([we,Ie,Te,ze]),He=m(We,ne.angle),Ye=c(function(et){return[1,0,0,0,-.5*et[5],.5*et[4],0,0]}(g(We)));return A(Ye,He)},ue=function(ne){var me=(0,w.Z)(ne,4),ve=me[0],we=me[1],Ie=me[2],Te=me[3];return y((ve+Ie)/2,(we+Te)/2)},Ce=function(ne,me,ve){var we=ie(ne),Ie=M(we,ae(me)),Te=M(we,ae(ve)),ze=pe(Ie,Te),We=ne.height/ne.width,He=ne.width/2,Ye=ne.height/2,et=ze[2],at=ze[3],$e=ze[1],tt=Math.abs(at),ct=Math.abs(et);switch(ne.type){case"rectangle":case"image":case"text":return $e/(He*(ct+We*tt));case"diamond":return tt<ct?$e/(ct*He):$e/(tt*Ye);case"ellipse":return $e/(He*Math.sqrt(Math.pow(et,2)+Math.pow(We,2)*Math.pow(at,2)))}},Pe=function(ne,me,ve){if(me===0){var we=(0,s.qf)(ne),Ie=(0,w.Z)(we,4),Te=Ie[0],ze=Ie[1],We=Ie[2],He=Ie[3],Ye=ue([Te,ze,We,He]);return de(Ye)}var et,at=ie(ne),$e=M(at,ae(ve)),tt=c(at);switch(ne.type){case"rectangle":case"image":case"text":case"diamond":et=Ke(ne,me,$e);break;case"ellipse":et=Je(ne,me,$e)}return de(M(tt,et))},B=function(ne,me,ve){var we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Ie=ie(ne),Te=M(Ie,ae(me)),ze=M(Ie,ae(ve)),We=pe(Te,ze),He=c(Ie),Ye=Y(ne,We,Te,we);return Ye.map(function(et){return de(M(He,et))})},Y=function(ne,me,ve){var we,Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(ne.type){case"rectangle":case"image":case"text":case"diamond":var Te=$(ne);we=Te.flatMap(function(We,He){var Ye=[We,Te[(He+1)%4]];return xe(me,Oe(Ye,Ie))}).concat(Te.flatMap(function(We){return Fe(We,Ie,me)}));break;case"ellipse":we=Ze(ne,Ie,me)}if(we.length<2)return[];var ze=we.sort(function(We,He){return C(We,ve)-C(He,ve)});return[ze[0],ze[ze.length-1]]},$=function(ne){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ve=me*ne.width/2,we=me*ne.height/2;switch(ne.type){case"rectangle":case"image":case"text":return[y(ve,we),y(ve,-we),y(-ve,-we),y(-ve,we)];case"diamond":return[y(0,we),y(ve,0),y(0,-we),y(-ve,0)]}},xe=function(ne,me){var ve=(0,w.Z)(me,2),we=ve[0],Ie=ve[1];return J(we,ne)*J(Ie,ne)>=0?[]:[ye(ne,pe(we,Ie))]},Oe=function(ne,me){var ve=(0,w.Z)(ne,2),we=ve[0],Ie=ve[1],Te=function(ze,We){var He=.5*We;return[1,0,0,0,He*ze[4],He*ze[5],0,0]}(function(ze,We){return le([0,0,0,0,We[4]-ze[4],We[5]-ze[5],0,0])}(we,Ie),me);return[M(Te,we),M(Te,Ie)]},Ze=function(ne,me,ve){var we=ne.width/2+me,Ie=ne.height/2+me,Te=ve[2],ze=ve[3],We=ve[1],He=we*we*Te*Te+Ie*Ie*ze*ze,Ye=He-We*We;if(He===0||Ye<=0)return[];var et=Math.sqrt(Ye),at=-we*we*Te*We,$e=-Ie*Ie*ze*We;return[y((at+we*Ie*ze*et)/He,($e-we*Ie*Te*et)/He),y((at-we*Ie*ze*et)/He,($e+we*Ie*Te*et)/He)]},Fe=function(ne,me,ve){if(me===0)return J(ve,ne)===0?[ne]:[];var we=ve[2],Ie=ve[3],Te=ve[1],ze=de(ne),We=(0,w.Z)(ze,2),He=We[0],Ye=We[1],et=we*we+Ie*Ie,at=me*me*et-Math.pow(we*He+Ie*Ye+Te,2);if(et===0||at<=0)return[];var $e=Math.sqrt(at),tt=He*Ie*Ie-Ye*we*Ie-we*Te,ct=Ye*we*we-He*we*Ie-Ie*Te;return[y((tt+Ie*$e)/et,(ct-we*$e)/et),y((tt-Ie*$e)/et,(ct+we*$e)/et)]},Je=function(ne,me,ve){var we=Math.abs(me),Ie=ne.width*we/2,Te=ne.height*we/2,ze=Math.sign(me),We=de(ve),He=(0,w.Z)(We,2),Ye=He[0],et=He[1],at=et===0?1e-4:et,$e=Math.pow(Ye,2)*Math.pow(Te,2)+Math.pow(at,2)*Math.pow(Ie,2),tt=(-Ye*Math.pow(Te,2)+ze*at*Math.sqrt(Math.max(0,$e-Math.pow(Ie,2)*Math.pow(Te,2))))/$e,ct=(-tt*Ye-1)/at,Et=-Math.pow(Ie,2)*tt/(Math.pow(ct,2)*Math.pow(Te,2)+Math.pow(tt,2)*Math.pow(Ie,2));return y(Et,(-tt*Et-1)/ct)},Ke=function(ne,me,ve){var we=Math.abs(me),Ie=Math.sign(me),Te=$(ne,we),ze=0,We=null;return Te.forEach(function(He){var Ye=Ie*pe(ve,He)[1];Ye>ze&&(ze=Ye,We=He)}),We},Be=function(ne,me,ve,we){var Ie,Te=[],ze=!1,We=T((0,s.CM)(ne));try{for(We.s();!(Ie=We.n()).done;){var He=Ie.value;He.op==="move"?(ze=!ze)&&Te.push([He.data[0],He.data[1]]):He.op==="bcurveTo"?ze&&(Te.push([He.data[0],He.data[1]]),Te.push([He.data[2],He.data[3]]),Te.push([He.data[4],He.data[5]])):He.op==="lineTo"&&ze&&Te.push([He.data[0],He.data[1]])}}catch(et){We.e(et)}finally{We.f()}if(Te.length>=4){if(we==="sharp")return(0,v.c9)(Te,me,ve);var Ye=(0,u.s)(Te,10,5);return(0,v.c9)(Ye,me,ve)}return!1},Le=function(ne,me,ve,we){var Ie=(0,s.CM)(ne),Te=[0,0];return Ie.some(function(ze,We){var He=ze.op,Ye=ze.data;if(He==="move")Te=Ye;else{if(He==="bcurveTo"){var et=[Ye[0],Ye[1]],at=[Ye[2],Ye[3]],$e=[Ye[4],Ye[5]],tt=Te;Te=$e;var ct=function(Et,Pt,_t,vt,yt,ft){for(var St=(0,w.Z)(yt,2),Yt=St[0],qt=St[1],Ct=function(ot,it){return Math.pow(1-ot,3)*vt[it]+3*ot*Math.pow(1-ot,2)*_t[it]+3*Math.pow(ot,2)*(1-ot)*Pt[it]+Et[it]*Math.pow(ot,3)},At=0;At<=1;){var Ne=Ct(At,0),Ue=Ct(At,1);if(Math.sqrt(Math.pow(Ne-Yt,2)+Math.pow(Ue-qt,2))<ft)return!0;At+=.01}return!1}(tt,et,at,$e,[me,ve],we);return ct}if(He==="lineTo")return Be(ne,me,ve,"sharp");He==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(ge,Q,t){t.d(Q,{PK:function(){return G},Xx:function(){return le},bp:function(){return se},oA:function(){return k}});var w=t(2577),y=t(7169),f=t(8950),c=t(2975),j=t.n(c),A=t(2335),R=t(8211),n=t(1974);function Z(pe,Ee){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(pe);Ee&&(de=de.filter(function(ye){return Object.getOwnPropertyDescriptor(pe,ye).enumerable})),ae.push.apply(ae,de)}return ae}function H(pe){for(var Ee=1;Ee<arguments.length;Ee++){var ae=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?Z(Object(ae),!0).forEach(function(de){(0,y.Z)(pe,de,ae[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ae)):Z(Object(ae)).forEach(function(de){Object.defineProperty(pe,de,Object.getOwnPropertyDescriptor(ae,de))})}return pe}var G=function(pe){return new Promise(function(Ee,ae){var de=new Image;de.onload=function(){Ee(de)},de.onerror=function(ye){ae(ye)},de.src=pe})},le=function(){var pe=(0,f.Z)(j().mark(function Ee(ae){var de,ye,C,J,g;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return de=ae.fileIds,ye=ae.files,C=ae.imageCache,J=new Map,g=new Map,m.next=5,Promise.all(de.reduce(function(M,v){var u=ye[v];return u&&!J.has(v)?(J.set(v,!0),M.concat((0,f.Z)(j().mark(function s(){var o,e,a;return j().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,u.mimeType!==A.LO.binary){i.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return o=G(u.dataURL),e={image:o,mimeType:u.mimeType},C.set(v,e),i.next=8,o;case 8:a=i.sent,C.set(v,H(H({},e),{},{image:a})),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(0),g.set(v,!0);case 15:case"end":return i.stop()}},s,null,[[0,12]])}))())):M},[]));case 5:return m.abrupt("return",{imageCache:C,updatedFiles:J,erroredFiles:g});case 6:case"end":return m.stop()}},Ee)}));return function(Ee){return pe.apply(this,arguments)}}(),k=function(pe){return pe.filter(function(Ee){return(0,n.wi)(Ee)})},se=function(){var pe=(0,f.Z)(j().mark(function Ee(ae){var de,ye,C,J,g,m,M;return j().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(de=new DOMParser().parseFromString(ae,A.LO.svg),ye=de.querySelector("svg"),!de.querySelector("parsererror")&&((u=ye)==null?void 0:u.nodeName.toLowerCase())==="svg"){v.next=7;break}throw new Error((0,R.t)("errors.invalidSVGString"));case 7:return ye.hasAttribute("xmlns")||ye.setAttribute("xmlns",A.hR),ye.hasAttribute("width")&&ye.hasAttribute("height")||(C=ye.getAttribute("viewBox"),J=ye.getAttribute("width")||"50",g=ye.getAttribute("height")||"50",C&&(m=C.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(M=(0,w.Z)(m,3),J=M[1],g=M[2]),ye.setAttribute("width",J),ye.setAttribute("height",g)),v.abrupt("return",ye.outerHTML);case 10:case"end":return v.stop()}var u},Ee)}));return function(Ee){return pe.apply(this,arguments)}}()},1047:function(ge,Q,t){t.d(Q,{ox:function(){return G.ox},BQ:function(){return fe},_M:function(){return q},EJ:function(){return o},o8:function(){return v},Sy:function(){return Z.Sy},os:function(){return H.os},KP:function(){return H.KP},Un:function(){return C},$V:function(){return s},qf:function(){return H.qf},Pi:function(){return H.Pi},jt:function(){return ae},o4:function(){return R},Lm:function(){return te},Qp:function(){return n},T:function(){return J.T},xx:function(){return J.xx},Uo:function(){return T},n2:function(){return de},PC:function(){return G.PC},kK:function(){return G.kK},n_:function(){return X},wX:function(){return le.wX},r2:function(){return f.r2},wB:function(){return le.wB},QD:function(){return j},qP:function(){return N},iB:function(){return f.iB},Up:function(){return Z.Up},vw:function(){return Z.vw},y8:function(){return Z.y8},VL:function(){return Z.VL},oN:function(){return m.oN},JZ:function(){return Z.JZ},RT:function(){return i},b_:function(){return e.b_},vY:function(){return J.vY},N_:function(){return Z.N_}});var w=t(7169),y=t(1935),f=t(1974),c=t(2335),j=function(F){return(0,f.bt)(F)||(0,f.F9)(F)?F.points.length<2:F.width===0&&F.height===0},A=function(F,h,_){var W=Math.abs(h),I=Math.abs(_);if(F==="line"||F==="arrow"||F==="freedraw"){var re=Math.round(Math.atan(I/W)/c.ay)*c.ay;re===0?_=0:re===Math.PI/2?h=0:_=W*Math.tan(re)*Math.sign(_)||_}else F!=="selection"&&(_=W*Math.sign(_));return{width:h,height:_}},R=function(F,h,_,W){var I=_-F,re=W-h,O=Math.round(Math.atan(re/I)/c.ay)*c.ay;if(O===0)re=0;else if(O===Math.PI/2)I=0;else{var E=Math.tan(O),b=h-E*F,d=-1/E,x=W-d*_;I=(-1*x- -1*b)/(-1*E- -1*d)-F,re=(b*d-x*E)/(-1*E- -1*d)-h}return{width:I,height:re}},n=function(F){var h={width:F.width,height:F.height,x:F.x,y:F.y};if(F.width<0){var _=Math.abs(F.width);h.width=_,h.x=F.x-_}if(F.height<0){var W=Math.abs(F.height);h.height=W,h.y=F.y-W}return h},Z=t(2791),H=t(8925),G=t(267),le=t(2325),k=t(2577),se=t(2726),pe=["rotation"],Ee=function(F,h,_){return h>=F[0]&&h<=F[0]+F[2]&&_>=F[1]&&_<=F[1]+F[3]},ae=function(F,h,_,W,I,re){return F.reduce(function(O,E){if(O)return O;var b=function(d,x,P,U,D,ce){if(!x.selectedElementIds[d.id])return!1;var ie=(0,G.PC)(d,D,ce),ue=ie.rotation,Ce=(0,se.Z)(ie,pe);if(ue&&Ee(ue,P,U))return"rotation";var Pe=Object.keys(Ce).filter(function(B){var Y=Ce[B];return!!Y&&Ee(Y,P,U)});return Pe.length>0&&Pe[0]}(E,h,_,W,I,re);return b?{element:E,transformHandleType:b}:null},null)},de=function(F,h,_,W,I){var re=(0,k.Z)(F,4),O=re[0],E=re[1],b=re[2],d=re[3],x=(0,G.kK)([O,E,b,d,(O+b)/2,(E+d)/2],0,W,I,G.ox);return Object.keys(x).find(function(P){var U=x[P];return U&&Ee(U,h,_)})||!1},ye=["ns","nesw","ew","nwse"],C=function(F){var h=F.element,_=F.transformHandleType,W=h&&Math.sign(h.height)*Math.sign(h.width)==-1,I=null;switch(_){case"n":case"s":I="ns";break;case"w":case"e":I="ew";break;case"nw":case"se":I=W?"nesw":"nwse";break;case"ne":case"sw":I=W?"nwse":"nesw";break;case"rotation":return"grab"}return I&&h&&(I=function(re,O){var E=ye.indexOf(re);if(E>=0){var b=Math.round(O/(Math.PI/4));re=ye[(E+b)%ye.length]}return re}(I,h.angle)),I?"".concat(I,"-resize"):""},J=t(8634),g=t(8290),m=t(5710),M=t(242),v=function(F,h,_,W){var I=arguments.length>4&&arguments[4]!==void 0&&arguments[4],re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,O=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,E=arguments.length>7?arguments[7]:void 0,b=(0,H.KP)(h),d=(0,k.Z)(b,2),x=d[0],P=d[1],U={x:_-x,y:W-P};h.forEach(function(D){if(u(I,re,O,F,D,U),!D.groupIds.length||E.editingGroupId&&!(0,M.zq)(E,D)){var ce=(0,m.WJ)(D);ce&&u(I,re,O,F,ce,U)}(0,g.Ww)(D,{simultaneouslyUpdated:h})})},u=function(F,h,_,W,I,re){var O,E;if(F){var b=F&&h<_,d=F&&h>_,x=W.originalElements.get(I.id);O=b&&x?x.x:I.x+re.x,E=d&&x?x.y:I.y+re.y}else O=I.x+re.x,E=I.y+re.y;(0,y.DR)(I,{x:O,y:E})},s=function(F,h,_){var W=(0,H.KP)(F),I=(0,k.Z)(W,2);return[h-I[0],_-I[1]]},o=function(F,h,_,W,I,re,O,E,b,d,x){if(b&&F.type!=="selection")if(x)E=O/x;else{if(Math.abs(re-W)>Math.abs(I-_)){var P=A(h,E,I<_?-O:O);O=P.width,E=P.height}else{var U=A(h,O,re<W?-E:E);O=U.width,E=U.height}E<0&&(E=-E)}var D=I<_?_-O:_,ce=re<W?W-E:W;d&&(D=_-(O+=O)/2,ce=W-(E+=E)/2),O!==0&&E!==0&&(0,y.DR)(F,{x:D,y:ce,width:O,height:E})},e=t(6906),a=t(75),i=function(F,h){return Boolean(!F.viewModeEnabled&&F.activeTool.type!=="custom"&&(F.editingElement||F.activeTool.type!=="selection"&&F.activeTool.type!=="eraser"&&F.activeTool.type!=="hand")||(0,a.eD)(h,F).length)};function l(F,h){var _=Object.keys(F);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(F);h&&(W=W.filter(function(I){return Object.getOwnPropertyDescriptor(F,I).enumerable})),_.push.apply(_,W)}return _}function p(F){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?l(Object(_),!0).forEach(function(W){(0,w.Z)(F,W,_[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(_)):l(Object(_)).forEach(function(W){Object.defineProperty(F,W,Object.getOwnPropertyDescriptor(_,W))})}return F}var T=function(F){return F.reduce(function(h,_){return h+_.version},0)},X=function(F){return F.filter(function(h){return!h.isDeleted&&!j(h)})},te=function(F){return F.filter(function(h){return!h.isDeleted})},N=function(F){return!F.isDeleted},L=function(F){return te(F).map(function(h){return(0,f.dt)(h.type)?p(p({},h),{},{lastCommittedPoint:null}):h})},fe=function(F){return L(F)},q=function(F){return L(F)}},6938:function(ge,Q,t){t.d(Q,{_:function(){return m}});var w=t(1930),y=t(7169),f=t(2577),c=t(8821),j=t(5169),A=t(6552),R=t(1047),n=t(8925),Z=t(1935),H=t(1564),G=t(8290),le=t(6340),k=t(1974),se=t(6066),pe=t(5710),Ee=t(3063),ae=t(2335);function de(v,u){var s=typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(!s){if(Array.isArray(v)||(s=function(p,T){if(!!p){if(typeof p=="string")return ye(p,T);var X=Object.prototype.toString.call(p).slice(8,-1);if(X==="Object"&&p.constructor&&(X=p.constructor.name),X==="Map"||X==="Set")return Array.from(p);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ye(p,T)}}(v))||u&&v&&typeof v.length=="number"){s&&(v=s);var o=0,e=function(){};return{s:e,n:function(){return o>=v.length?{done:!0}:{done:!1,value:v[o++]}},e:function(p){throw p},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,i=!0,l=!1;return{s:function(){s=s.call(v)},n:function(){var p=s.next();return i=p.done,p},e:function(p){l=!0,a=p},f:function(){try{i||s.return==null||s.return()}finally{if(l)throw a}}}}function ye(v,u){(u==null||u>v.length)&&(u=v.length);for(var s=0,o=new Array(u);s<u;s++)o[s]=v[s];return o}function C(v,u){var s=Object.keys(v);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(v);u&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(v,e).enumerable})),s.push.apply(s,o)}return s}function J(v){for(var u=1;u<arguments.length;u++){var s=arguments[u]!=null?arguments[u]:{};u%2?C(Object(s),!0).forEach(function(o){(0,y.Z)(v,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(o){Object.defineProperty(v,o,Object.getOwnPropertyDescriptor(s,o))})}return v}var g={version:null,points:[],zoom:null},m=function(){function v(u,s){(0,c.Z)(this,v),this.elementId=u.id,H.Z.mapElementToScene(this.elementId,s),v.normalizePoints(u),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,j.Z)(v,null,[{key:"getElement",value:function(u){var s,o=(s=H.Z.getScene(u))===null||s===void 0?void 0:s.getNonDeletedElement(u);return o||null}},{key:"handleBoxSelection",value:function(u,s,o){var e;if(!s.editingLinearElement||((e=s.draggingElement)===null||e===void 0?void 0:e.type)!=="selection")return!1;var a=s.editingLinearElement,i=a.selectedPointsIndices,l=a.elementId,p=v.getElement(l);if(!p)return!1;var T=(0,R.qf)(s.draggingElement),X=(0,f.Z)(T,4),te=X[0],N=X[1],L=X[2],fe=X[3],q=v.getPointsGlobalCoordinates(p).reduce(function(F,h,_){return(h[0]>=te&&h[0]<=L&&h[1]>=N&&h[1]<=fe||u.shiftKey&&i!=null&&i.includes(_))&&F.push(_),F},[]);o({editingLinearElement:J(J({},a),{},{selectedPointsIndices:q.length?q:null})})}},{key:"handlePointDragging",value:function(u,s,o,e,a,i){if(!i)return!1;var l=i.selectedPointsIndices,p=i.elementId,T=v.getElement(p);if(!T)return!1;var X=T.points[i.pointerDownState.lastClickedPoint];if(l&&X){if((0,se.Ge)(u)&&l.length===1&&T.points.length>1){var te=l[0],N=T.points[te===0?1:te-1],L=v._getShiftLockedDelta(T,N,[o,e],s.gridSize),fe=(0,f.Z)(L,2),q=fe[0],F=fe[1];v.movePoints(T,[{index:te,point:[q+N[0],F+N[1]],isDragging:te===i.pointerDownState.lastClickedPoint}])}else{var h=v.createPointAt(T,o-i.pointerOffset.x,e-i.pointerOffset.y,s.gridSize),_=h[0]-X[0],W=h[1]-X[1];v.movePoints(T,l.map(function(O){return{index:O,point:O===i.pointerDownState.lastClickedPoint?v.createPointAt(T,o-i.pointerOffset.x,e-i.pointerOffset.y,s.gridSize):[T.points[O][0]+_,T.points[O][1]+W],isDragging:O===i.pointerDownState.lastClickedPoint}})),(0,pe.WJ)(T)&&(0,pe.RB)(T,!1)}if((0,k.Mn)(T,!1)){var I=[];l[0]===0&&I.push((0,le.AK)(v.getPointGlobalCoordinates(T,T.points[0])));var re=l[l.length-1];re===T.points.length-1&&I.push((0,le.AK)(v.getPointGlobalCoordinates(T,T.points[re]))),I.length&&a(T,I)}return!0}return!1}},{key:"handlePointerUp",value:function(u,s,o){var e,a=s.elementId,i=s.selectedPointsIndices,l=s.isDragging,p=s.pointerDownState,T=v.getElement(a);if(!T)return s;var X={};if(l&&i){var te,N=de(i);try{for(N.s();!(te=N.n()).done;){var L=te.value;if(L===0||L===T.points.length-1){(0,A.g6)(T.points,o.zoom.value)&&v.movePoints(T,[{index:L,point:L===0?T.points[T.points.length-1]:T.points[0]}]);var fe=(0,G.N1)(o)?(0,G.Y9)((0,le.AK)(v.getPointAtIndexGlobalCoordinates(T,L)),H.Z.getScene(T)):null;X[L===0?"startBindingElement":"endBindingElement"]=fe}}}catch(q){N.e(q)}finally{N.f()}}return J(J(J({},s),X),{},{selectedPointsIndices:l||u.shiftKey?!l&&u.shiftKey&&(e=p.prevSelectedPointsIndices)!==null&&e!==void 0&&e.includes(p.lastClickedPoint)?i&&i.filter(function(q){return q!==p.lastClickedPoint}):i:i!=null&&i.includes(p.lastClickedPoint)?[p.lastClickedPoint]:i,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(u,s,o,e){var a=(0,A.LW)(s[0],s[1],o[0],o[1]);return u.points.length>2&&u.roundness&&(a=(0,A.eH)(u,o)),a*e.value<4*v.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(u,s,o,e){var a=(0,A.H5)(s,o);if(u.points.length>2&&u.roundness){var i=(0,A.yB)(u,u.points[e]);if(i){var l=(0,A.lk)(u,u.points[e],.5),p=(0,A.N_)(i[0],i[1],i[2],i[3],l),T=(0,f.Z)(p,2),X=T[0],te=T[1];a=v.getPointGlobalCoordinates(u,[X,te])}}return a}},{key:"getSegmentMidPointIndex",value:function(u,s,o){var e=v.getElement(u.elementId);if(!e)return-1;for(var a=v.getEditorMidPoints(e,s),i=0;i<a.length;){if(v.arePointsEqual(o,a[i]))return i+1;i++}return-1}},{key:"handlePointerDown",value:function(u,s,o,e,a){var i,l={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!a)return l;var p=a.elementId,T=v.getElement(p);if(!T)return l;var X=v.getSegmentMidpointHitCoords(a,e,s),te=null;if(X&&(te=v.getSegmentMidPointIndex(a,s,X)),u.altKey&&s.editingLinearElement)return a.lastUncommittedPoint==null&&((0,Z.DR)(T,{points:[].concat((0,w.Z)(T.points),[v.createPointAt(T,e.x,e.y,s.gridSize)])}),l.didAddPoint=!0),o.resumeRecording(),l.linearElementEditor=J(J({},a),{},{pointerDownState:{prevSelectedPointsIndices:a.selectedPointsIndices,lastClickedPoint:-1,origin:{x:e.x,y:e.y},segmentMidpoint:{value:X,index:te,added:!1}},selectedPointsIndices:[T.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,G.Y9)(e,H.Z.getScene(T))}),l.didAddPoint=!0,l;var N=v.getPointIndexUnderCursor(T,s.zoom,e.x,e.y);if(N>=0||X)l.hitElement=T;else{var L=a.startBindingElement,fe=a.endBindingElement;(0,G.N1)(s)&&(0,k.Mn)(T)&&(0,G.HG)(T,L,fe)}var q=(0,R.qf)(T),F=(0,f.Z)(q,4),h=F[0],_=F[1],W=(h+F[2])/2,I=(_+F[3])/2,re=N>-1&&(0,A.U1)(T.x+T.points[N][0],T.y+T.points[N][1],W,I,T.angle),O=N>-1||u.shiftKey?u.shiftKey||(i=a.selectedPointsIndices)!==null&&i!==void 0&&i.includes(N)?M([].concat((0,w.Z)(a.selectedPointsIndices||[]),[N])):[N]:null;return l.linearElementEditor=J(J({},a),{},{pointerDownState:{prevSelectedPointsIndices:a.selectedPointsIndices,lastClickedPoint:N,origin:{x:e.x,y:e.y},segmentMidpoint:{value:X,index:te,added:!1}},selectedPointsIndices:O,pointerOffset:re?{x:e.x-re[0],y:e.y-re[1]}:{x:0,y:0}}),l}},{key:"arePointsEqual",value:function(u,s){return!u&&!s||!(!u||!s)&&(0,A.Jj)(u,s)}},{key:"handlePointerMove",value:function(u,s,o,e){if(!e.editingLinearElement)return null;var a=e.editingLinearElement,i=a.elementId,l=a.lastUncommittedPoint,p=v.getElement(i);if(!p)return e.editingLinearElement;var T,X=p.points,te=X[X.length-1];if(!u.altKey)return te===l&&v.deletePoints(p,[X.length-1]),J(J({},e.editingLinearElement),{},{lastUncommittedPoint:null});if((0,se.Ge)(u)&&X.length>=2){var N=X[X.length-2],L=v._getShiftLockedDelta(p,N,[s,o],e.gridSize),fe=(0,f.Z)(L,2),q=fe[0],F=fe[1];T=[q+N[0],F+N[1]]}else T=v.createPointAt(p,s-e.editingLinearElement.pointerOffset.x,o-e.editingLinearElement.pointerOffset.y,e.gridSize);return te===l?v.movePoints(p,[{index:p.points.length-1,point:T}]):v.addPoints(p,e,[{point:T}]),J(J({},e.editingLinearElement),{},{lastUncommittedPoint:p.points[p.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(u,s){var o=(0,R.qf)(u),e=(0,f.Z)(o,4),a=e[0],i=e[1],l=(a+e[2])/2,p=(i+e[3])/2,T=u.x,X=u.y,te=(0,A.U1)(T+s[0],X+s[1],l,p,u.angle),N=(0,f.Z)(te,2);return[T=N[0],X=N[1]]}},{key:"getPointsGlobalCoordinates",value:function(u){var s=(0,R.qf)(u),o=(0,f.Z)(s,4),e=o[0],a=o[1],i=o[2],l=o[3],p=(e+i)/2,T=(a+l)/2;return u.points.map(function(X){var te=u.x,N=u.y,L=(0,A.U1)(te+X[0],N+X[1],p,T,u.angle),fe=(0,f.Z)(L,2);return[te=fe[0],N=fe[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(u,s){var o=s<0?u.points.length+s:s,e=(0,R.qf)(u),a=(0,f.Z)(e,4),i=a[0],l=a[1],p=(i+a[2])/2,T=(l+a[3])/2,X=u.points[o],te=u.x,N=u.y;return X?(0,A.U1)(te+X[0],N+X[1],p,T,u.angle):(0,A.U1)(te,N,p,T,u.angle)}},{key:"pointFromAbsoluteCoords",value:function(u,s){var o=(0,R.qf)(u),e=(0,f.Z)(o,4),a=e[0],i=e[1],l=(a+e[2])/2,p=(i+e[3])/2,T=(0,A.U1)(s[0],s[1],l,p,-u.angle),X=(0,f.Z)(T,2),te=X[0],N=X[1];return[te-u.x,N-u.y]}},{key:"getPointIndexUnderCursor",value:function(u,s,o,e){for(var a=v.getPointsGlobalCoordinates(u),i=a.length;--i>-1;){var l=a[i];if((0,A.LW)(o,e,l[0],l[1])*s.value<v.POINT_HANDLE_SIZE+1)return i}return-1}},{key:"createPointAt",value:function(u,s,o,e){var a=(0,A.wC)(s,o,e),i=(0,R.qf)(u),l=(0,f.Z)(i,4),p=l[0],T=l[1],X=(p+l[2])/2,te=(T+l[3])/2,N=(0,A.U1)(a[0],a[1],X,te,-u.angle),L=(0,f.Z)(N,2),fe=L[0],q=L[1];return[fe-u.x,q-u.y]}},{key:"getNormalizedPoints",value:function(u){var s=u.points,o=s[0][0],e=s[0][1];return{points:s.map(function(a,i){return[a[0]-o,a[1]-e]}),x:u.x+o,y:u.y+e}}},{key:"normalizePoints",value:function(u){(0,Z.DR)(u,v.getNormalizedPoints(u))}},{key:"duplicateSelectedPoints",value:function(u){if(!u.editingLinearElement)return!1;var s=u.editingLinearElement,o=s.selectedPointsIndices,e=s.elementId,a=v.getElement(e);if(!a||o===null)return!1;var i=a.points,l=[],p=!1,T=-1,X=i.reduce(function(N,L,fe){if(++T,N.push(L),o.includes(fe)){var q=i[fe+1];q||(p=!0),N.push(q?[(L[0]+q[0])/2,(L[1]+q[1])/2]:[L[0],L[1]]),l.push(T+1),++T}return N},[]);if((0,Z.DR)(a,{points:X}),p){var te=a.points[a.points.length-1];v.movePoints(a,[{index:a.points.length-1,point:[te[0]+30,te[1]+30]}])}return{appState:J(J({},u),{},{editingLinearElement:J(J({},u.editingLinearElement),{},{selectedPointsIndices:l})})}}},{key:"deletePoints",value:function(u,s){var o=0,e=0;if(s.includes(0)){var a=u.points.find(function(l,p){return!s.includes(p)});a&&(o=a[0],e=a[1])}var i=u.points.reduce(function(l,p,T){return s.includes(T)||l.push(l.length?[p[0]-o,p[1]-e]:[0,0]),l},[]);v._updatePoints(u,i,o,e)}},{key:"addPoints",value:function(u,s,o){var e=[].concat((0,w.Z)(u.points),(0,w.Z)(o.map(function(a){return a.point})));v._updatePoints(u,e,0,0)}},{key:"movePoints",value:function(u,s,o){var e=u.points,a=0,i=0,l=s.find(function(T){return T.index===0});l&&(a=l.point[0]+e[l.index][0],i=l.point[1]+e[l.index][1]);var p=e.map(function(T,X){var te=s.find(function(fe){return fe.index===X});if(te){if(l)return T;var N=te.point[0]-e[te.index][0],L=te.point[1]-e[te.index][1];return[T[0]+N,T[1]+L]}return a||i?[T[0]-a,T[1]-i]:T});v._updatePoints(u,p,a,i,o)}},{key:"shouldAddMidpoint",value:function(u,s,o){if(!v.getElement(u.elementId))return!1;var e=u.pointerDownState.segmentMidpoint;if(e.added||e.value===null||e.index===null||u.pointerDownState.origin===null)return!1;var a=u.pointerDownState.origin,i=(0,A.LW)(a.x,a.y,s.x,s.y);return!(!o.editingLinearElement&&i<ae.f/o.zoom.value)}},{key:"addMidpoint",value:function(u,s,o){var e=v.getElement(u.elementId);if(e){var a=u.pointerDownState.segmentMidpoint,i={pointerDownState:u.pointerDownState,selectedPointsIndices:u.selectedPointsIndices},l=v.createPointAt(e,s.x,s.y,o.gridSize),p=[].concat((0,w.Z)(e.points.slice(0,a.index)),[l],(0,w.Z)(e.points.slice(a.index)));return(0,Z.DR)(e,{points:p}),i.pointerDownState=J(J({},u.pointerDownState),{},{segmentMidpoint:J(J({},u.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:a.index}),i.selectedPointsIndices=[a.index],i}}},{key:"_updatePoints",value:function(u,s,o,e,a){var i=(0,n.Ut)(u,s),l=(0,n.Ut)(u,u.points),p=(i[0]+i[2])/2,T=(i[1]+i[3])/2,X=(l[0]+l[2])/2-p,te=(l[1]+l[3])/2-T,N=(0,A.U1)(o,e,X,te,u.angle);(0,Z.DR)(u,J(J({},a),{},{points:s,x:u.x+N[0],y:u.y+N[1]}))}},{key:"_getShiftLockedDelta",value:function(u,s,o,e){var a=v.getPointGlobalCoordinates(u,s),i=(0,A.wC)(o[0],o[1],e),l=(0,f.Z)(i,2),p=l[0],T=l[1],X=(0,R.o4)(a[0],a[1],p,T),te=X.width,N=X.height;return(0,A.xj)([te,N],[0,0],-u.angle)}}]),v}();m.POINT_HANDLE_SIZE=10,m.getEditorMidPoints=function(v,u){var s=(0,pe.WJ)(v);return!u.editingLinearElement&&v.points.length>2&&!s?[]:(g.version===v.version&&g.zoom===u.zoom.value||m.updateEditorMidPointsCache(v,u),g.points)},m.updateEditorMidPointsCache=function(v,u){for(var s=m.getPointsGlobalCoordinates(v),o=0,e=[];o<s.length-1;)if(m.isSegmentTooShort(v,v.points[o],v.points[o+1],u.zoom))e.push(null),o++;else{var a=m.getSegmentMidPoint(v,s[o],s[o+1],o+1);e.push(a),o++}g.points=e,g.version=v.version,g.zoom=u.zoom.value},m.getSegmentMidpointHitCoords=function(v,u,s){var o=v.elementId,e=m.getElement(o);if(!e||m.getPointIndexUnderCursor(e,s.zoom,u.x,u.y)>=0||m.getPointsGlobalCoordinates(e).length>=3&&!s.editingLinearElement)return null;var a=m.POINT_HANDLE_SIZE/s.zoom.value,i=v.segmentMidPointHoveredCoords;if(i&&(0,A.LW)(i[0],i[1],u.x,u.y)<=a)return i;for(var l=0,p=m.getEditorMidPoints(e,s);l<p.length;){if(p[l]!==null&&(0,A.LW)(p[l][0],p[l][1],u.x,u.y)<=a)return p[l];l++}return null},m.getBoundTextElementPosition=function(v,u){var s=m.getPointsGlobalCoordinates(v);s.length<2&&(0,Z.DR)(u,{isDeleted:!0});var o=0,e=0;if(v.points.length%2==1){var a=Math.floor(v.points.length/2),i=m.getPointGlobalCoordinates(v,v.points[a]);o=i[0]-u.width/2,e=i[1]-u.height/2}else{var l=v.points.length/2-1,p=g.points[l];v.points.length===2&&(p=(0,A.H5)(s[0],s[1])),p&&g.version===v.version||(p=m.getSegmentMidPoint(v,s[l],s[l+1],l+1)),o=p[0]-u.width/2,e=p[1]-u.height/2}return{x:o,y:e}},m.getMinMaxXYWithBoundText=function(v,u,s){var o=(0,f.Z)(u,4),e=o[0],a=o[1],i=o[2],l=o[3],p=(e+i)/2,T=(a+l)/2,X=m.getBoundTextElementPosition(v,s),te=X.x,N=X.y,L=te+s.width,fe=N+s.height,q=(0,A.xj)([e,a],[p,T],v.angle),F=(0,A.xj)([i,a],[p,T],v.angle),h=(0,A.xj)([te,N],[p,T],-v.angle),_=(0,A.xj)([L,N],[p,T],-v.angle),W=(0,A.xj)([te,fe],[p,T],-v.angle),I=(0,A.xj)([L,fe],[p,T],-v.angle);return q[0]<F[0]&&q[1]>=F[1]?(e=Math.min(e,W[0]),i=Math.max(i,Math.max(_[0],I[0])),a=Math.min(a,h[1]),l=Math.max(l,I[1])):q[0]>=F[0]&&q[1]>F[1]?(e=Math.min(e,I[0]),i=Math.max(i,Math.max(h[0],_[0])),a=Math.min(a,W[1]),l=Math.max(l,_[1])):q[0]>=F[0]?(e=Math.min(e,_[0]),i=Math.max(i,W[0]),a=Math.min(a,I[1]),l=Math.max(l,h[1])):q[1]<=F[1]&&(e=Math.min(e,Math.min(_[0],h[0])),i=Math.max(i,I[0]),a=Math.min(a,_[1]),l=Math.max(l,W[1])),[e,a,i,l,p,T]},m.getElementAbsoluteCoords=function(v){var u,s,o,e,a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(v.points.length<2||!(0,Ee.R2)(v)){var l=v.points.reduce(function(E,b){var d=(0,f.Z)(b,2),x=d[0],P=d[1];return E.minY=Math.min(E.minY,P),E.minX=Math.min(E.minX,x),E.maxX=Math.max(E.maxX,x),E.maxY=Math.max(E.maxY,P),E},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),p=l.minX,T=l.minY,X=l.maxX,te=l.maxY;s=p+v.x,o=T+v.y,e=X+v.x,a=te+v.y}else{var N=(0,Ee.R2)(v),L=(0,n.CM)(N[0]),fe=(0,n.IX)(L),q=(0,f.Z)(fe,4),F=q[0],h=q[1],_=q[2],W=q[3];s=F+v.x,o=h+v.y,e=_+v.x,a=W+v.y}var I=(s+e)/2,re=(o+a)/2;if(u=[s,o,e,a,I,re],!i)return u;var O=(0,pe.WJ)(v);return O&&(u=m.getMinMaxXYWithBoundText(v,[s,o,e,a],O)),u};var M=function(v){var u=(0,w.Z)(new Set(v.filter(function(s){return s!==null&&s!==-1})));return(u=u.sort(function(s,o){return s-o})).length?u:null}},1935:function(ge,Q,t){t.d(Q,{BE:function(){return G},DR:function(){return H},ZP:function(){return le}});var w=t(6655),y=t(7169),f=t(3063),c=t(1564),j=t(5001),A=t(6954),R=t(6340);function n(k,se){var pe=Object.keys(k);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(k);se&&(Ee=Ee.filter(function(ae){return Object.getOwnPropertyDescriptor(k,ae).enumerable})),pe.push.apply(pe,Ee)}return pe}function Z(k){for(var se=1;se<arguments.length;se++){var pe=arguments[se]!=null?arguments[se]:{};se%2?n(Object(pe),!0).forEach(function(Ee){(0,y.Z)(k,Ee,pe[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(pe)):n(Object(pe)).forEach(function(Ee){Object.defineProperty(k,Ee,Object.getOwnPropertyDescriptor(pe,Ee))})}return k}var H=function(k,se){var pe,Ee=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ae=!1,de=se,ye=de.points,C=de.fileId;for(var J in ye!==void 0&&(se=Z(Z({},(0,j.k)(ye)),se)),se){var g=se[J];if(g!==void 0){if(k[J]===g&&((0,w.Z)(g)!=="object"||g===null||J==="groupIds"||J==="scale"))continue;if(J==="scale"){var m=k[J],M=g;if(m[0]===M[0]&&m[1]===M[1])continue}else if(J==="points"){var v=k[J],u=g;if(v.length===u.length){for(var s=!1,o=v.length;--o;){var e=v[o],a=u[o];if(e[0]!==a[0]||e[1]!==a[1]){s=!0;break}}if(!s)continue}}k[J]=g,ae=!0}}return ae&&(se.height===void 0&&se.width===void 0&&C===void 0&&ye===void 0||(0,f.bI)(k),k.version++,k.versionNonce=(0,A.LU)(),k.updated=(0,R.C3)(),Ee&&((pe=c.Z.getScene(k))===null||pe===void 0||pe.informMutation())),k},G=function(k,se){var pe=!1;for(var Ee in se){var ae=se[Ee];if(ae!==void 0){if(k[Ee]===ae&&((0,w.Z)(ae)!=="object"||ae===null))continue;pe=!0}}return pe?Z(Z(Z({},k),se),{},{updated:(0,R.C3)(),version:k.version+1,versionNonce:(0,A.LU)()}):k},le=function(k,se){return k.version=(se!=null?se:k.version)+1,k.versionNonce=(0,A.LU)(),k.updated=(0,R.C3)(),k}},2791:function(ge,Q,t){t.d(Q,{JZ:function(){return m},KE:function(){return s},N2:function(){return v},N_:function(){return u},OL:function(){return a},Sy:function(){return i},Up:function(){return ye},VL:function(){return J},jd:function(){return M},vw:function(){return e},y8:function(){return o}});var w=t(6655),y=t(2577),f=t(7169),c=t(2726),j=t(6340),A=t(6954),R=t(1935),n=t(242),Z=t(1047),H=t(6552),G=t(8925),le=t(5710),k=t(2335),se=t(1974),pe=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function Ee(l,p){var T=Object.keys(l);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(l);p&&(X=X.filter(function(te){return Object.getOwnPropertyDescriptor(l,te).enumerable})),T.push.apply(T,X)}return T}function ae(l){for(var p=1;p<arguments.length;p++){var T=arguments[p]!=null?arguments[p]:{};p%2?Ee(Object(T),!0).forEach(function(X){(0,f.Z)(l,X,T[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(T)):Ee(Object(T)).forEach(function(X){Object.defineProperty(l,X,Object.getOwnPropertyDescriptor(T,X))})}return l}var de=function(l,p){var T,X,te=p.x,N=p.y,L=p.strokeColor,fe=p.backgroundColor,q=p.fillStyle,F=p.strokeWidth,h=p.strokeStyle,_=p.roughness,W=p.opacity,I=p.width,re=I===void 0?0:I,O=p.height,E=O===void 0?0:O,b=p.angle,d=b===void 0?0:b,x=p.groupIds,P=x===void 0?[]:x,U=p.roundness,D=U===void 0?null:U,ce=p.boundElements,ie=ce===void 0?null:ce,ue=p.link,Ce=ue===void 0?null:ue,Pe=p.locked,B=(0,c.Z)(p,pe);return{id:B.id||(0,A.kb)(),type:l,x:te,y:N,width:re,height:E,angle:d,strokeColor:L,backgroundColor:fe,fillStyle:q,strokeWidth:F,strokeStyle:h,roughness:_,opacity:W,groupIds:P,roundness:D,seed:(T=B.seed)!==null&&T!==void 0?T:(0,A.LU)(),version:B.version||1,versionNonce:(X=B.versionNonce)!==null&&X!==void 0?X:0,isDeleted:!1,boundElements:ie,updated:(0,j.C3)(),link:Ce,locked:Pe}},ye=function(l){return de(l.type,l)},C=function(l,p){return{x:l.textAlign==="center"?p.width/2:l.textAlign==="right"?p.width:0,y:l.verticalAlign==="middle"?p.height/2:0}},J=function(l){var p=(0,le.bG)(l.text),T=(0,le.X1)(p,(0,j.mO)(l)),X=C(l,T);return(0,R.BE)(ae(ae({},de("text",l)),{},{text:p,fontSize:l.fontSize,fontFamily:l.fontFamily,textAlign:l.textAlign,verticalAlign:l.verticalAlign,x:l.x-X.x,y:l.y-X.y,width:T.width,height:T.height,baseline:T.baseline,containerId:l.containerId||null,originalText:p}),{})},g=function(l,p){var T=null,X=(0,le.tl)(l);X&&(T=M(X));var te,N,L=(0,le.X1)(p,(0,j.mO)(l),T),fe=L.width,q=L.height,F=L.baseline,h=l.textAlign,_=l.verticalAlign;if(h!=="center"||_!==k.oX.MIDDLE||l.containerId){var W=(0,Z.qf)(l),I=(0,y.Z)(W,4),re=I[0],O=I[1],E=I[2],b=I[3],d=(0,G.wC)(l,fe,q,!1),x=(0,y.Z)(d,4),P=(re-x[0])/2,U=(O-x[1])/2,D=(E-x[2])/2,ce=(b-x[3])/2,ie=(0,H.yq)({s:!0,e:h==="center"||h==="left",w:h==="center"||h==="right"},l.x,l.y,l.angle,P,U,D,ce),ue=(0,y.Z)(ie,2);te=ue[0],N=ue[1]}else{var Ce=(0,le.X1)(l.text,(0,j.mO)(l),T),Pe=C(l,{width:fe-Ce.width,height:q-Ce.height});te=l.x-Pe.x,N=l.y-Pe.y}if(X){var B=(0,le.S)(l),Y=(0,le.HE)(X),$=Y.height,xe=Y.width;q>$-2*B&&($=q+2*B),fe>xe-2*B&&(xe=fe+2*B),(0,se.Yv)(X)||$===Y.height&&xe===Y.width||(0,R.DR)(X,{height:$,width:xe})}return{width:fe,height:q,x:Number.isFinite(te)?te:l.x,y:Number.isFinite(N)?N:l.y,baseline:F}},m=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.text,T=(0,le.tl)(l);T&&(p=(0,le.lD)(p,(0,j.mO)(l),M(T)));var X=g(l,p);return ae({text:p},X)},M=function(l){var p=(0,le.HE)(l).width;if((0,se.Yv)(l)){var T=p-8*k.gK*2;if(T<=0){var X=(0,le.WJ)(l);return X?X.width:8*k.gK*2}return T}return p-2*k.gK},v=function(l){var p=(0,le.HE)(l).height;if((0,se.Yv)(l)){if(p-8*k.gK*2<=0){var T=(0,le.WJ)(l);return T?T.height:8*k.gK*2}return p}return p-2*k.gK},u=function(l,p){p.text;var T=p.isDeleted,X=p.originalText;return(0,R.BE)(l,ae({originalText:X,isDeleted:T!=null?T:l.isDeleted},m(l,X)))},s=function(l){return ae(ae({},de(l.type,l)),{},{points:l.points||[],pressures:[],simulatePressure:l.simulatePressure,lastCommittedPoint:null})},o=function(l){return ae(ae({},de(l.type,l)),{},{points:l.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:l.startArrowhead,endArrowhead:l.endArrowhead})},e=function(l){var p,T,X;return ae(ae({},de("image",l)),{},{strokeColor:"transparent",status:(p=l.status)!==null&&p!==void 0?p:"pending",fileId:(T=l.fileId)!==null&&T!==void 0?T:null,scale:(X=l.scale)!==null&&X!==void 0?X:[1,1]})},a=function l(p){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p==null||(0,w.Z)(p)!=="object")return p;if(Object.prototype.toString.call(p)==="[object Object]"){var X=typeof p.constructor=="function"?Object.create(Object.getPrototypeOf(p)):{};for(var te in p)if(p.hasOwnProperty(te)){if(T===0&&(te==="shape"||te==="canvas"))continue;X[te]=l(p[te],T+1)}return X}if(Array.isArray(p)){for(var N=p.length,L=new Array(N);N--;)L[N]=l(p[N],T+1);return L}return p},i=function(l,p,T,X){var te,N,L=a(T);return(0,j.h2)()?(L.id="".concat(L.id,"_copy"),(te=window.h)!==null&&te!==void 0&&(N=te.app)!==null&&N!==void 0&&N.getSceneElementsIncludingDeleted().find(function(fe){return fe.id===L.id})&&(L.id+="_copy")):L.id=(0,A.kb)(),L.boundElements=null,L.updated=(0,j.C3)(),L.seed=(0,A.LU)(),L.groupIds=(0,n.Qy)(L.groupIds,l,function(fe){return p.has(fe)||p.set(fe,(0,A.kb)()),p.get(fe)}),X&&(L=Object.assign(L,X)),L}},8634:function(ge,Q,t){t.d(Q,{LW:function(){return Ee},T:function(){return v},l2:function(){return J},vY:function(){return ae},xx:function(){return M}});var w=t(7169),y=t(1930),f=t(2577),c=t(2335),j=t(5001),A=t(6552),R=t(8925),n=t(1974),Z=t(1935),H=t(6340),G=t(8290),le=t(1564),k=t(5710),se=t(2791);function pe(u,s){var o=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);s&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),o.push.apply(o,e)}return o}var Ee=function(u){return u>=2*Math.PI?u-2*Math.PI:u},ae=function(u,s,o,e,a,i,l,p,T,X,te){if(o.length===1){var N=(0,f.Z)(o,1)[0];return s==="rotation"?(de(N,p,T,a,u.originalElements),(0,G.Ww)(N)):!(0,n.iB)(N)||s!=="nw"&&s!=="ne"&&s!=="sw"&&s!=="se"?s&&J(u.originalElements,l,N,s,i,p,T):(C(N,s,i,p,T),(0,G.Ww)(N)),!0}if(o.length>1){if(s==="rotation")return m(u,o,p,T,a,X,te),!0;if(s==="nw"||s==="ne"||s==="sw"||s==="se")return g(u,o,s,i,p,T),!0}return!1},de=function(u,s,o,e,a){var i=(0,R.qf)(u),l=(0,f.Z)(i,4),p=l[0],T=l[1],X=(p+l[2])/2,te=(T+l[3])/2,N=5*Math.PI/2+Math.atan2(o-te,s-X);e&&(N+=c.ay/2,N-=N%c.ay),N=Ee(N);var L=(0,k.xB)(u);if((0,Z.DR)(u,{angle:N}),L){var fe,q=(fe=le.Z.getScene(u))===null||fe===void 0?void 0:fe.getElement(L);q&&!(0,n.Yv)(u)&&(0,Z.DR)(q,{angle:N})}},ye=function(u,s,o){var e=u.width;if((0,n.Xh)(u)){var a=(0,k.tl)(u);a&&(e=(0,se.jd)(a))}var i=u.fontSize*(s/e);if(i<1)return null;var l=(0,k.X1)(u.text,(0,H.mO)({fontSize:i,fontFamily:u.fontFamily}),u.containerId?e:null);return{size:i,baseline:l.baseline+(o-l.height)}},C=function(u,s,o,e,a){var i,l=(0,R.qf)(u),p=(0,f.Z)(l,4),T=p[0],X=p[1],te=p[2],N=p[3],L=(T+te)/2,fe=(X+N)/2,q=(0,A.U1)(e,a,L,fe,-u.angle),F=(0,f.Z)(q,2),h=F[0],_=F[1];switch(s){case"se":i=Math.max((h-T)/(te-T),(_-X)/(N-X));break;case"nw":i=Math.max((te-h)/(te-T),(N-_)/(N-X));break;case"ne":i=Math.max((h-T)/(te-T),(N-_)/(N-X));break;case"sw":i=Math.max((te-h)/(te-T),(_-X)/(N-X))}if(i>0){var W=u.width*i,I=u.height*i,re=ye(u,W,I);if(re===null)return;var O=(0,R.wC)(u,W,I,!1),E=(0,f.Z)(O,4),b=(T-E[0])/2,d=(X-E[1])/2,x=(te-E[2])/2,P=(N-E[3])/2,U=(0,A.yq)(function(ue,Ce){return{n:/^(n|ne|nw)$/.test(ue)||Ce&&/^(s|se|sw)$/.test(ue),s:/^(s|se|sw)$/.test(ue)||Ce&&/^(n|ne|nw)$/.test(ue),w:/^(w|nw|sw)$/.test(ue)||Ce&&/^(e|ne|se)$/.test(ue),e:/^(e|ne|se)$/.test(ue)||Ce&&/^(w|nw|sw)$/.test(ue)}}(s,o),u.x,u.y,u.angle,b,d,x,P),D=(0,f.Z)(U,2),ce=D[0],ie=D[1];(0,Z.DR)(u,{fontSize:re.size,width:W,height:I,baseline:re.baseline,x:ce,y:ie})}},J=function(u,s,o,e,a,i,l){var p=u.get(o.id),T=(0,R.wC)(p,p.width,p.height,!0),X=(0,f.Z)(T,4),te=[X[0],X[1]],N=[X[2],X[3]],L=(0,A.H5)(te,N),fe=(0,A.xj)([i,l],L,-p.angle),q=(0,R.wC)(o,o.width,o.height,!0),F=(0,f.Z)(q,4),h=F[0],_=F[1],W=F[2]-h,I=F[3]-_,re=(N[0]-te[0])/W,O=(N[1]-te[1])/I,E={},b=(0,k.WJ)(o);e.includes("e")&&(re=(fe[0]-te[0])/W),e.includes("s")&&(O=(fe[1]-te[1])/I),e.includes("w")&&(re=(N[0]-fe[0])/W),e.includes("n")&&(O=(N[1]-fe[1])/I);var d=p.width,x=p.height,P=o.width*re,U=o.height*O;if(a&&(P=2*P-d,U=2*U-x),s){var D=Math.abs(P)/d,ce=Math.abs(U)/x;if(e.length===1&&(U*=D,P*=ce),e.length===2){var ie=Math.max(D,ce);P=d*ie*Math.sign(P),U=x*ie*Math.sign(U)}}if(b){var ue=u.get(b.id);if(ue&&(E={fontSize:ue.fontSize,baseline:ue.baseline}),s){var Ce=(0,k.S)(b),Pe=ye(b,P-2*Ce,U-2*Ce);if(Pe===null)return;E={fontSize:Pe.size,baseline:Pe.baseline}}else{var B=(0,k.AT)((0,H.mO)(b)),Y=(0,k.w_)((0,H.mO)(b));P=Math.ceil(Math.max(P,B)),U=Math.ceil(Math.max(U,Y))}}var $=(0,R.wC)(p,P,U,!0),xe=(0,f.Z)($,4),Oe=xe[0],Ze=xe[1],Fe=xe[2],Je=xe[3],Ke=Fe-Oe,Be=Je-Ze,Le=[].concat(te);if(["n","w","nw"].includes(e)&&(Le=[N[0]-Math.abs(Ke),N[1]-Math.abs(Be)]),e==="ne"){var ne=[te[0],N[1]];Le=[ne[0],ne[1]-Math.abs(Be)]}if(e==="sw"){var me=[N[0],te[1]];Le=[me[0]-Math.abs(Ke),me[1]]}s&&(["s","n"].includes(e)&&(Le[0]=L[0]-Ke/2),["e","w"].includes(e)&&(Le[1]=L[1]-Be/2)),P<0&&(e.includes("e")&&(Le[0]-=Math.abs(Ke)),e.includes("w")&&(Le[0]+=Math.abs(Ke))),U<0&&(e.includes("s")&&(Le[1]-=Math.abs(Be)),e.includes("n")&&(Le[1]+=Math.abs(Be))),a&&(Le[0]=L[0]-Math.abs(Ke)/2,Le[1]=L[1]-Math.abs(Be)/2);var ve,we,Ie=p.angle,Te=(0,A.xj)(Le,L,Ie),ze=[Le[0]+Math.abs(Ke)/2,Le[1]+Math.abs(Be)/2],We=(0,A.xj)(ze,L,Ie);Le=(0,A.xj)(Te,We,-Ie),((0,n.bt)(o)||(0,n.F9)(o))&&(ve=(0,j.z)(1,U,p.points,!0),we=(0,j.z)(0,P,ve,!0));var He=(0,y.Z)(Le);He[0]+=p.x-Oe,He[1]+=p.y-Ze;var Ye={width:Math.abs(P),height:Math.abs(U),x:He[0],y:He[1],points:we};"scale"in o&&"scale"in p&&(0,Z.DR)(o,{scale:[(Math.sign(Fe-p.x)||p.scale[0])*p.scale[0],(Math.sign(Je-p.y)||p.scale[1])*p.scale[1]]}),Ye.width!==0&&Ye.height!==0&&Number.isFinite(Ye.x)&&Number.isFinite(Ye.y)&&((0,G.Ww)(o,{newSize:{width:Ye.width,height:Ye.height}}),(0,Z.DR)(o,Ye),b&&E&&(0,Z.DR)(b,{fontSize:E.fontSize}),(0,k.RB)(o,e))},g=function(u,s,o,e,a,i){var l=s.reduce(function(d,x){var P=u.originalElements.get(x.id);return P&&d.push({orig:P,latest:x}),d},[]),p=(0,R.v2)(l.map(function(d){return d.orig})),T=p.minX,X=p.minY,te=p.maxX,N=p.maxY,L=p.midX,fe=p.midY,q=o,F=e?[L,fe]:{ne:[T,N],se:[T,X],sw:[te,X],nw:[te,N]}[q],h=(0,f.Z)(F,2),_=h[0],W=h[1],I={ne:[a>=_,i<=W],se:[a>=_,i>=W],sw:[a<=_,i>=W],nw:[a<=_,i<=W]}[q].map(function(d){return d?1:-1}),re=(0,f.Z)(I,2),O=re[0],E=re[1];if(!(O<0&&E<0)){var b=Math.max(O*Math.abs(a-_)/(te-T),E*Math.abs(i-W)/(N-X))*(e?2:1);b!==0&&l.forEach(function(d){var x=d.orig.width*b,P=d.orig.height*b,U=_+(d.orig.x-_)*b,D=W+(d.orig.y-W)*b,ce=function(Y,$,xe,Oe){return(0,n.bt)(Y)||(0,n.F9)(Y)?{points:(0,j.z)(0,$,(0,j.z)(1,xe,Y.points,Oe),Oe)}:{}}(d.orig,x,P,!1),ie=function(Y){for(var $=1;$<arguments.length;$++){var xe=arguments[$]!=null?arguments[$]:{};$%2?pe(Object(xe),!0).forEach(function(Oe){(0,w.Z)(Y,Oe,xe[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(xe)):pe(Object(xe)).forEach(function(Oe){Object.defineProperty(Y,Oe,Object.getOwnPropertyDescriptor(xe,Oe))})}return Y}({width:x,height:P,x:U,y:D},ce),ue=null,Ce=(0,k.WJ)(d.latest);if(Ce||(0,n.iB)(d.orig)){var Pe=2*(0,k.S)(Ce),B=ye(Ce!=null?Ce:d.orig,x-Pe,P-Pe);if(!B)return;(0,n.iB)(d.orig)&&(ie.fontSize=B.size,ie.baseline=B.baseline),Ce&&(ue={fontSize:B.size,baseline:B.baseline})}(0,G.Ww)(d.latest,{newSize:{width:x,height:P}}),(0,Z.DR)(d.latest,ie),Ce&&ue&&((0,Z.DR)(Ce,ue),(0,k.RB)(d.latest,o))})}},m=function(u,s,o,e,a,i,l){var p=5*Math.PI/2+Math.atan2(e-l,o-i);a&&(p+=c.ay/2,p-=p%c.ay),s.forEach(function(T){var X,te,N=(0,R.qf)(T),L=(0,f.Z)(N,4),fe=L[0],q=L[1],F=(fe+L[2])/2,h=(q+L[3])/2,_=(X=(te=u.originalElements.get(T.id))===null||te===void 0?void 0:te.angle)!==null&&X!==void 0?X:T.angle,W=(0,A.U1)(F,h,i,l,p+_-T.angle),I=(0,f.Z)(W,2),re=I[0],O=I[1];(0,Z.DR)(T,{x:T.x+(re-F),y:T.y+(O-h),angle:Ee(p+_)});var E=(0,k.xB)(T);if(E){var b,d=(b=le.Z.getScene(T))===null||b===void 0?void 0:b.getElement(E);d&&!(0,n.Yv)(T)&&(0,Z.DR)(d,{x:d.x+(re-F),y:d.y+(O-h),angle:Ee(p+_)})}})},M=function(u,s,o,e){var a=s.length===1?(0,R.qf)(s[0]):(0,R.KP)(s),i=(0,f.Z)(a,4),l=i[0],p=i[1],T=i[2],X=i[3],te=(l+T)/2,N=(p+X)/2,L=s.length===1?s[0].angle:0,fe=(0,A.U1)(o,e,te,N,-L),q=(0,f.Z)(fe,2);switch(o=q[0],e=q[1],u){case"n":return(0,A.U1)(o-(l+T)/2,e-p,0,0,L);case"s":return(0,A.U1)(o-(l+T)/2,e-X,0,0,L);case"w":return(0,A.U1)(o-l,e-(p+X)/2,0,0,L);case"e":return(0,A.U1)(o-T,e-(p+X)/2,0,0,L);case"nw":return(0,A.U1)(o-l,e-p,0,0,L);case"ne":return(0,A.U1)(o-T,e-p,0,0,L);case"sw":return(0,A.U1)(o-l,e-X,0,0,L);case"se":return(0,A.U1)(o-T,e-X,0,0,L);default:return[0,0]}},v=function(u,s){var o=(0,f.Z)(s.points,2),e=(0,f.Z)(o[1],2),a=e[0],i=e[1];return u==="nw"&&(a<0||i<0)||u==="ne"&&a>=0||u==="sw"&&a<=0||u==="se"&&(a>0||i>0)?"end":"origin"}},5710:function(ge,Q,t){t.d(Q,{AT:function(){return e},HE:function(){return X},H_:function(){return N},OW:function(){return q},P7:function(){return de},RB:function(){return ye},S:function(){return L},TP:function(){return te},WJ:function(){return p},X1:function(){return J},Zr:function(){return F},bG:function(){return Ee},cn:function(){return fe},hP:function(){return M},lD:function(){return s},mY:function(){return u},oN:function(){return ae},tl:function(){return T},w_:function(){return a},xB:function(){return l}});var w,y,f=t(2577),c=t(1930),j=t(6340),A=t(1935),R=t(2335),n=t(1564),Z=t(1047),H=t(2791),G=t(1974),le=t(6938),k=t(75),se=t(2325),pe=t(6906),Ee=function(h){return h.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},ae=function(h,_){var W=void 0,I=h.text;_&&(W=(0,H.jd)(_),I=s(h.originalText,(0,j.mO)(h),W));var re=J(I,(0,j.mO)(h),W),O=h.y,E=h.x;if(_)if((0,G.Yv)(_)){var b=h.x+h.width/2,d=h.y+h.height/2,x=re.width-h.width,P=re.height-h.height;O=d-(h.height+P)/2,E=b-(h.width+x)/2}else{var U=X(_),D=U.height;h.verticalAlign===R.oX.TOP?O=_.y:h.verticalAlign===R.oX.BOTTOM?O=_.y+U.height-re.height-R.gK:(O=_.y+U.height/2-re.height/2,re.height>(0,H.N2)(_)&&(D=re.height+2*R.gK,O=_.y+D/2-re.height/2)),E=h.textAlign===R.I8.LEFT?_.x+R.gK:h.textAlign===R.I8.RIGHT?_.x+U.width-re.width-R.gK:_.x+U.width/2-re.width/2,(0,pe.h_)(_.id,D),(0,A.DR)(_,{height:D})}(0,A.DR)(h,{width:re.width,height:re.height,baseline:re.baseline,y:O,x:E,text:I})},de=function(h,_,W){var I=(0,j.xn)(h);_.forEach(function(re){var O=W.get(re.id),E=l(re);if(E){var b=W.get(E);if(b){var d=I.get(O);d&&(0,A.DR)(d,{boundElements:(d.boundElements||[]).concat({type:"text",id:b})});var x=I.get(b);x&&(0,Z.iB)(x)&&(0,A.DR)(x,{containerId:d?O:null})}}})},ye=function(h,_){var W=l(h);if(W){(0,pe.kT)(h.id);var I=n.Z.getScene(h).getElement(W);if(I&&I.text){if(!h)return;var re=(I=n.Z.getScene(h).getElement(W)).text,O=I.height,E=I.width,b=X(h),d=(0,H.jd)(h),x=(0,H.N2)(h),P=b.height,U=I.baseline;if(_!=="n"&&_!=="s"){re&&(re=s(I.originalText,(0,j.mO)(I),d));var D=J(re,(0,j.mO)(I),d);O=D.height,E=D.width,U=D.baseline}if(O>x){var ce=(P=O+2*L(I))-b.height,ie=(0,G.Yv)(h)||_!=="ne"&&_!=="nw"&&_!=="n"?h.y:h.y-ce;(0,A.DR)(h,{height:P,y:ie})}(0,A.DR)(I,{text:re,width:E,height:O,baseline:U}),(0,G.Yv)(h)||C(h,I)}}},C=function(h,_){var W,I=X(h),re=L(_);W=_.verticalAlign===R.oX.TOP?h.y+re:_.verticalAlign===R.oX.BOTTOM?h.y+I.height-_.height-re:h.y+I.height/2-_.height/2;var O=_.textAlign===R.I8.LEFT?h.x+re:_.textAlign===R.I8.RIGHT?h.x+I.width-_.width-re:h.x+I.width/2-_.width/2;(0,A.DR)(_,{x:O,y:W})},J=function(h,_,W){h=h.split(`
`).map(function(x){return x||" "}).join(`
`);var I=document.createElement("div");if(I.style.position="absolute",I.style.whiteSpace="pre",I.style.font=_,I.style.minHeight="1em",W){var re=M(_);I.style.maxWidth="".concat(W+1,"px"),I.style.overflow="hidden",I.style.wordBreak="break-word",I.style.lineHeight="".concat(String(re),"px"),I.style.whiteSpace="pre-wrap"}document.body.appendChild(I),I.innerText=h;var O=document.createElement("span");O.style.display="inline-block",O.style.overflow="hidden",O.style.width="1px",O.style.height="1px",I.appendChild(O);var E=O.offsetTop+O.offsetHeight,b=I.offsetWidth+1,d=I.offsetHeight;return document.body.removeChild(I),(0,j.h2)()?{width:b,height:d,baseline:E,container:I}:{width:b,height:d,baseline:E}},g="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),m={},M=function(h){return m[h]||(m[h]=J(g,h,null).height),m[h]},v=function(h,_){w||(w=document.createElement("canvas"));var W=w.getContext("2d");W.font=_;var I=W.measureText(h);return(0,j.h2)()?10*I.width:I.width+.2},u=function(h,_){var W=h.split(`
`),I=0;return W.forEach(function(re){I=Math.max(I,v(re,_))}),I},s=function(h,_,W){var I=[],re=h.split(`
`),O=v(" ",_),E=function(b){b.trim()&&I.push(b)};return re.forEach(function(b){var d=b.split(" ");if(d.length!==1||d[0]!==""){for(var x="",P=0,U=0;U<d.length;)if(v(d[U],_)>=W){for(E(x),x="",P=0;d[U].length>0;){var D=String.fromCodePoint(d[U].codePointAt(0)),ce=o.calculate(D,_);P+=ce,d[U]=d[U].slice(D.length),P>=W?(x.slice(-1)===" "&&(x=x.slice(0,-1)),E(x),x=D,P=ce):x+=D}P+O>=W?(E(x),x="",P=0):(x+=" ",P+=O),U++}else{for(;P<W&&U<d.length;){var ie=d[U];if((P=v(x+ie,_))>=W){E(x),P=0,x="";break}if(U++,x+="".concat(ie," "),P+O>=W){var ue=x.slice(0,-1);E(ue),x="",P=0;break}}P===W&&(x="",P=0)}x&&(x.slice(-1)===" "&&(x=x.slice(0,-1)),E(x))}else I.push(d[0])}),I.join(`
`)},o=(y={},{calculate:function(h,_){var W=h.charCodeAt(0);if(y[_]||(y[_]=[]),!y[_][W]){var I=v(h,_);y[_][W]=I}return y[_][W]},getCache:function(h){return y[h]}}),e=function(h){var _=i(h);return _===0?J(g.split("").join(`
`),h).width+2*R.gK:_+2*R.gK},a=function(h){return M(h)+2*R.gK},i=function(h){var _=o.getCache(h);if(!_)return 0;var W=_.filter(function(I){return I!==void 0});return Math.max.apply(Math,(0,c.Z)(W))},l=function(h){var _,W,I;return h!=null&&(_=h.boundElements)!==null&&_!==void 0&&_.length&&(h==null||(W=h.boundElements)===null||W===void 0||(I=W.filter(function(re){return re.type==="text"})[0])===null||I===void 0?void 0:I.id)||null},p=function(h){if(!h)return null;var _,W=l(h);return W&&((_=n.Z.getScene(h))===null||_===void 0?void 0:_.getElement(W))||null},T=function(h){return h&&h.containerId&&((_=n.Z.getScene(h))===null||_===void 0?void 0:_.getElement(h.containerId))||null;var _},X=function(h){return(0,G.Yv)(h)?{width:Math.max(h.width,300),height:h.height}:{width:h.width,height:h.height}},te=function(h,_){if(!(0,G.Yv)(h))return{x:h.x+h.width/2,y:h.y+h.height/2};var W=le._.getPointsGlobalCoordinates(h);if(W.length%2==1){var I=Math.floor(h.points.length/2),re=le._.getPointGlobalCoordinates(h,h.points[I]);return{x:re[0],y:re[1]}}var O=h.points.length/2-1,E=le._.getEditorMidPoints(h,_)[O];return E||(E=le._.getSegmentMidPoint(h,W[O],W[O+1],O+1)),{x:E[0],y:E[1]}},N=function(h){var _=T(h);return!_||(0,G.Yv)(_)?h.angle:_.angle},L=function(h){var _=T(h);return _?(0,G.Yv)(_)?8*R.gK:R.gK:0},fe=function(h){return h.some(function(_){if((0,G.Xh)(_)){var W=T(_);return!(0,Z.iB)(_)||!(0,G.Yv)(W)}return!!p(_)&&!(0,G.Yv)(_)})},q=function(h,_,W,I){var re=(0,k.eD)(h,_);if(re.length===1)return(0,G.mG)(re[0],!1)?re[0]:null;for(var O=null,E=h.length-1;E>=0;--E)if(!h[E].isDeleted){var b=(0,Z.qf)(h[E]),d=(0,f.Z)(b,4),x=d[0],P=d[1],U=d[2],D=d[3];if((0,G.Yv)(h[E])&&(0,se.Qu)(h[E],_,[W,I])){O=h[E];break}if(x<W&&W<U&&P<I&&I<D){O=h[E];break}}return(0,G.mG)(O,!1)?O:null},F=function(h){return h.type==="rectangle"||h.type==="ellipse"||h.type==="diamond"||(0,G.pC)(h)||(0,G.Yv)(h)}},6906:function(ge,Q,t){t.d(Q,{b_:function(){return g},eR:function(){return J},h_:function(){return ye},kT:function(){return C}});var w=t(8950),y=t(2577),f=t(2975),c=t.n(f),j=t(6066),A=t(6340),R=t(1564),n=t(1974),Z=t(2335),H=t(1935),G=t(5710),le=t(6208),k=t(2416),se=t(2791),pe=t(6938),Ee=t(6665),ae=function(m,M,v,u,s,o){var e=u.zoom,a=180*v/Math.PI,i=m*(e.value-1)/2,l=M*(e.value-1)/2;return m>s&&e.value!==1&&(i=s*(e.value-1)/2),M>o&&e.value!==1&&(l=o*(e.value-1)/2),"translate(".concat(i,"px, ").concat(l,"px) scale(").concat(e.value,") rotate(").concat(a,"deg)")},de={},ye=function(m,M){var v=de[m]||(de[m]={height:M});return v.height=M,v},C=function(m){de[m]&&delete de[m]},J=function(m){var M,v;return(M=(v=de[m])===null||v===void 0?void 0:v.height)!==null&&M!==void 0?M:null},g=function(m){var M=m.id,v=m.onChange,u=m.onSubmit,s=m.getViewportCoords,o=m.element,e=m.canvas,a=m.excalidrawContainer,i=m.app,l=function(){var d,x=i.state,P=(d=R.Z.getScene(o))===null||d===void 0?void 0:d.getElement(M);if(P){var U=P.textAlign,D=P.verticalAlign,ce=(0,G.hP)((0,A.mO)(P));if(P&&(0,n.iB)(P)){var ie=P.x,ue=P.y,Ce=(0,G.tl)(P),Pe=P.width,B=P.height,Y=P.width,$=P.height;if(Ce&&P.containerId){if((0,n.Yv)(Ce)){var xe=pe._.getBoundTextElementPosition(Ce,P);ie=xe.x,ue=xe.y}var Oe,Ze=function(et,at){if(!at.style.fontFamily||!at.style.fontSize)return!1;var $e=at.style.fontFamily.replace(/"/g,"");return(0,A.$g)({fontFamily:et.fontFamily})!==$e||"".concat(et.fontSize,"px")!==at.style.fontSize}(P,p),Fe=(0,G.HE)(Ce),Je=Number(p.style.height.slice(0,-2));if(Je>0&&($=Je),Ze&&($=P.height),Ze?Oe=ye(Ce.id,Fe.height):(Oe=de[Ce.id])||(Oe=ye(Ce.id,Fe.height)),Pe=(0,se.jd)(Ce),B=(0,se.N2)(Ce),!(0,n.Yv)(Ce)&&$>B){var Ke=Math.min($-B,ce);return void(0,H.DR)(Ce,{height:Fe.height+Ke})}if(!(0,n.Yv)(Ce)&&Fe.height>Oe.height&&$<B){var Be=Math.min(B-$,ce);(0,H.DR)(Ce,{height:Fe.height-Be})}else D===Z.oX.MIDDLE&&((0,n.Yv)(Ce)||(ue=Ce.y+Fe.height/2-$/2)),D===Z.oX.BOTTOM&&(ue=Ce.y+Fe.height-$-(0,G.S)(P))}var Le=s(ie,ue),ne=(0,y.Z)(Le,2),me=ne[0],ve=ne[1],we=p.selectionStart,Ie=p.selectionEnd,Te=p.value.length;if(p.value=P.originalText,we===Ie&&Ie!==Te){var ze=Te-Ie;p.selectionStart=p.value.length-ze,p.selectionEnd=p.value.length-ze}var We=P.originalText.split(`
`),He=P.containerId?ce:P.height/We.length;Ce||(Pe=(x.width-8-me)/x.zoom.value);var Ye=(x.height-ve)/x.zoom.value;Object.assign(p.style,{font:(0,A.mO)(P),lineHeight:"".concat(He,"px"),width:"".concat(Math.min(Y,Pe),"px"),height:"".concat($,"px"),left:"".concat(me,"px"),top:"".concat(ve,"px"),transform:ae(Y,$,(0,G.H_)(P),x,Pe,Ye),textAlign:U,verticalAlign:D,color:P.strokeColor,opacity:P.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(Ye,"px")}),(0,A.h2)()&&(p.style.fontFamily=(0,A.$g)(P)),(0,H.DR)(P,{x:ie,y:ue})}}},p=document.createElement("textarea");p.dir="auto",p.tabIndex=0,p.dataset.type="wysiwyg",p.wrap="off",p.classList.add("excalidraw-wysiwyg");var T="pre",X="normal";(0,n.Xh)(o)&&(T="pre-wrap",X="break-word"),Object.assign(p.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:X,whiteSpace:T,overflowWrap:"break-word",boxSizing:"content-box"}),l(),v&&(p.onpaste=function(){var d=(0,w.Z)(c().mark(function x(P){var U,D,ce,ie,ue,Ce;return c().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,(0,Ee.mQ)(P,!0);case 2:if((U=Pe.sent).text){Pe.next=5;break}return Pe.abrupt("return");case 5:if(D=(0,G.bG)(U.text)){Pe.next=8;break}return Pe.abrupt("return");case 8:ce=(0,G.tl)(o),ie=(0,A.mO)({fontSize:i.state.currentItemFontSize,fontFamily:i.state.currentItemFontFamily}),ce&&(ue=(0,G.lD)("".concat(p.value).concat(D),ie,(0,se.jd)(ce)),Ce=(0,G.mY)(ue,ie),p.style.width="".concat(Ce,"px"));case 11:case"end":return Pe.stop()}},x)}));return function(x){return d.apply(this,arguments)}}(),p.oninput=function(){var d,x=(d=R.Z.getScene(o))===null||d===void 0?void 0:d.getElement(M),P=(0,A.mO)(x),U=Math.round(p.scrollHeight/(0,G.hP)(P));if((0,n.Xh)(o)&&U>1){var D=(0,G.tl)(o),ce="auto";p.style.height="0px";var ie=!1;U===2&&(0,G.lD)(p.value,P,(0,se.jd)(D)).split(`
`).length===1&&(ce="".concat(p.scrollHeight/2,"px"),p.style.height=ce,ie=!0);var ue=(0,G.lD)((0,G.bG)(p.value),P,(0,se.jd)(D)),Ce=(0,G.mY)(ue,P);p.style.width="".concat(Ce,"px"),ie||(p.style.height="".concat(p.scrollHeight,"px"))}v((0,G.bG)(p.value))}),p.onkeydown=function(d){if(!d.shiftKey&&k.Lo.keyTest(d))d.preventDefault(),i.actionManager.executeAction(k.Lo),l();else if(!d.shiftKey&&k.CZ.keyTest(d))d.preventDefault(),i.actionManager.executeAction(k.CZ),l();else if(le.Tu.keyTest(d))i.actionManager.executeAction(le.Tu);else if(le.Zq.keyTest(d))i.actionManager.executeAction(le.Zq);else if(d.key===j.tW.ESCAPE)d.preventDefault(),h=!0,_();else if(d.key===j.tW.ENTER&&d[j.tW.CTRL_OR_CMD]){if(d.preventDefault(),d.isComposing||d.keyCode===229)return;h=!0,_()}else(d.key===j.tW.TAB||d[j.tW.CTRL_OR_CMD]&&(d.code===j.aU.BRACKET_LEFT||d.code===j.aU.BRACKET_RIGHT))&&(d.preventDefault(),d.shiftKey||d.code===j.aU.BRACKET_LEFT?fe():L(),p.dispatchEvent(new Event("input")))};var te=" ".repeat(4),N=new RegExp("^ {1,".concat(4,"}")),L=function(){var d=p.selectionStart,x=p.selectionEnd,P=q(),U=p.value;P.forEach(function(D){var ce=U.slice(0,D),ie=U.slice(D);U="".concat(ce).concat(te).concat(ie)}),p.value=U,p.selectionStart=d+4,p.selectionEnd=x+4*P.length},fe=function(){var d=p.selectionStart,x=p.selectionEnd,P=q(),U=[],D=p.value;P.forEach(function(ce){var ie=D.slice(ce,ce+4).match(N);if(ie){var ue=D.slice(0,ce),Ce=D.slice(ce+ie[0].length);D="".concat(ue).concat(Ce),U.push(ce)}}),p.value=D,U.length&&(d>U[U.length-1]?p.selectionStart=Math.max(d-4,U[U.length-1]):p.selectionStart=d,p.selectionEnd=Math.max(p.selectionStart,x-4*U.length))},q=function(){var d=p.selectionStart,x=p.selectionEnd,P=p.value,U=P.slice(0,d).match(/[^\n]*$/)[0].length;return d-=U,P.slice(d,x).split(`
`).reduce(function(D,ce,ie,ue){return D.concat(ie?D[ie-1]+ue[ie-1].length+1:d)},[]).reverse()},F=function(d){d.preventDefault(),d.stopPropagation()},h=!1,_=function(){var d;W();var x=(d=R.Z.getScene(o))===null||d===void 0?void 0:d.getElement(o.id);if(x){var P=p.value,U=(0,G.tl)(x);if(U)if(P=x.text,p.value.trim()){var D=(0,G.xB)(U);D&&D===o.id||(0,H.DR)(U,{boundElements:(U.boundElements||[]).concat({type:"text",id:o.id})})}else{var ce;(0,H.DR)(U,{boundElements:(ce=U.boundElements)===null||ce===void 0?void 0:ce.filter(function(ie){return!(0,n.iB)(ie)})})}u({text:P,viaKeyboard:h,originalText:p.value})}},W=function(){E||(E=!0,p.onblur=null,p.oninput=null,p.onkeydown=null,b&&b.disconnect(),window.removeEventListener("resize",l),window.removeEventListener("wheel",F,!0),window.removeEventListener("pointerdown",re),window.removeEventListener("pointerup",I),window.removeEventListener("blur",_),O(),p.remove())},I=function d(x){window.removeEventListener("pointerup",d);var P=x==null?void 0:x.target,U=P instanceof HTMLInputElement&&P.closest(".color-picker-input")&&(0,A.s)(P);setTimeout(function(){p.onblur=_,P&&U&&(P.onblur=function(){p.focus()}),U||p.focus()})},re=function(d){var x=d.target instanceof HTMLInputElement&&d.target.closest(".color-picker-input")&&(0,A.s)(d.target);((d.target instanceof HTMLElement||d.target instanceof SVGElement)&&d.target.closest(".".concat(Z.$C.SHAPE_ACTIONS_MENU))&&!(0,A.s)(d.target)||x)&&(p.onblur=null,window.addEventListener("pointerup",I),window.addEventListener("blur",_))},O=R.Z.getScene(o).addCallback(function(){var d;l(),!((d=document.activeElement)===null||d===void 0||!d.closest(".color-picker-input"))||p.focus()}),E=!1;p.select(),I();var b=null;e&&"ResizeObserver"in window?(b=new window.ResizeObserver(function(){l()})).observe(e):window.addEventListener("resize",l),window.addEventListener("pointerdown",re),window.addEventListener("wheel",F,{passive:!1,capture:!0}),a==null||a.querySelector(".excalidraw-textEditorContainer").appendChild(p)}},267:function(ge,Q,t){t.d(Q,{PC:function(){return se},kK:function(){return k},oY:function(){return pe},ox:function(){return n}});var w=t(2577),y=t(8925),f=t(6552),c=t(1047),j=t(1974),A=t(3547),R={mouse:8,pen:16,touch:28},n={e:!0,s:!0,n:!0,w:!0},Z={e:!0,s:!0,n:!0,w:!0},H={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},G={e:!0,s:!0,n:!0,w:!0},le=function(Ee,ae,de,ye,C,J,g){var m=(0,f.U1)(Ee+de/2,ae+ye/2,C,J,g),M=(0,w.Z)(m,2);return[M[0]-de/2,M[1]-ye/2,de,ye]},k=function(Ee,ae,de,ye){var C=(0,w.Z)(Ee,6),J=C[0],g=C[1],m=C[2],M=C[3],v=C[4],u=C[5],s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,e=R[ye],a=e/de.value,i=e/de.value,l=e/de.value,p=e/de.value,T=m-J,X=M-g,te=o/de.value,N=(e-2*A.Lu)/(2*de.value),L={nw:s.nw?void 0:le(J-te-l+N,g-te-p+N,a,i,v,u,ae),ne:s.ne?void 0:le(m+te-N,g-te-p+N,a,i,v,u,ae),sw:s.sw?void 0:le(J-te-l+N,M+te-N,a,i,v,u,ae),se:s.se?void 0:le(m+te-N,M+te-N,a,i,v,u,ae),rotation:s.rotation?void 0:le(J+T/2-a/2,g-te-p+N-16/de.value,a,i,v,u,ae)},fe=5*R.mouse/de.value;return Math.abs(T)>fe&&(s.n||(L.n=le(J+T/2-a/2,g-te-p+N,a,i,v,u,ae)),s.s||(L.s=le(J+T/2-a/2,M+te-N,a,i,v,u,ae))),Math.abs(X)>fe&&(s.w||(L.w=le(J-te-l+N,g+X/2-i/2,a,i,v,u,ae)),s.e||(L.e=le(m+te-N,g+X/2-i/2,a,i,v,u,ae))),L},se=function(Ee,ae){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(Ee.locked)return{};var ye={};if(Ee.type==="freedraw"||(0,j.bt)(Ee)){if(Ee.points.length===2){var C=(0,w.Z)(Ee.points,2),J=C[1];J[0]===0||J[1]===0?ye=G:J[0]>0&&J[1]<0?ye=H:J[0]>0&&J[1]>0?ye=G:J[0]<0&&J[1]>0?ye=H:J[0]<0&&J[1]<0&&(ye=G)}}else(0,c.iB)(Ee)&&(ye=Z);var g=(0,j.bt)(Ee)?A.Lu+8:A.Lu;return k((0,y.qf)(Ee,!0),Ee.angle,ae,de,ye,g)},pe=function(Ee,ae){if(ae.editingLinearElement)return!1;if(Ee.length>1)return!0;var de=Ee[0];return!(0,j.bt)(de)||de.points.length>2}},1974:function(ge,Q,t){t.d(Q,{F9:function(){return j},Lx:function(){return G},Mn:function(){return H},QI:function(){return ae},UQ:function(){return ye},Xh:function(){return Ee},Xo:function(){return pe},Yv:function(){return n},bt:function(){return R},dt:function(){return Z},eK:function(){return de},f0:function(){return le},iB:function(){return c},mG:function(){return k},pC:function(){return f},r2:function(){return se},wi:function(){return y}});var w=t(2335),y=function(C){return!!C&&C.type==="image"&&!!C.fileId},f=function(C){return!!C&&C.type==="image"},c=function(C){return C!=null&&C.type==="text"},j=function(C){return C!=null&&A(C.type)},A=function(C){return C==="freedraw"},R=function(C){return C!=null&&Z(C.type)},n=function(C){return C!=null&&C.type==="arrow"},Z=function(C){return C==="arrow"||C==="line"},H=function(C){var J=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return C!=null&&(!C.locked||J===!0)&&G(C.type)},G=function(C){return C==="arrow"},le=function(C){var J=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(C==null||C.locked&&J!==!0||C.type!=="rectangle"&&C.type!=="diamond"&&C.type!=="ellipse"&&C.type!=="image"&&(C.type!=="text"||C.containerId))},k=function(C){var J=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return C!=null&&(!C.locked||J===!0)&&(C.type==="rectangle"||C.type==="diamond"||C.type==="ellipse"||C.type==="image"||n(C))},se=function(C){return(C==null?void 0:C.type)==="text"||(C==null?void 0:C.type)==="diamond"||(C==null?void 0:C.type)==="rectangle"||(C==null?void 0:C.type)==="ellipse"||(C==null?void 0:C.type)==="arrow"||(C==null?void 0:C.type)==="freedraw"||(C==null?void 0:C.type)==="line"},pe=function(C){var J;return le(C)&&!((J=C.boundElements)===null||J===void 0||!J.some(function(g){return g.type==="text"}))},Ee=function(C){return C!==null&&"containerId"in C&&C.containerId!==null&&c(C)},ae=function(C){return C==="rectangle"},de=function(C,J){return!(C!==w.a6.ADAPTIVE_RADIUS&&C!==w.a6.LEGACY||!ae(J.type))||C===w.a6.PROPORTIONAL_RADIUS&&((g=J.type)==="line"||g==="arrow"||g==="diamond");var g},ye=function(C){return C.type==="arrow"||C.type==="line"||C.type==="diamond"?{type:w.a6.PROPORTIONAL_RADIUS}:C.type==="rectangle"?{type:w.a6.ADAPTIVE_RADIUS}:null}},6797:function(ge,Q,t){t.d(Q,{_:function(){return le},l:function(){return G}});var w=t(5169),y=t(8821),f=t(2248),c=t(7245),j=t(2312),A=t(5901);function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n(k,se,pe){return n=R()?Reflect.construct.bind():function(Ee,ae,de){var ye=[null];ye.push.apply(ye,ae);var C=new(Function.bind.apply(Ee,ye));return de&&(0,A.Z)(C,de.prototype),C},n.apply(null,arguments)}function Z(k){var se=typeof Map=="function"?new Map:void 0;return Z=function(pe){if(pe===null||(Ee=pe,Function.toString.call(Ee).indexOf("[native code]")===-1))return pe;var Ee;if(typeof pe!="function")throw new TypeError("Super expression must either be null or a function");if(se!==void 0){if(se.has(pe))return se.get(pe);se.set(pe,ae)}function ae(){return n(pe,arguments,(0,j.Z)(this).constructor)}return ae.prototype=Object.create(pe.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),(0,A.Z)(ae,pe)},Z(k)}function H(k){var se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,Ee=(0,j.Z)(k);if(se){var ae=(0,j.Z)(this).constructor;pe=Reflect.construct(Ee,arguments,ae)}else pe=Ee.apply(this,arguments);return(0,c.Z)(this,pe)}}var G=function(k){(0,f.Z)(pe,k);var se=H(pe);function pe(){var Ee,ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,y.Z)(this,pe),(Ee=se.call(this)).name=de,Ee.message=ae,Ee}return(0,w.Z)(pe)}(Z(Error)),le=function(k){(0,f.Z)(pe,k);var se=H(pe);function pe(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,y.Z)(this,pe),se.call(this,Ee,"AbortError")}return(0,w.Z)(pe)}(Z(DOMException))},242:function(ge,Q,t){t.d(Q,{AI:function(){return g},F$:function(){return H},Fb:function(){return ae},Nd:function(){return Ee},Qy:function(){return ye},S_:function(){return C},YS:function(){return de},bO:function(){return se},h6:function(){return J},iE:function(){return pe},iJ:function(){return k},yO:function(){return le},zq:function(){return G}});var w=t(1930),y=t(2577),f=t(7169),c=t(75),j=t(5710);function A(m,M){var v=typeof Symbol!="undefined"&&m[Symbol.iterator]||m["@@iterator"];if(!v){if(Array.isArray(m)||(v=function(i,l){if(!!i){if(typeof i=="string")return R(i,l);var p=Object.prototype.toString.call(i).slice(8,-1);if(p==="Object"&&i.constructor&&(p=i.constructor.name),p==="Map"||p==="Set")return Array.from(i);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return R(i,l)}}(m))||M&&m&&typeof m.length=="number"){v&&(m=v);var u=0,s=function(){};return{s,n:function(){return u>=m.length?{done:!0}:{done:!1,value:m[u++]}},e:function(i){throw i},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,e=!0,a=!1;return{s:function(){v=v.call(m)},n:function(){var i=v.next();return e=i.done,i},e:function(i){a=!0,o=i},f:function(){try{e||v.return==null||v.return()}finally{if(a)throw o}}}}function R(m,M){(M==null||M>m.length)&&(M=m.length);for(var v=0,u=new Array(M);v<M;v++)u[v]=m[v];return u}function n(m,M){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);M&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),v.push.apply(v,u)}return v}function Z(m){for(var M=1;M<arguments.length;M++){var v=arguments[M]!=null?arguments[M]:{};M%2?n(Object(v),!0).forEach(function(u){(0,f.Z)(m,u,v[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):n(Object(v)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(v,u))})}return m}var H=function(m,M,v){var u=v.filter(function(s){return s.groupIds.includes(m)});return u.length<2?M.selectedGroupIds[m]||M.editingGroupId===m?Z(Z({},M),{},{selectedGroupIds:Z(Z({},M.selectedGroupIds),{},(0,f.Z)({},m,!1)),editingGroupId:null}):M:Z(Z({},M),{},{selectedGroupIds:Z(Z({},M.selectedGroupIds),{},(0,f.Z)({},m,!0)),selectedElementIds:Z(Z({},M.selectedElementIds),Object.fromEntries(u.map(function(s){return[s.id,!0]})))})},G=function(m,M){return le(m,M)!=null},le=function(m,M){return M.groupIds.filter(function(v){return v!==m.editingGroupId}).find(function(v){return m.selectedGroupIds[v]})},k=function(m){return Object.entries(m.selectedGroupIds).filter(function(M){var v=(0,y.Z)(M,2);return v[0],v[1]}).map(function(M){var v=(0,y.Z)(M,2),u=v[0];return v[1],u})},se=function(m,M){var v=Z(Z({},m),{},{selectedGroupIds:{}}),u=(0,c.eD)(M,m);if(!u.length)return Z(Z({},v),{},{editingGroupId:null});var s,o=A(u);try{for(o.s();!(s=o.n()).done;){var e=s.value.groupIds;if(m.editingGroupId){var a=e.indexOf(m.editingGroupId);a>-1&&(e=e.slice(0,a))}if(e.length>0){var i=e[e.length-1];v=H(i,v,M)}}}catch(l){o.e(l)}finally{o.f()}return v},pe=function(m,M){return Z(Z({},m),{},{editingGroupId:M.groupIds.length?M.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,f.Z)({},M.id,!0)})},Ee=function(m,M){return m.groupIds.includes(M)},ae=function(m,M){return m.filter(function(v){return Ee(v,M)})},de=function(m,M){return m.groupIds.find(function(v){return M[v]})},ye=function(m,M,v){for(var u=(0,w.Z)(m),s=M?m.indexOf(M):-1,o=s>-1?s:m.length,e=0;e<o;e++)u[e]=v(u[e]);return u},C=function(m,M,v){var u=(0,w.Z)(m),s=v?u.indexOf(v):-1,o=s>-1?s:u.length;return u.splice(o,0,M),u},J=function(m,M){return m.filter(function(v){return!M[v]})},g=function(m){var M=new Map;return m.forEach(function(v){var u=v.groupIds.length===0?v.id:v.groupIds[v.groupIds.length-1],s=M.get(u)||[],o=(0,j.WJ)(v);o&&s.push(o),M.set(u,[].concat((0,w.Z)(s),[v]))}),Array.from(M.values())}},8211:function(ge,Q,t){t.d(Q,{Fp:function(){return R},G3:function(){return k},Mj:function(){return n},m0:function(){return le},t:function(){return pe}});var w=t(8950),y=t(2975),f=t.n(y),c=t(1463),j=t(4451),A=t(2335),R={code:"en",label:"English"},n=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},{code:"ca-ES",label:"Catal\xE0"},{code:"cs-CZ",label:"\u010Cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},{code:"es-ES",label:"Espa\xF1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06CC",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xE7ais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",rtl:!0},{code:"hi-IN",label:"\u0939\u093F\u0928\u094D\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65E5\u672C\u8A9E"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049A\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456"},{code:"ko-KR",label:"\uD55C\uAD6D\uC5B4"},{code:"ku-TR",label:"Kurd\xEE"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xE5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xEAs Brasileiro"},{code:"pt-PT",label:"Portugu\xEAs"},{code:"ro-RO",label:"Rom\xE2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010Dina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Sloven\u0161\u010Dina"},{code:"tr-TR",label:"T\xFCrk\xE7e"},{code:"uk-UA",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},{code:"zh-CN",label:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"},{code:"vi-VN",label:"Ti\u1EBFng Vi\u1EC7t"},{code:"mr-IN",label:"\u092E\u0930\u093E\u0920\u0940"}].concat([R]).sort(function(Ee,ae){return Ee.label>ae.label?1:-1}).filter(function(Ee){return j[Ee.code]>=85}),Z="__test__";A.Vi.DEVELOPMENT==="production"&&n.unshift({code:Z,label:"test language"},{code:"".concat(Z,".rtl"),label:"\u202Atest language (rtl)\u202C",rtl:!0});var H=R,G={},le=function(){var Ee=(0,w.Z)(f().mark(function ae(de){return f().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(H=de,document.documentElement.dir=H.rtl?"rtl":"ltr",document.documentElement.lang=H.code,!de.code.startsWith(Z)){ye.next=7;break}G={},ye.next=17;break;case 7:return ye.prev=7,ye.next=10,t(940)("./".concat(H.code,".json"));case 10:G=ye.sent,ye.next=17;break;case 13:ye.prev=13,ye.t0=ye.catch(7),console.error("Failed to load language ".concat(de.code,":"),ye.t0.message),G=c;case 17:case"end":return ye.stop()}},ae,null,[[7,13]])}));return function(ae){return Ee.apply(this,arguments)}}(),k=function(){return H},se=function(Ee,ae){for(var de=0;de<ae.length;++de){var ye=ae[de];if(Ee[ye]===void 0)return;Ee=Ee[ye]}if(typeof Ee=="string")return Ee},pe=function(Ee,ae){if(H.code.startsWith(Z)){var de=ae?"".concat(Ee,"(").concat(JSON.stringify(ae).slice(1,-1),")"):Ee;return"\u202A[[".concat(de,"]]\u202C")}var ye=Ee.split("."),C=se(G,ye)||se(c,ye);if(C===void 0)throw new Error("Can't find translation for ".concat(Ee));if(ae)for(var J in ae)C=C.replace("{{".concat(J,"}}"),String(ae[J]));return C}},9487:function(ge,Q,t){t.d(Q,{e_:function(){return f},yE:function(){return y}});var w=t(4739),y=(t(9787),Symbol()),f=(0,w.Vv)()},6066:function(ge,Q,t){t.d(Q,{E0:function(){return A},Ge:function(){return R},OA:function(){return j},Wl:function(){return c},aU:function(){return y},tW:function(){return f}});var w=t(2335),y={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},f={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:w.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},c=function(n){return n===f.ARROW_LEFT||n===f.ARROW_RIGHT||n===f.ARROW_DOWN||n===f.ARROW_UP},j=function(n){return n.altKey},A=function(n){return n.shiftKey},R=function(n){return n.shiftKey}},6552:function(ge,Q,t){t.d(Q,{H5:function(){return n},Jj:function(){return J},LW:function(){return R},N_:function(){return ae},U1:function(){return c},c9:function(){return H},eH:function(){return ye},g6:function(){return Z},lk:function(){return C},wC:function(){return se},xj:function(){return j},yB:function(){return Ee},yW:function(){return pe},yq:function(){return A}});var w=t(2335),y=t(3063),f=t(8925),c=function(g,m,M,v,u){return[(g-M)*Math.cos(u)-(m-v)*Math.sin(u)+M,(g-M)*Math.sin(u)+(m-v)*Math.cos(u)+v]},j=function(g,m,M){return c(g[0],g[1],m[0],m[1],M)},A=function(g,m,M,v,u,s,o,e){var a=Math.cos(v),i=Math.sin(v);return g.e&&g.w?m+=u+o:g.e?(m+=u*(1+a),M+=u*i,m+=o*(1-a),M+=o*-i):g.w&&(m+=u*(1-a),M+=u*-i,m+=o*(1+a),M+=o*i),g.n&&g.s?M+=s+e:g.n?(m+=s*i,M+=s*(1-a),m+=e*-i,M+=e*(1+a)):g.s&&(m+=s*-i,M+=s*(1+a),m+=e*i,M+=e*(1-a)),[m,M]},R=function(g,m,M,v){var u=M-g,s=v-m;return Math.hypot(u,s)},n=function(g,m){return[(g[0]+m[0])/2,(g[1]+m[1])/2]},Z=function(g){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(g.length>=3){var M=[g[0],g[g.length-1]],v=M[0],u=M[1],s=R(v[0],v[1],u[0],u[1]);return s<=w.qx/m}return!1},H=function(g,m,M){var v=g.length;if(v<3)return!1;for(var u=[Number.MAX_SAFE_INTEGER,M],s=[m,M],o=0,e=0;e<v;e++){var a=g[e],i=g[(e+1)%v];if(k(a,i,s,u)){if(le(a,s,i)===0)return G(a,s,i);o++}}return o%2==1},G=function(g,m,M){return m[0]<=Math.max(g[0],M[0])&&m[0]>=Math.min(g[0],M[0])&&m[1]<=Math.max(g[1],M[1])&&m[1]>=Math.min(g[1],M[1])},le=function(g,m,M){var v=(m[1]-g[1])*(M[0]-m[0])-(m[0]-g[0])*(M[1]-m[1]);return v===0?0:v>0?1:2},k=function(g,m,M,v){var u=le(g,m,M),s=le(g,m,v),o=le(M,v,g),e=le(M,v,m);return u!==s&&o!==e||!(u!==0||!G(g,M,m))||!(s!==0||!G(g,v,m))||!(o!==0||!G(M,g,v))||!(e!==0||!G(M,m,v))},se=function(g,m,M){return M?[Math.round(g/M)*M,Math.round(m/M)*M]:[g,m]},pe=function(g,m){var M,v,u;if(((M=m.roundness)===null||M===void 0?void 0:M.type)===w.a6.PROPORTIONAL_RADIUS||((v=m.roundness)===null||v===void 0?void 0:v.type)===w.a6.LEGACY)return g*w.Rx;if(((u=m.roundness)===null||u===void 0?void 0:u.type)===w.a6.ADAPTIVE_RADIUS){var s,o,e=(s=(o=m.roundness)===null||o===void 0?void 0:o.value)!==null&&s!==void 0?s:w._9;return g<=e/w.Rx?g*w.Rx:e}return 0},Ee=function(g,m){var M=(0,y.R2)(g);if(!M)return null;for(var v=(0,f.CM)(M[0]),u=[0,0],s=0,o=1/0,e=null;s<v.length;){var a=v[s],i=a.op,l=a.data;if(i==="move"&&(u=l),i==="bcurveTo"){var p=u,T=[l[0],l[1]],X=[l[2],l[3]],te=[l[4],l[5]],N=R(te[0],te[1],m[0],m[1]);N<o&&(o=N,e=[p,T,X,te]),u=te}s++}return e},ae=function(g,m,M,v,u){var s=function(o,e){return Math.pow(1-o,3)*v[e]+3*o*Math.pow(1-o,2)*M[e]+3*Math.pow(o,2)*(1-o)*m[e]+g[e]*Math.pow(o,3)};return[s(u,0),s(u,1)]},de=function(g,m){var M=[];M[0]=0;for(var v=function(o,e){var a=Ee(o,e);if(!a)return[];for(var i=[],l=1;l>0;){var p=ae(a[0],a[1],a[2],a[3],l);i.push([p[0],p[1]]),l-=.05}return i.length&&J(i.at(-1),e)&&i.push([e[0],e[1]]),i}(g,m),u=0,s=0;u<v.length-1;)s+=R(v[u][0],v[u][1],v[u+1][0],v[u+1][1]),M.push(s),u++;return M},ye=function(g,m){return de(g,m).at(-1)},C=function(g,m,M){for(var v=de(g,m),u=v.length-1,s=M*v.at(-1),o=0,e=u,a=0;o<e;)v[a=Math.floor(o+(e-o)/2)]<s?o=a+1:e=a;return v[a]>s&&a--,v[a]===s?a/u:1-(a+(s-v[a])/(v[a+1]-v[a]))/u},J=function(g,m){return g[0]===m[0]&&g[1]===m[1]}},3024:function(ge,Q,t){t.d(Q,{$D:function(){return C},Fl:function(){return ye},I_:function(){return G.I_},N7:function(){return se.N7},NI:function(){return G.NI},NL:function(){return de},ZY:function(){return k.ZY},cT:function(){return k.cT},i1:function(){return J},lV:function(){return k.lV},zh:function(){return pe.zh}});var w=t(8950),y=t(7169),f=t(2975),c=t.n(f),j=t(4162),A=t(8897),R=t(1047),n=t(679),Z=t(2335),H=t(673),G=t(5523),le=t(6665),k=t(434),se=t(3063),pe=t(7053);function Ee(g,m){var M=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);m&&(v=v.filter(function(u){return Object.getOwnPropertyDescriptor(g,u).enumerable})),M.push.apply(M,v)}return M}function ae(g){for(var m=1;m<arguments.length;m++){var M=arguments[m]!=null?arguments[m]:{};m%2?Ee(Object(M),!0).forEach(function(v){(0,y.Z)(g,v,M[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(M)):Ee(Object(M)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(M,v))})}return g}var de=function(g){var m=g.elements,M=g.appState,v=g.files,u=g.maxWidthOrHeight,s=g.getDimensions,o=g.exportPadding,e=(0,n.nu)({elements:m,appState:M},null,null),a=e.elements,i=e.appState,l=i.exportBackground,p=i.viewBackgroundColor;return(0,j.NL)((0,R.Lm)(a),ae(ae({},i),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),v||{},{exportBackground:l,exportPadding:o,viewBackgroundColor:p},function(T,X){var te,N=document.createElement("canvas");if(u){typeof s=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var L=Math.max(T,X),fe=u/L;return N.width=T*fe,N.height=X*fe,{canvas:N,scale:fe}}var q=(s==null?void 0:s(T,X))||{width:T,height:X};return N.width=q.width,N.height=q.height,{canvas:N,scale:(te=q.scale)!==null&&te!==void 0?te:1}})},ye=function(){var g=(0,w.Z)(c().mark(function m(M){var v,u,s,o,e,a;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=(u=M).mimeType,o=s===void 0?Z.LO.png:s,e=u.quality,o===Z.LO.png&&typeof e=="number"&&console.warn('"quality" will be ignored for "'.concat(Z.LO.png,'" mimeType')),o==="image/jpg"&&(o=Z.LO.jpg),o!==Z.LO.jpg||(v=M.appState)!==null&&v!==void 0&&v.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(Z.LO.jpg,'" mimeType')),M=ae(ae({},M),{},{appState:ae(ae({},M.appState),{},{exportBackground:!0})})),i.next=6,de(M);case 6:return a=i.sent,e=e||(/image\/jpe?g/.test(o)?.92:.8),i.abrupt("return",new Promise(function(l,p){a.toBlob(function(){var T=(0,w.Z)(c().mark(function X(te){var N;return c().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(te){L.next=2;break}return L.abrupt("return",p(new Error("couldn't export to blob")));case 2:if(!te||o!==Z.LO.png||(N=M.appState)===null||N===void 0||!N.exportEmbedScene){L.next=6;break}return L.next=5,(0,H.encodePngMetadata)({blob:te,metadata:(0,G.I_)(M.elements,M.appState,M.files||{},"local")});case 5:te=L.sent;case 6:l(te);case 7:case"end":return L.stop()}},X)}));return function(X){return T.apply(this,arguments)}}(),o,e)}));case 9:case"end":return i.stop()}},m)}));return function(m){return g.apply(this,arguments)}}(),C=function(){var g=(0,w.Z)(c().mark(function m(M){var v,u,s,o,e,a,i,l,p;return c().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return v=M.elements,u=M.appState,s=u===void 0?(0,A.im)():u,o=M.files,e=o===void 0?{}:o,a=M.exportPadding,i=(0,n.nu)({elements:v,appState:s},null,null),l=i.elements,p=i.appState,T.abrupt("return",(0,j.$D)((0,R.Lm)(l),ae(ae({},p),{},{exportPadding:a}),e));case 3:case"end":return T.stop()}},m)}));return function(m){return g.apply(this,arguments)}}(),J=function(){var g=(0,w.Z)(c().mark(function m(M){var v,u;return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(M.type!=="svg"){s.next=8;break}return s.next=3,C(M);case 3:return v=s.sent,s.next=6,(0,le.dd)(v.outerHTML);case 6:case 11:case 17:s.next=20;break;case 8:if(M.type!=="png"){s.next=13;break}return s.next=11,(0,le.uR)(ye(M));case 13:if(M.type!=="json"){s.next=19;break}return u=ae(ae({offsetTop:0,offsetLeft:0,width:0,height:0},(0,A.im)()),M.appState),s.next=17,(0,le.vQ)(M.elements,u,M.files);case 19:throw new Error("Invalid export type");case 20:case"end":return s.stop()}},m)}));return function(m){return g.apply(this,arguments)}}()},5001:function(ge,Q,t){t.d(Q,{k:function(){return y},z:function(){return f}});var w=t(1930),y=function(c){var j=c.map(function(R){return R[0]}),A=c.map(function(R){return R[1]});return{width:Math.max.apply(Math,(0,w.Z)(j))-Math.min.apply(Math,(0,w.Z)(j)),height:Math.max.apply(Math,(0,w.Z)(A))-Math.min.apply(Math,(0,w.Z)(A))}},f=function(c,j,A,R){var n=A.map(function(Ee){return Ee[c]}),Z=Math.max.apply(Math,(0,w.Z)(n)),H=Math.min.apply(Math,(0,w.Z)(n)),G=Z-H,le=G===0?1:j/G,k=1/0,se=A.map(function(Ee){var ae=Ee[c]*le,de=(0,w.Z)(Ee);return de[c]=ae,ae<k&&(k=ae),de});if(!R||se.length===2)return se;var pe=H-k;return se.map(function(Ee){return Ee.map(function(ae,de){return de===c?ae+pe:ae})})}},6954:function(ge,Q,t){t.d(Q,{LU:function(){return A},kb:function(){return R}});var w=t(8152),y=t(5605),f=t(6340),c=new w.k(Date.now()),j=0,A=function(){return Math.floor(c.next()*Math.pow(2,31))},R=function(){return(0,f.h2)()?"id".concat(j++):(0,y.x0)()}},3063:function(ge,Q,t){t.d(Q,{Dn:function(){return fe},i:function(){return E},N7:function(){return ue},R2:function(){return I},bI:function(){return O},lw:function(){return P},Rg:function(){return D}});var w=t(1930),y=t(7169),f=t(2577),c=t(1974),j=t(8925),A=t(6340),R=t(6552),n=t(8234),Z=t(8897),H=t(2335);function G(B,Y,$,xe=Oe=>Oe){return B*xe(.5-Y*(.5-$))}function le(B,Y){return[B[0]+Y[0],B[1]+Y[1]]}function k(B,Y){return[B[0]-Y[0],B[1]-Y[1]]}function se(B,Y){return[B[0]*Y,B[1]*Y]}function pe(B){return[B[1],-B[0]]}function Ee(B,Y){return B[0]*Y[0]+B[1]*Y[1]}function ae(B,Y){return B[0]===Y[0]&&B[1]===Y[1]}function de(B,Y){return function($){return $[0]*$[0]+$[1]*$[1]}(k(B,Y))}function ye(B){return function(Y,$){return[Y[0]/$,Y[1]/$]}(B,function(Y){return Math.hypot(Y[0],Y[1])}(B))}function C(B,Y){return Math.hypot(B[1]-Y[1],B[0]-Y[0])}function J(B,Y,$){let xe=Math.sin($),Oe=Math.cos($),Ze=B[0]-Y[0],Fe=B[1]-Y[1],Je=Ze*xe+Fe*Oe;return[Ze*Oe-Fe*xe+Y[0],Je+Y[1]]}function g(B,Y,$){return le(B,se(k(Y,B),$))}function m(B,Y,$){return le(B,se(Y,$))}var{min:M,PI:v}=Math,u=v+1e-4;function s(B,Y={}){return function($,xe={}){let{size:Oe=16,smoothing:Ze=.5,thinning:Fe=.5,simulatePressure:Je=!0,easing:Ke=Ct=>Ct,start:Be={},end:Le={},last:ne=!1}=xe,{cap:me=!0,easing:ve=Ct=>Ct*(2-Ct)}=Be,{cap:we=!0,easing:Ie=Ct=>--Ct*Ct*Ct+1}=Le;if($.length===0||Oe<=0)return[];let Te,ze=$[$.length-1].runningLength,We=Be.taper===!1?0:Be.taper===!0?Math.max(Oe,ze):Be.taper,He=Le.taper===!1?0:Le.taper===!0?Math.max(Oe,ze):Le.taper,Ye=Math.pow(Oe*Ze,2),et=[],at=[],$e=$.slice(0,10).reduce((Ct,At)=>{let Ne=At.pressure;if(Je){let Ue=M(1,At.distance/Oe),ot=M(1,1-Ue);Ne=M(1,Ct+.275*Ue*(ot-Ct))}return(Ct+Ne)/2},$[0].pressure),tt=G(Oe,Fe,$[$.length-1].pressure,Ke),ct=$[0].vector,Et=$[0].point,Pt=Et,_t=Et,vt=Pt,yt=!1;for(let Ct=0;Ct<$.length;Ct++){let{pressure:At}=$[Ct],{point:Ne,vector:Ue,distance:ot,runningLength:it}=$[Ct];if(Ct<$.length-1&&ze-it<3)continue;if(Fe){if(Je){let Tt=M(1,ot/Oe),Jt=M(1,1-Tt);At=M(1,$e+.275*Tt*(Jt-$e))}tt=G(Oe,Fe,At,Ke)}else tt=Oe/2;Te===void 0&&(Te=tt);let dt=it<We?ve(it/We):1,gt=ze-it<He?Ie((ze-it)/He):1;tt=Math.max(.01,tt*Math.min(dt,gt));let jt=(Ct<$.length-1?$[Ct+1]:$[Ct]).vector,Ot=Ct<$.length-1?Ee(Ue,jt):1,Zt=Ot!==null&&Ot<0;if(Ee(Ue,ct)<0&&!yt||Zt){let Tt=se(pe(ct),tt);for(let Jt=.07692307692307693,or=0;or<=1;or+=Jt)_t=J(k(Ne,Tt),Ne,u*or),et.push(_t),vt=J(le(Ne,Tt),Ne,u*-or),at.push(vt);Et=_t,Pt=vt,Zt&&(yt=!0);continue}if(yt=!1,Ct===$.length-1){let Tt=se(pe(Ue),tt);et.push(k(Ne,Tt)),at.push(le(Ne,Tt));continue}let Bt=se(pe(g(jt,Ue,Ot)),tt);_t=k(Ne,Bt),(Ct<=1||de(Et,_t)>Ye)&&(et.push(_t),Et=_t),vt=le(Ne,Bt),(Ct<=1||de(Pt,vt)>Ye)&&(at.push(vt),Pt=vt),$e=At,ct=Ue}let ft=$[0].point.slice(0,2),St=$.length>1?$[$.length-1].point.slice(0,2):le($[0].point,[1,1]),Yt=[],qt=[];if($.length===1){if(!We&&!He||ne){let Ct=m(ft,ye(pe(k(ft,St))),-(Te||tt)),At=[];for(let Ne=.07692307692307693,Ue=Ne;Ue<=1;Ue+=Ne)At.push(J(Ct,ft,2*u*Ue));return At}}else{if(!(We||He&&$.length===1))if(me)for(let At=.07692307692307693,Ne=At;Ne<=1;Ne+=At){let Ue=J(at[0],ft,u*Ne);Yt.push(Ue)}else{let At=k(et[0],at[0]),Ne=se(At,.5),Ue=se(At,.51);Yt.push(k(ft,Ne),k(ft,Ue),le(ft,Ue),le(ft,Ne))}let Ct=pe(function(At){return[-At[0],-At[1]]}($[$.length-1].vector));if(He||We&&$.length===1)qt.push(St);else if(we){let At=m(St,Ct,tt);for(let Ne=.034482758620689655,Ue=Ne;Ue<1;Ue+=Ne)qt.push(J(At,St,3*u*Ue))}else qt.push(le(St,se(Ct,tt)),le(St,se(Ct,.99*tt)),k(St,se(Ct,.99*tt)),k(St,se(Ct,tt)))}return et.concat(qt,at.reverse(),Yt)}(function($,xe={}){var Oe;let{streamline:Ze=.5,size:Fe=16,last:Je=!1}=xe;if($.length===0)return[];let Ke=.15+.85*(1-Ze),Be=Array.isArray($[0])?$:$.map(({x:Ie,y:Te,pressure:ze=.5})=>[Ie,Te,ze]);if(Be.length===2){let Ie=Be[1];Be=Be.slice(0,-1);for(let Te=1;Te<5;Te++)Be.push(g(Be[0],Ie,Te/4))}Be.length===1&&(Be=[...Be,[...le(Be[0],[1,1]),...Be[0].slice(2)]]);let Le=[{point:[Be[0][0],Be[0][1]],pressure:Be[0][2]>=0?Be[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],ne=!1,me=0,ve=Le[0],we=Be.length-1;for(let Ie=1;Ie<Be.length;Ie++){let Te=Je&&Ie===we?Be[Ie].slice(0,2):g(ve.point,Be[Ie],Ke);if(ae(ve.point,Te))continue;let ze=C(Te,ve.point);if(me+=ze,Ie<we&&!ne){if(me<Fe)continue;ne=!0}ve={point:Te,pressure:Be[Ie][2]>=0?Be[Ie][2]:.5,vector:ye(k(ve.point,Te)),distance:ze,runningLength:me},Le.push(ve)}return Le[0].vector=((Oe=Le[1])==null?void 0:Oe.vector)||[0,0],Le}(B,Y),Y)}var o=t(5710),e=t(6938);function a(B,Y){var $=Object.keys(B);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(B);Y&&(xe=xe.filter(function(Oe){return Object.getOwnPropertyDescriptor(B,Oe).enumerable})),$.push.apply($,xe)}return $}function i(B){for(var Y=1;Y<arguments.length;Y++){var $=arguments[Y]!=null?arguments[Y]:{};Y%2?a(Object($),!0).forEach(function(xe){(0,y.Z)(B,xe,$[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors($)):a(Object($)).forEach(function(xe){Object.defineProperty(B,xe,Object.getOwnPropertyDescriptor($,xe))})}return B}var l="invert(100%) hue-rotate(180deg) saturate(1.25)",p=(0,Z.im)(),T=function(B,Y){return(0,c.wi)(B)&&!Y.imageCache.has(B.fileId)},X=function(B,Y){var $;return Y.theme==="dark"&&(0,c.wi)(B)&&!T(B,Y)&&(($=Y.imageCache.get(B.fileId))===null||$===void 0?void 0:$.mimeType)!==H.LO.svg},te=function(B){return[8,8+B]},N=function(B){return[1.5,6+B]},L=function(B){return B.type==="freedraw"?12*B.strokeWidth:20},fe=14,q=document.createElement("img");q.src="data:".concat(H.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var F=document.createElement("img");F.src="data:".concat(H.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var h=function(B,Y,$,xe){switch($.globalAlpha=B.opacity/100,B.type){case"rectangle":case"diamond":case"ellipse":$.lineJoin="round",$.lineCap="round",Y.draw(I(B));break;case"arrow":case"line":$.lineJoin="round",$.lineCap="round",I(B).forEach(function(Ie){Y.draw(Ie)});break;case"freedraw":$.save(),$.fillStyle=B.strokeColor;var Oe=function(Ie){return ce.get(Ie)}(B),Ze=I(B);Ze&&Y.draw(Ze),$.fillStyle=B.strokeColor,$.fill(Oe),$.restore();break;case"image":var Fe,Je=(0,c.wi)(B)?(Fe=xe.imageCache.get(B.fileId))===null||Fe===void 0?void 0:Fe.image:void 0;Je==null||Je instanceof Promise?function(Ie,Te,ze){Te.fillStyle="#E7E7E7",Te.fillRect(0,0,Ie.width,Ie.height);var We=Math.min(Ie.width,Ie.height),He=Math.min(We,Math.min(.4*We,100));Te.drawImage(Ie.status==="error"?F:q,Ie.width/2-He/2,Ie.height/2-He/2,He,He)}(B,$,xe.zoom.value):$.drawImage(Je,0,0,B.width,B.height);break;default:if(!(0,c.iB)(B))throw new Error("Unimplemented type ".concat(B.type));var Ke=(0,A.dZ)(B.text),Be=Ke&&!$.canvas.isConnected;Be&&document.body.appendChild($.canvas),$.canvas.setAttribute("dir",Ke?"rtl":"ltr"),$.save(),$.font=(0,A.mO)(B),$.fillStyle=B.strokeColor,$.textAlign=B.textAlign;var Le=B.text.replace(/\r\n?/g,`
`).split(`
`),ne=B.containerId?(0,o.hP)((0,A.mO)(B)):B.height/Le.length,me=B.height-B.baseline;B.verticalAlign===H.oX.BOTTOM&&(me=(0,o.S)(B));for(var ve=B.textAlign==="center"?B.width/2:B.textAlign==="right"?B.width:0,we=0;we<Le.length;we++)$.fillText(Le[we],ve,(we+1)*ne-me);$.restore(),Be&&$.canvas.remove()}$.globalAlpha=1},_=new WeakMap,W=new WeakMap,I=function(B){return W.get(B)},re=function(B,Y){return W.set(B,Y)},O=function(B){return W.delete(B)},E=function(B){var Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],$={seed:B.seed,strokeLineDash:B.strokeStyle==="dashed"?te(B.strokeWidth):B.strokeStyle==="dotted"?N(B.strokeWidth):void 0,disableMultiStroke:B.strokeStyle!=="solid",strokeWidth:B.strokeStyle!=="solid"?B.strokeWidth+.5:B.strokeWidth,fillWeight:B.strokeWidth/2,hachureGap:4*B.strokeWidth,roughness:B.roughness,stroke:B.strokeColor,preserveVertices:Y};switch(B.type){case"rectangle":case"diamond":case"ellipse":return $.fillStyle=B.fillStyle,$.fill=B.backgroundColor==="transparent"?void 0:B.backgroundColor,B.type==="ellipse"&&($.curveFitting=1),$;case"line":case"freedraw":return(0,R.g6)(B.points)&&($.fillStyle=B.fillStyle,$.fill=B.backgroundColor==="transparent"?void 0:B.backgroundColor),$;case"arrow":return $;default:throw new Error("Unimplemented type ".concat(B.type))}},b=function(B,Y){var $=W.get(B);if($===void 0)switch(_.delete(B),B.type){case"rectangle":if(B.roundness){var xe=B.width,Oe=B.height,Ze=(0,R.yW)(Math.min(xe,Oe),B);$=Y.path("M ".concat(Ze," 0 L ").concat(xe-Ze," 0 Q ").concat(xe," 0, ").concat(xe," ").concat(Ze," L ").concat(xe," ").concat(Oe-Ze," Q ").concat(xe," ").concat(Oe,", ").concat(xe-Ze," ").concat(Oe," L ").concat(Ze," ").concat(Oe," Q 0 ").concat(Oe,", 0 ").concat(Oe-Ze," L 0 ").concat(Ze," Q 0 0, ").concat(Ze," 0"),E(B,!0))}else $=Y.rectangle(0,0,B.width,B.height,E(B));re(B,$);break;case"diamond":var Fe=(0,j.UC)(B),Je=(0,f.Z)(Fe,8),Ke=Je[0],Be=Je[1],Le=Je[2],ne=Je[3],me=Je[4],ve=Je[5],we=Je[6],Ie=Je[7];if(B.roundness){var Te=(0,R.yW)(Math.abs(Ke-we),B),ze=(0,R.yW)(Math.abs(ne-Be),B);$=Y.path("M ".concat(Ke+Te," ").concat(Be+ze," L ").concat(Le-Te," ").concat(ne-ze,`
            C `).concat(Le," ").concat(ne,", ").concat(Le," ").concat(ne,", ").concat(Le-Te," ").concat(ne+ze,`
            L `).concat(me+Te," ").concat(ve-ze,`
            C `).concat(me," ").concat(ve,", ").concat(me," ").concat(ve,", ").concat(me-Te," ").concat(ve-ze,`
            L `).concat(we+Te," ").concat(Ie+ze,`
            C `).concat(we," ").concat(Ie,", ").concat(we," ").concat(Ie,", ").concat(we+Te," ").concat(Ie-ze,`
            L `).concat(Ke-Te," ").concat(Be+ze,`
            C `).concat(Ke," ").concat(Be,", ").concat(Ke," ").concat(Be,", ").concat(Ke+Te," ").concat(Be+ze),E(B,!0))}else $=Y.polygon([[Ke,Be],[Le,ne],[me,ve],[we,Ie]],E(B));re(B,$);break;case"ellipse":$=Y.ellipse(B.width/2,B.height/2,B.width,B.height,E(B)),re(B,$);break;case"line":case"arrow":var We=E(B),He=B.points.length?B.points:[[0,0]];if($=B.roundness?[Y.curve(He,We)]:We.fill?[Y.polygon(He,We)]:[Y.linearPath(He,We)],B.type==="arrow"){var Ye=B.startArrowhead,et=Ye===void 0?null:Ye,at=B.endArrowhead,$e=at===void 0?"arrow":at,tt=function(vt,yt,ft,St){var Yt=(0,j.Y5)(vt,yt,ft,St);if(Yt===null)return[];if(St==="dot"){var qt=(0,f.Z)(Yt,3),Ct=qt[0],At=qt[1],Ne=qt[2];return[Y.circle(Ct,At,Ne,i(i({},We),{},{fill:vt.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(St==="triangle"){var Ue=(0,f.Z)(Yt,6),ot=Ue[0],it=Ue[1],dt=Ue[2],gt=Ue[3],jt=Ue[4],Ot=Ue[5];return delete We.strokeLineDash,[Y.polygon([[ot,it],[dt,gt],[jt,Ot],[ot,it]],i(i({},We),{},{fill:vt.strokeColor,fillStyle:"solid"}))]}var Zt=(0,f.Z)(Yt,6),Bt=Zt[0],Tt=Zt[1],Jt=Zt[2],or=Zt[3],sr=Zt[4],ir=Zt[5];if(vt.strokeStyle==="dotted"){var zt=N(vt.strokeWidth-1);We.strokeLineDash=[zt[0],zt[1]-1]}else delete We.strokeLineDash;return[Y.line(Jt,or,Bt,Tt,We),Y.line(sr,ir,Bt,Tt,We)]};if(et!==null){var ct,Et=tt(B,$,"start",et);(ct=$).push.apply(ct,(0,w.Z)(Et))}if($e!==null){var Pt,_t=tt(B,$,"end",$e);(Pt=$).push.apply(Pt,(0,w.Z)(_t))}}re(B,$);break;case"freedraw":ie(B),$=(0,R.g6)(B.points)?Y.polygon(B.points,i(i({},E(B)),{},{stroke:"none"})):null,re(B,$);break;case"text":case"image":re(B,null)}},d=function(B,Y){var $,xe=Y?Y.zoom:p.zoom,Oe=_.get(B),Ze=Oe&&Oe.canvasZoom!==xe.value&&!(Y!=null&&Y.shouldCacheIgnoreZoom),Fe=(($=(0,o.WJ)(B))===null||$===void 0?void 0:$.version)||null;if(!Oe||Ze||Oe.theme!==Y.theme||Oe.boundTextElementVersion!==Fe){var Je=function(Ke,Be,Le){var ne,me=document.createElement("canvas"),ve=me.getContext("2d"),we=L(Ke),Ie=0,Te=0;if((0,c.bt)(Ke)||(0,c.F9)(Ke)){var ze=(0,j.qf)(Ke),We=(0,f.Z)(ze,4),He=We[0],Ye=We[1],et=We[2],at=We[3];me.width=(0,A.TE)(He,et)*window.devicePixelRatio*Be.value+we*Be.value*2,me.height=(0,A.TE)(Ye,at)*window.devicePixelRatio*Be.value+we*Be.value*2,Ie=Ke.x>He?(0,A.TE)(Ke.x,He)*window.devicePixelRatio*Be.value:0,Te=Ke.y>Ye?(0,A.TE)(Ke.y,Ye)*window.devicePixelRatio*Be.value:0,ve.translate(Ie,Te)}else me.width=Ke.width*window.devicePixelRatio*Be.value+we*Be.value*2,me.height=Ke.height*window.devicePixelRatio*Be.value+we*Be.value*2;ve.save(),ve.translate(we*Be.value,we*Be.value),ve.scale(window.devicePixelRatio*Be.value,window.devicePixelRatio*Be.value);var $e=n.Z.canvas(me);return X(Ke,Le)&&(ve.filter=l),h(Ke,$e,ve,Le),ve.restore(),{element:Ke,canvas:me,theme:Le.theme,canvasZoom:Be.value,canvasOffsetX:Ie,canvasOffsetY:Te,boundTextElementVersion:((ne=(0,o.WJ)(Ke))===null||ne===void 0?void 0:ne.version)||null}}(B,xe,Y);return _.set(B,Je),Je}return Oe},x=function(B,Y,$,xe){var Oe=B.element,Ze=L(Oe),Fe=B.canvasZoom,Je=(0,j.qf)(Oe),Ke=(0,f.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3];(0,c.F9)(Oe)&&(Be=Math.floor(Be),ne=Math.ceil(ne),Le=Math.floor(Le),me=Math.ceil(me));var ve=((Be+ne)/2+xe.scrollX)*window.devicePixelRatio,we=((Le+me)/2+xe.scrollY)*window.devicePixelRatio;$.save(),$.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var Ie=(0,o.WJ)(Oe);if((0,c.Yv)(Oe)&&Ie){var Te=document.createElement("canvas"),ze=Te.getContext("2d"),We=Math.max((0,A.TE)(Be,ne),(0,A.TE)(Le,me));Te.width=We*window.devicePixelRatio*Fe+Ze*B.canvasZoom*10,Te.height=We*window.devicePixelRatio*Fe+Ze*B.canvasZoom*10;var He=(Te.width-B.canvas.width)/2,Ye=(Te.height-B.canvas.height)/2;ze.translate(Te.width/2,Te.height/2),ze.rotate(Oe.angle),ze.drawImage(B.canvas,-B.canvas.width/2,-B.canvas.height/2,B.canvas.width,B.canvas.height);var et=(0,j.qf)(Ie),at=(0,f.Z)(et,6),$e=at[4],tt=at[5];ze.rotate(-Oe.angle);var ct=Te.width/2-($e-Be)*window.devicePixelRatio*Fe-He-Ze*Fe,Et=Te.height/2-(tt-Le)*window.devicePixelRatio*Fe-Ye-Ze*Fe;ze.translate(-ct,-Et),ze.clearRect(-(Ie.width/2+H.gK)*window.devicePixelRatio*Fe,-(Ie.height/2+H.gK)*window.devicePixelRatio*Fe,(Ie.width+2*H.gK)*window.devicePixelRatio*Fe,(Ie.height+2*H.gK)*window.devicePixelRatio*Fe),$.translate(ve,we),$.drawImage(Te,-(ne-Be)/2*window.devicePixelRatio-He/Fe-Ze,-(me-Le)/2*window.devicePixelRatio-Ye/Fe-Ze,Te.width/Fe,Te.height/Fe)}else $.translate(ve,we),$.rotate(Oe.angle),"scale"in B.element&&!T(Oe,xe)&&$.scale(B.element.scale[0],B.element.scale[1]),$.translate(-ve,-we),$.drawImage(B.canvas,(Be+xe.scrollX)*window.devicePixelRatio-Ze*B.canvasZoom/B.canvasZoom,(Le+xe.scrollY)*window.devicePixelRatio-Ze*B.canvasZoom/B.canvasZoom,B.canvas.width/B.canvasZoom,B.canvas.height/B.canvasZoom);$.restore()},P=function(B,Y,$,xe,Oe){var Ze=Y.generator;switch(B.type){case"selection":$.save(),$.translate(B.x+xe.scrollX,B.y+xe.scrollY),$.fillStyle="rgba(0, 0, 200, 0.04)";var Fe=.5/xe.zoom.value;$.fillRect(Fe,Fe,B.width,B.height),$.lineWidth=1/xe.zoom.value,$.strokeStyle="rgb(105, 101, 219)",$.strokeRect(Fe,Fe,B.width,B.height),$.restore();break;case"freedraw":if(b(B,Ze),xe.isExporting){var Je=(0,j.qf)(B),Ke=(0,f.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3],ve=(Be+ne)/2+xe.scrollX,we=(Le+me)/2+xe.scrollY,Ie=(ne-Be)/2-(B.x-Be),Te=(me-Le)/2-(B.y-Le);$.save(),$.translate(ve,we),$.rotate(B.angle),$.translate(-Ie,-Te),h(B,Y,$,xe),$.restore()}else{var ze=d(B,xe);x(ze,0,$,xe)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(b(B,Ze),xe.isExporting){var We=(0,j.qf)(B),He=(0,f.Z)(We,4),Ye=He[0],et=He[1],at=He[2],$e=He[3],tt=(Ye+at)/2+xe.scrollX,ct=(et+$e)/2+xe.scrollY,Et=(at-Ye)/2-(B.x-Ye),Pt=($e-et)/2-(B.y-et);if((0,c.iB)(B)){var _t=(0,o.tl)(B);if((0,c.Yv)(_t)){var vt=e._.getBoundTextElementPosition(_t,B);Et=(at-Ye)/2-(vt.x-Ye),Pt=($e-et)/2-(vt.y-et)}}$.save(),$.translate(tt,ct),X(B,xe)&&($.filter="none");var yt=(0,o.WJ)(B);if((0,c.Yv)(B)&&yt){var ft=document.createElement("canvas"),St=ft.getContext("2d"),Yt=Math.max((0,A.TE)(Ye,at),(0,A.TE)(et,$e)),qt=L(B);ft.width=Yt*Oe.exportScale+10*qt*Oe.exportScale,ft.height=Yt*Oe.exportScale+10*qt*Oe.exportScale,St.translate(ft.width/2,ft.height/2),St.scale(Oe.exportScale,Oe.exportScale),Et=B.width/2-(B.x-Ye),Pt=B.height/2-(B.y-et),St.rotate(B.angle);var Ct=n.Z.canvas(ft);St.translate(-Et,-Pt),h(B,Ct,St,xe),St.translate(Et,Pt),St.rotate(-B.angle);var At=(0,j.qf)(yt),Ne=(0,f.Z)(At,6),Ue=(Ye+at)/2-Ne[4],ot=(et+$e)/2-Ne[5];St.translate(-Ue,-ot),St.clearRect(-yt.width/2,-yt.height/2,yt.width,yt.height),$.scale(1/Oe.exportScale,1/Oe.exportScale),$.drawImage(ft,-ft.width/2,-ft.height/2,ft.width,ft.height)}else $.rotate(B.angle),B.type==="image"&&$.scale(B.scale[0],B.scale[1]),$.translate(-Et,-Pt),h(B,Y,$,xe);$.restore()}else{var it=d(B,xe);x(it,0,$,xe)}break;default:throw new Error("Unimplemented type ".concat(B.type))}},U=function(B,Y,$){if($===void 0)return B.draw(Y);var xe={sets:Y.sets,shape:Y.shape,options:i(i({},Y.options),{},{fixedDecimalPlaceDigits:$})};return B.draw(xe)},D=function(B,Y,$,xe,Oe,Ze,Fe){var Je=(0,j.qf)(B),Ke=(0,f.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3],ve=(ne-Be)/2-(B.x-Be),we=(me-Le)/2-(B.y-Le);if((0,c.iB)(B)){var Ie=(0,o.tl)(B);if((0,c.Yv)(Ie)){var Te=(0,j.qf)(Ie),ze=(0,f.Z)(Te,4),We=ze[0],He=ze[1],Ye=ze[2],et=ze[3],at=e._.getBoundTextElementPosition(Ie,B);ve=(Ye-We)/2-(at.x-We),we=(et-He)/2-(at.y-He),Oe=Oe+at.x-B.x,Ze=Ze+at.y-B.y}}var $e=180*B.angle/Math.PI,tt=Y.generator,ct=$;if(B.link){var Et=$.ownerDocument.createElementNS(H.hR,"a");Et.setAttribute("href",B.link),ct.appendChild(Et),ct=Et}switch(B.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":b(B,tt);var Pt=U(Y,I(B),H.zK),_t=B.opacity/100;_t!==1&&(Pt.setAttribute("stroke-opacity","".concat(_t)),Pt.setAttribute("fill-opacity","".concat(_t))),Pt.setAttribute("stroke-linecap","round"),Pt.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),ct.appendChild(Pt);break;case"line":case"arrow":var vt=(0,o.WJ)(B),yt=$.ownerDocument.createElementNS(H.hR,"mask");if(vt){yt.setAttribute("id","mask-".concat(B.id));var ft=$.ownerDocument.createElementNS(H.hR,"rect");Oe=Oe||0,Ze=Ze||0,ft.setAttribute("x","0"),ft.setAttribute("y","0"),ft.setAttribute("fill","#fff"),ft.setAttribute("width","".concat(B.width+100+Oe)),ft.setAttribute("height","".concat(B.height+100+Ze)),yt.appendChild(ft);var St=$.ownerDocument.createElementNS(H.hR,"rect"),Yt=e._.getBoundTextElementPosition(B,vt),qt=Oe+Yt.x-B.x,Ct=Ze+Yt.y-B.y;St.setAttribute("x",qt.toString()),St.setAttribute("y",Ct.toString()),St.setAttribute("fill","#000"),St.setAttribute("width","".concat(vt.width)),St.setAttribute("height","".concat(vt.height)),St.setAttribute("opacity","1"),yt.appendChild(St)}b(B,tt);var At=$.ownerDocument.createElementNS(H.hR,"g");vt&&At.setAttribute("mask","url(#mask-".concat(B.id,")"));var Ne=B.opacity/100;At.setAttribute("stroke-linecap","round"),I(B).forEach(function(Qr){var Dr=U(Y,Qr,H.zK);Ne!==1&&(Dr.setAttribute("stroke-opacity","".concat(Ne)),Dr.setAttribute("fill-opacity","".concat(Ne))),Dr.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),B.type==="line"&&(0,R.g6)(B.points)&&B.backgroundColor!=="transparent"&&Dr.setAttribute("fill-rule","evenodd"),At.appendChild(Dr)}),ct.appendChild(At),ct.append(yt);break;case"freedraw":b(B,tt),ie(B);var Ue=B.opacity/100,ot=I(B),it=ot?U(Y,ot,H.zK):$.ownerDocument.createElementNS(H.hR,"g");Ue!==1&&(it.setAttribute("stroke-opacity","".concat(Ue)),it.setAttribute("fill-opacity","".concat(Ue))),it.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),it.setAttribute("stroke","none");var dt=$.ownerDocument.createElementNS(H.hR,"path");dt.setAttribute("fill",B.strokeColor),dt.setAttribute("d",ue(B)),it.appendChild(dt),ct.appendChild(it);break;case"image":var gt=Math.round(B.width),jt=Math.round(B.height),Ot=(0,c.wi)(B)&&xe[B.fileId];if(Ot){var Zt="image-".concat(Ot.id),Bt=$.querySelector("#".concat(Zt));if(!Bt){(Bt=$.ownerDocument.createElementNS(H.hR,"symbol")).id=Zt;var Tt=$.ownerDocument.createElementNS(H.hR,"image");Tt.setAttribute("width","100%"),Tt.setAttribute("height","100%"),Tt.setAttribute("href",Ot.dataURL),Bt.appendChild(Tt),ct.prepend(Bt)}var Jt=$.ownerDocument.createElementNS(H.hR,"use");if(Jt.setAttribute("href","#".concat(Zt)),Fe&&Ot.mimeType!==H.LO.svg&&Jt.setAttribute("filter",l),Jt.setAttribute("width","".concat(gt)),Jt.setAttribute("height","".concat(jt)),B.scale[0]!==1||B.scale[1]!==1){var or=B.scale[0]!==1?-gt:0,sr=B.scale[1]!==1?-jt:0;Jt.setAttribute("transform","scale(".concat(B.scale[0],", ").concat(B.scale[1],") translate(").concat(or," ").concat(sr,")"))}var ir=$.ownerDocument.createElementNS(H.hR,"g");ir.appendChild(Jt),ir.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),ct.appendChild(ir)}break;default:if(!(0,c.iB)(B))throw new Error("Unimplemented type ".concat(B.type));var zt=B.opacity/100,Ft=$.ownerDocument.createElementNS(H.hR,"g");zt!==1&&(Ft.setAttribute("stroke-opacity","".concat(zt)),Ft.setAttribute("fill-opacity","".concat(zt))),Ft.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")"));for(var $t=B.text.replace(/\r\n?/g,`
`).split(`
`),lr=B.height/$t.length,Or=B.height-B.baseline,Vr=B.textAlign==="center"?B.width/2:B.textAlign==="right"?B.width:0,Xr=(0,A.dZ)(B.text)?"rtl":"ltr",qr=B.textAlign==="center"?"middle":B.textAlign==="right"||Xr==="rtl"?"end":"start",Wr=0;Wr<$t.length;Wr++){var fr=$.ownerDocument.createElementNS(H.hR,"text");fr.textContent=$t[Wr],fr.setAttribute("x","".concat(Vr)),fr.setAttribute("y","".concat((Wr+1)*lr-Or)),fr.setAttribute("font-family",(0,A.$g)(B)),fr.setAttribute("font-size","".concat(B.fontSize,"px")),fr.setAttribute("fill",B.strokeColor),fr.setAttribute("text-anchor",qr),fr.setAttribute("style","white-space: pre;"),fr.setAttribute("direction",Xr),Ft.appendChild(fr)}ct.appendChild(Ft)}},ce=new WeakMap([]);function ie(B){var Y=ue(B),$=new Path2D(Y);return ce.set(B,$),$}function ue(B){return function(Y){if(!Y.length)return"";var $=Y.length-1;return Y.reduce(function(xe,Oe,Ze,Fe){return Ze===$?xe.push(Oe,Ce(Oe,Fe[0]),"L",Fe[0],"Z"):xe.push(Oe,Ce(Oe,Fe[Ze+1])),xe},["M",Y[0],"Q"]).join(" ").replace(Pe,"$1")}(s(B.simulatePressure?B.points:B.points.length?B.points.map(function(Y,$){var xe=(0,f.Z)(Y,2);return[xe[0],xe[1],B.pressures[$]]}):[[0,0,.5]],{simulatePressure:B.simulatePressure,size:4.25*B.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(Y){return Math.sin(Y*Math.PI/2)},last:!!B.lastCommittedPoint}))}function Ce(B,Y){return[(B[0]+Y[0])/2,(B[1]+Y[1])/2]}var Pe=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(ge,Q,t){t.d(Q,{Lu:function(){return m},Eu:function(){return i},M_:function(){return fe}});var w,y=t(2577),f=t(1930),c=t(5284),j=t(1047),A=t(756),R=t(1868),n=t(3063),Z=t(8982),H=t(6938),G=t(242),le=t(2325),k=t(8290),se=t(267),pe=t(6340);(function(q){q.ACTIVE="active",q.AWAY="away",q.IDLE="idle"})(w||(w={}));var Ee=t(2335),ae=t(4929),de=t(1974);function ye(q,F){var h=typeof Symbol!="undefined"&&q[Symbol.iterator]||q["@@iterator"];if(!h){if(Array.isArray(q)||(h=function(E,b){if(!!E){if(typeof E=="string")return C(E,b);var d=Object.prototype.toString.call(E).slice(8,-1);if(d==="Object"&&E.constructor&&(d=E.constructor.name),d==="Map"||d==="Set")return Array.from(E);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return C(E,b)}}(q))||F&&q&&typeof q.length=="number"){h&&(q=h);var _=0,W=function(){};return{s:W,n:function(){return _>=q.length?{done:!0}:{done:!1,value:q[_++]}},e:function(E){throw E},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,re=!0,O=!1;return{s:function(){h=h.call(q)},n:function(){var E=h.next();return re=E.done,E},e:function(E){O=!0,I=E},f:function(){try{re||h.return==null||h.return()}finally{if(O)throw I}}}}function C(q,F){(F==null||F>q.length)&&(F=q.length);for(var h=0,_=new Array(F);h<F;h++)_[h]=q[h];return _}var J,g=(0,pe.Q5)(),m=2,M=function(q,F,h,_,W,I,re,O){var E=arguments.length>8&&arguments[8]!==void 0&&arguments[8];q.save(),q.translate(I,re),q.rotate(O),E&&q.fillRect(F-I,h-re,_,W),q.strokeRect(F-I,h-re,_,W),q.restore()},v=function(q,F,h,_){var W=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];q.beginPath(),q.arc(F,h,_,0,2*Math.PI),q.fill(),W&&q.stroke()},u=function(q,F,h,_,W,I){var re=arguments.length>6&&arguments[6]!==void 0&&arguments[6];q.strokeStyle="#5e5ad8",q.setLineDash([]),q.fillStyle="rgba(255, 255, 255, 0.9)",I?q.fillStyle="rgba(134, 131, 226, 0.9)":re&&(q.fillStyle="rgba(177, 151, 252, 0.7)"),v(q,_[0],_[1],W/h.zoom.value,!re)},s=function(q,F,h,_){if(F.selectedLinearElement){q.save(),q.translate(h.scrollX,h.scrollY),q.lineWidth=1/h.zoom.value;var W=H._.getPointsGlobalCoordinates(_),I=H._.POINT_HANDLE_SIZE,re=F.editingLinearElement?I:I/2;W.forEach(function(O,E){var b,d,x=!((b=F.editingLinearElement)===null||b===void 0||(d=b.selectedPointsIndices)===null||d===void 0||!d.includes(E));u(q,F,h,O,re,x)}),H._.getEditorMidPoints(_,F).filter(function(O){return O!==null}).forEach(function(O){var E;F!=null&&(E=F.selectedLinearElement)!==null&&E!==void 0&&E.segmentMidPointHoveredCoords&&H._.arePointsEqual(O,F.selectedLinearElement.segmentMidPointHoveredCoords)?F.editingLinearElement?(u(q,F,h,O,re,!1),o(O,q,h)):(o(O,q,h),u(q,F,h,O,re,!1)):(F.editingLinearElement||W.length===2)&&u(q,F,h,O,I/2,!1,!0)}),q.restore()}},o=function(q,F,h){F.fillStyle="rgba(105, 101, 219, 0.4)",v(F,q[0],q[1],H._.POINT_HANDLE_SIZE/h.zoom.value,!1)},e=function(q){var F,h=q.elements,_=q.appState,W=q.scale,I=q.rc,re=q.canvas,O=q.renderConfig;if(re===null)return{atLeastOneVisibleElement:!1};var E=O.renderScrollbars,b=E===void 0||E,d=O.renderSelection,x=d===void 0||d,P=O.renderGrid,U=P===void 0||P,D=O.isExporting,ce=O.selectionColor||c.black,ie=re.getContext("2d");ie.setTransform(1,0,0,1,0,0),ie.save(),ie.scale(W,W);var ue=re.width/W,Ce=re.height/W;D&&O.theme==="dark"&&(ie.filter=Ee.ZF),typeof O.viewBackgroundColor=="string"?((O.viewBackgroundColor==="transparent"||O.viewBackgroundColor.length===5||O.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(O.viewBackgroundColor))&&ie.clearRect(0,0,ue,Ce),ie.save(),ie.fillStyle=O.viewBackgroundColor,ie.fillRect(0,0,ue,Ce),ie.restore()):ie.clearRect(0,0,ue,Ce),ie.save(),ie.scale(O.zoom.value,O.zoom.value),U&&_.gridSize&&function(dt,gt,jt,Ot,Zt,Bt){dt.save(),dt.strokeStyle="rgba(0,0,0,0.1)",dt.beginPath();for(var Tt=jt;Tt<jt+Zt+2*gt;Tt+=gt)dt.moveTo(Tt,Ot-gt),dt.lineTo(Tt,Ot+Bt+2*gt);for(var Jt=Ot;Jt<Ot+Bt+2*gt;Jt+=gt)dt.moveTo(jt-gt,Jt),dt.lineTo(jt+Zt+2*gt,Jt);dt.stroke(),dt.restore()}(ie,_.gridSize,-Math.ceil(O.zoom.value/_.gridSize)*_.gridSize+O.scrollX%_.gridSize,-Math.ceil(O.zoom.value/_.gridSize)*_.gridSize+O.scrollY%_.gridSize,ue/O.zoom.value,Ce/O.zoom.value);var Pe=h.filter(function(dt){return L(dt,ue,Ce,{zoom:O.zoom,offsetLeft:_.offsetLeft,offsetTop:_.offsetTop,scrollX:O.scrollX,scrollY:O.scrollY})}),B=void 0;if(Pe.forEach(function(dt){try{var gt;(0,n.lw)(dt,I,ie,O,_),((gt=_.editingLinearElement)===null||gt===void 0?void 0:gt.elementId)===dt.id&&dt&&(B=dt),D||N(dt,ie,_)}catch(jt){console.error(jt)}}),B&&s(ie,_,O,B),_.selectionElement)try{(0,n.lw)(_.selectionElement,I,ie,O,_)}catch(dt){console.error(dt)}(0,k.N1)(_)&&_.suggestedBindings.filter(function(dt){return dt!=null}).forEach(function(dt){T(ie,O,dt)});var Y,$=(0,R.eD)(h,_);if($.length===1&&((F=_.editingLinearElement)===null||F===void 0?void 0:F.elementId)===$[0].id&&s(ie,_,O,$[0]),_.selectedLinearElement&&_.selectedLinearElement.hoverPointIndex>=0&&function(dt,gt,jt){var Ot,Zt,Bt=gt.selectedLinearElement,Tt=Bt.elementId,Jt=Bt.hoverPointIndex;if((Ot=gt.editingLinearElement)===null||Ot===void 0||(Zt=Ot.selectedPointsIndices)===null||Zt===void 0||!Zt.includes(Jt)){var or=H._.getElement(Tt);if(or){var sr=H._.getPointAtIndexGlobalCoordinates(or,Jt);dt.save(),dt.translate(jt.scrollX,jt.scrollY),o(sr,dt,jt),dt.restore()}}}(ie,_,O),x&&!_.multiElement&&!_.editingLinearElement){var xe,Oe=(0,se.oY)($,_),Ze=$.map(function(dt){return dt.id});if($.length===1&&(0,de.bt)($[0])&&((xe=_.selectedLinearElement)===null||xe===void 0?void 0:xe.elementId)===$[0].id&&!$[0].locked&&s(ie,_,O,$[0]),Oe){var Fe,Je=h.reduce(function(dt,gt){var jt=[];if(Ze.includes(gt.id)&&!(0,G.zq)(_,gt)&&jt.push(ce),O.remoteSelectedElementIds[gt.id]&&jt.push.apply(jt,(0,f.Z)(O.remoteSelectedElementIds[gt.id].map(function(zt){return(0,Z.X)(zt,_).background}))),jt.length){var Ot=(0,j.qf)(gt,!0),Zt=(0,y.Z)(Ot,6),Bt=Zt[0],Tt=Zt[1],Jt=Zt[2],or=Zt[3],sr=Zt[4],ir=Zt[5];dt.push({angle:gt.angle,elementX1:Bt,elementY1:Tt,elementX2:Jt,elementY2:or,selectionColors:jt,dashed:!!O.remoteSelectedElementIds[gt.id],cx:sr,cy:ir})}return dt},[]),Ke=function(dt){var gt=(0,G.Fb)(h,dt),jt=(0,j.KP)(gt),Ot=(0,y.Z)(jt,4),Zt=Ot[0],Bt=Ot[1],Tt=Ot[2],Jt=Ot[3];Je.push({angle:0,elementX1:Zt,elementX2:Tt,elementY1:Bt,elementY2:Jt,selectionColors:[c.black],dashed:!0,cx:Zt+(Tt-Zt)/2,cy:Bt+(Jt-Bt)/2})},Be=ye((0,G.iJ)(_));try{for(Be.s();!(Fe=Be.n()).done;)Ke(Fe.value)}catch(dt){Be.e(dt)}finally{Be.f()}_.editingGroupId&&Ke(_.editingGroupId),Je.forEach(function(dt){return p(ie,O,dt)})}if(ie.save(),ie.translate(O.scrollX,O.scrollY),$.length===1){ie.fillStyle=c.white;var Le=(0,j.PC)($[0],O.zoom,"mouse");!_.viewModeEnabled&&Oe&&l(ie,O,Le,$[0].angle)}else if($.length>1&&!_.isRotating){var ne=2*m/O.zoom.value;ie.fillStyle=c.white;var me=(0,j.KP)($),ve=(0,y.Z)(me,4),we=ve[0],Ie=ve[1],Te=ve[2],ze=ve[3],We=ie.getLineDash();ie.setLineDash([2/O.zoom.value]);var He=ie.lineWidth;ie.lineWidth=1/O.zoom.value,ie.strokeStyle=ce,M(ie,we-ne,Ie-ne,Te-we+2*ne,ze-Ie+2*ne,(we+Te)/2,(Ie+ze)/2,0),ie.lineWidth=He,ie.setLineDash(We);var Ye=(0,j.kK)([we,Ie,Te,ze,(we+Te)/2,(Ie+ze)/2],0,O.zoom,"mouse",j.ox);$.some(function(dt){return!dt.locked})&&l(ie,O,Ye,0)}ie.restore()}for(var et in ie.restore(),O.remotePointerViewportCoords){var at=O.remotePointerViewportCoords[et],$e=at.x,tt=at.y;$e-=_.offsetLeft,tt-=_.offsetTop;var ct=$e<0||$e>ue-9||tt<0||tt>Ce-14;$e=Math.max($e,0),$e=Math.min($e,ue-9),tt=Math.max(tt,0),tt=Math.min(tt,Ce-14);var Et=(0,Z.X)(et,_),Pt=Et.background,_t=Et.stroke;ie.save(),ie.strokeStyle=_t,ie.fillStyle=Pt;var vt=O.remotePointerUserStates[et];(ct||vt===w.AWAY)&&(ie.globalAlpha=.48),O.remotePointerButton&&O.remotePointerButton[et]==="down"&&(ie.beginPath(),ie.arc($e,tt,15,0,2*Math.PI,!1),ie.lineWidth=3,ie.strokeStyle="#ffffff88",ie.stroke(),ie.closePath(),ie.beginPath(),ie.arc($e,tt,15,0,2*Math.PI,!1),ie.lineWidth=1,ie.strokeStyle=_t,ie.stroke(),ie.closePath()),ie.beginPath(),ie.moveTo($e,tt),ie.lineTo($e+1,tt+14),ie.lineTo($e+4,tt+9),ie.lineTo($e+9,tt+10),ie.lineTo($e,tt),ie.fill(),ie.stroke();var yt=O.remotePointerUsernames[et],ft="";vt===w.AWAY?ft=g?"\u26AB\uFE0F":" (".concat(w.AWAY,")"):vt===w.IDLE&&(ft=g?"\u{1F4A4}":" (".concat(w.IDLE,")"));var St="".concat(yt||"").concat(ft?" ".concat(ft):"");if(!ct&&St){var Yt=$e+9,qt=tt+14,Ct=ie.measureText(St),At=Ct.actualBoundingBoxDescent+Ct.actualBoundingBoxAscent,Ne=Yt-1,Ue=qt-1,ot=Ct.width+8+2,it=At+8+2;ie.roundRect?(ie.beginPath(),ie.roundRect(Ne,Ue,ot,it,4/O.zoom.value),ie.fillStyle=Pt,ie.fill(),ie.fillStyle=_t,ie.stroke()):(ie.fillStyle=_t,ie.fillRect(Ne,Ue,ot,it),ie.fillStyle=Pt,ie.fillRect(Yt,qt,ot-2,it-2)),ie.fillStyle=c.white,ie.fillText(St,Yt+4,qt+4+Ct.actualBoundingBoxAscent)}ie.restore(),ie.closePath()}return b&&(Y=(0,A.tJ)(h,ue,Ce,O),ie.save(),ie.fillStyle=A.w1,ie.strokeStyle="rgba(255,255,255,0.8)",[Y.horizontal,Y.vertical].forEach(function(dt){dt&&function(gt,jt,Ot,Zt,Bt,Tt){gt.beginPath(),gt.moveTo(jt+Tt,Ot),gt.lineTo(jt+Zt-Tt,Ot),gt.quadraticCurveTo(jt+Zt,Ot,jt+Zt,Ot+Tt),gt.lineTo(jt+Zt,Ot+Bt-Tt),gt.quadraticCurveTo(jt+Zt,Ot+Bt,jt+Zt-Tt,Ot+Bt),gt.lineTo(jt+Tt,Ot+Bt),gt.quadraticCurveTo(jt,Ot+Bt,jt,Ot+Bt-Tt),gt.lineTo(jt,Ot+Tt),gt.quadraticCurveTo(jt,Ot,jt+Tt,Ot),gt.closePath(),gt.fill(),gt.stroke()}(ie,dt.x,dt.y,dt.width,dt.height,A.nn/2)}),ie.restore()),ie.restore(),{atLeastOneVisibleElement:Pe.length>0,scrollBars:Y}},a=(0,pe.hR)(function(q){var F,h=e(q);(F=q.callback)===null||F===void 0||F.call(q,h)},{trailing:!0}),i=function(q,F){var h;if(!F){var _=e(q);return(h=q.callback)===null||h===void 0||h.call(q,_),_}a(q)},l=function(q,F,h,_){Object.keys(h).forEach(function(W){var I=h[W];if(I!==void 0){var re=(0,y.Z)(I,4),O=re[0],E=re[1],b=re[2],d=re[3];q.save(),q.lineWidth=1/F.zoom.value,F.selectionColor&&(q.strokeStyle=F.selectionColor),W==="rotation"?v(q,O+b/2,E+d/2,b/2):q.roundRect?(q.beginPath(),q.roundRect(O,E,b,d,2/F.zoom.value),q.fill(),q.stroke()):M(q,O,E,b,d,O+b/2,E+d/2,_,!0),q.restore()}})},p=function(q,F,h){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*m,W=h.angle,I=h.elementX1,re=h.elementY1,O=h.elementX2,E=h.elementY2,b=h.selectionColors,d=h.cx,x=h.cy,P=h.dashed,U=O-I,D=E-re,ce=_/F.zoom.value,ie=8/F.zoom.value,ue=4/F.zoom.value;q.save(),q.translate(F.scrollX,F.scrollY),q.lineWidth=1/F.zoom.value;for(var Ce=b.length,Pe=0;Pe<Ce;++Pe)q.strokeStyle=b[Pe],P&&q.setLineDash([ie,ue+(ie+ue)*(Ce-1)]),q.lineDashOffset=(ie+ue)*Pe,M(q,I-ce,re-ce,U+2*ce,D+2*ce,d,x,W);q.restore()},T=function(q,F,h){var _=Array.isArray(h)?te:X;q.save(),q.translate(F.scrollX,F.scrollY),_(q,h),q.restore()},X=function(q,F){var h=(0,j.qf)(F),_=(0,y.Z)(h,4),W=_[0],I=_[1],re=_[2]-W,O=_[3]-I,E=(0,le.fb)(F,re,O);q.strokeStyle="rgba(0,0,0,.05)",q.lineWidth=E-4;var b=2+E/2;switch(F.type){case"rectangle":case"text":case"image":M(q,W-b,I-b,re+2*b,O+2*b,W+re/2,I+O/2,F.angle);break;case"diamond":var d=Math.hypot(re,O);(function(x,P,U,D,ce,ie){x.save(),x.translate(D,ce),x.rotate(ie),x.beginPath(),x.moveTo(0,U/2),x.lineTo(P/2,0),x.lineTo(0,-U/2),x.lineTo(-P/2,0),x.closePath(),x.stroke(),x.restore()})(q,re+2*(b*d/O),O+2*(b*d/re),W+re/2,I+O/2,F.angle);break;case"ellipse":(function(x,P,U,D,ce,ie){x.beginPath(),x.ellipse(D,ce,P/2,U/2,ie,0,2*Math.PI),x.stroke()})(q,re+2*b,O+2*b,W+re/2,I+O/2,F.angle)}},te=function(q,F){var h=(0,y.Z)(F,3),_=h[0],W=h[1],I=h[2],re=(0,le.fb)(I,I.width,I.height);q.strokeStyle="rgba(0,0,0,0)",q.fillStyle="rgba(0,0,0,.05)",(W==="both"?[0,-1]:W==="start"?[0]:[-1]).forEach(function(O){var E=H._.getPointAtIndexGlobalCoordinates(_,O),b=(0,y.Z)(E,2),d=b[0],x=b[1];v(q,d,x,re)})},N=function(q,F,h){if(q.link&&!h.selectedElementIds[q.id]){var _=(0,j.qf)(q),W=(0,y.Z)(_,4),I=W[0],re=W[1],O=W[2],E=W[3],b=(0,ae.sw)([I,re,O,E],q.angle,h),d=(0,y.Z)(b,4),x=d[0],P=d[1],U=d[2],D=d[3],ce=x+U/2,ie=P+D/2;if(F.save(),F.translate(h.scrollX+ce,h.scrollY+ie),F.rotate(q.angle),J&&J.zoom===h.zoom.value)F.drawImage(J,x-ce,P-ie,U,D);else{(J=document.createElement("canvas")).zoom=h.zoom.value,J.width=U*window.devicePixelRatio*h.zoom.value,J.height=D*window.devicePixelRatio*h.zoom.value;var ue=J.getContext("2d");ue.scale(window.devicePixelRatio*h.zoom.value,window.devicePixelRatio*h.zoom.value),ue.fillStyle="#fff",ue.fillRect(0,0,U,D),ue.drawImage(ae.rj,0,0,U,D),ue.restore(),F.drawImage(J,x-ce,P-ie,U,D)}F.restore()}},L=function(q,F,h,_){var W=(0,j.Pi)(q),I=(0,y.Z)(W,4),re=I[0],O=I[1],E=I[2],b=I[3],d=(0,pe.dE)({clientX:_.offsetLeft,clientY:_.offsetTop},_),x=(0,pe.dE)({clientX:_.offsetLeft+F,clientY:_.offsetTop+h},_);return d.x<=E&&d.y<=b&&x.x>=re&&x.y>=O},fe=function(q,F,h,_){var W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},I=W.offsetX,re=I===void 0?0:I,O=W.offsetY,E=O===void 0?0:O,b=W.exportWithDarkMode,d=b!==void 0&&b;h&&q.forEach(function(x,P){if(!x.isDeleted)try{(0,n.Rg)(x,F,h,_,x.x+re,x.y+E,d)}catch(U){console.error(U)}})}},1564:function(ge,Q,t){var w=t(1930),y=t(8821),f=t(5169),c=t(1047),j=function(R){return typeof R=="string"},A=function(){function R(){(0,y.Z)(this,R),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,f.Z)(R,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(n){return this.elementsMap.get(n)||null}},{key:"getNonDeletedElement",value:function(n){var Z=this.getElement(n);return Z&&(0,c.qP)(Z)?Z:null}},{key:"mapElements",value:function(n){var Z=!1,H=this.elements.map(function(G){var le=n(G);return le!==G&&(Z=!0),le});return Z&&this.replaceAllElements(H),Z}},{key:"replaceAllElements",value:function(n){var Z=this;this.elements=n,this.elementsMap.clear(),n.forEach(function(H){Z.elementsMap.set(H.id,H),R.mapElementToScene(H,Z)}),this.nonDeletedElements=(0,c.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var n=0,Z=Array.from(this.callbacks);n<Z.length;n++)(0,Z[n])()}},{key:"addCallback",value:function(n){var Z=this;if(this.callbacks.has(n))throw new Error;return this.callbacks.add(n),function(){if(!Z.callbacks.has(n))throw new Error;Z.callbacks.delete(n)}}},{key:"destroy",value:function(){var n=this;R.sceneMapById.forEach(function(Z,H){Z===n&&R.sceneMapById.delete(H)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(n,Z){if(!Number.isFinite(Z)||Z<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var H=[].concat((0,w.Z)(this.elements.slice(0,Z)),[n],(0,w.Z)(this.elements.slice(Z)));this.replaceAllElements(H)}},{key:"getElementIndex",value:function(n){return this.elements.findIndex(function(Z){return Z.id===n})}}],[{key:"mapElementToScene",value:function(n,Z){j(n)?this.sceneMapById.set(n,Z):(this.sceneMapByElement.set(n,Z),this.sceneMapById.set(n.id,Z))}},{key:"getScene",value:function(n){return j(n)?this.sceneMapById.get(n)||null:this.sceneMapByElement.get(n)||null}}]),R}();A.sceneMapByElement=new WeakMap,A.sceneMapById=new Map,Q.Z=A},8120:function(ge,Q,t){t.d(Q,{$b:function(){return w},CJ:function(){return Z},M9:function(){return c},PD:function(){return y},QG:function(){return n},Un:function(){return R},Zd:function(){return f},bZ:function(){return A},sh:function(){return j}});var w=function(H){return H==="rectangle"||H==="ellipse"||H==="diamond"||H==="line"||H==="freedraw"},y=function(H){return H!=="image"},f=function(H){return H==="rectangle"||H==="ellipse"||H==="diamond"||H==="freedraw"||H==="arrow"||H==="line"},c=function(H){return H==="rectangle"||H==="ellipse"||H==="diamond"||H==="arrow"||H==="line"},j=function(H){return H==="rectangle"||H==="arrow"||H==="line"||H==="diamond"},A=function(H){return H==="text"},R=function(H){return H==="arrow"},n=function(H,G){for(var le=null,k=H.length-1;k>=0;--k){var se=H[k];if(!se.isDeleted&&G(se)){le=se;break}}return le},Z=function(H,G){return H.filter(function(le){return!le.isDeleted&&G(le)})}},4162:function(ge,Q,t){t.d(Q,{$D:function(){return pe},Cg:function(){return ae},NL:function(){return se},oj:function(){return k}});var w=t(2577),y=t(8950),f=t(2975),c=t.n(f),j=t(8234),A=t(8925),R=t(3547),n=t(6340),Z=t(2335),H=t(8897),G=t(5523),le=t(5637),k="<!-- svg-source:excalidraw -->",se=function(){var de=(0,y.Z)(c().mark(function ye(C,J,g,m){var M,v,u,s,o,e,a,i,l,p,T,X,te,N,L,fe,q,F,h=arguments;return c().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return M=m.exportBackground,v=m.exportPadding,u=v===void 0?Z.qy:v,s=m.viewBackgroundColor,o=h.length>4&&h[4]!==void 0?h[4]:function(W,I){var re=document.createElement("canvas");return re.width=W*J.exportScale,re.height=I*J.exportScale,{canvas:re,scale:J.exportScale}},e=Ee(C,u),a=(0,w.Z)(e,4),i=a[0],l=a[1],p=a[2],T=a[3],X=o(p,T),te=X.canvas,N=X.scale,L=N===void 0?1:N,fe=(0,H.im)(),_.next=7,(0,le.Xx)({imageCache:new Map,fileIds:(0,le.oA)(C).map(function(W){return W.fileId}),files:g});case 7:return q=_.sent,F=q.imageCache,(0,R.Eu)({elements:C,appState:J,scale:L,rc:j.Z.canvas(te),canvas:te,renderConfig:{viewBackgroundColor:M?s:null,scrollX:-i+u,scrollY:-l+u,zoom:fe.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:J.exportWithDarkMode?"dark":"light",imageCache:F,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),_.abrupt("return",te);case 11:case"end":return _.stop()}},ye)}));return function(ye,C,J,g){return de.apply(this,arguments)}}(),pe=function(){var de=(0,y.Z)(c().mark(function ye(C,J,g){var m,M,v,u,s,o,e,a,i,l,p,T,X,te,N,L,fe,q;return c().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(m=J.exportPadding,M=m===void 0?Z.qy:m,v=J.viewBackgroundColor,u=J.exportScale,s=u===void 0?1:u,o=J.exportEmbedScene,e="",!o){F.next=14;break}return F.prev=3,F.next=6,Promise.resolve().then(t.bind(t,673));case 6:return F.next=8,F.sent.encodeSvgMetadata({text:(0,G.I_)(C,J,g||{},"local")});case 8:e=F.sent,F.next=14;break;case 11:F.prev=11,F.t0=F.catch(3),console.error(F.t0);case 14:return a=Ee(C,M),i=(0,w.Z)(a,4),l=i[0],p=i[1],T=i[2],X=i[3],(te=document.createElementNS(Z.hR,"svg")).setAttribute("version","1.1"),te.setAttribute("xmlns",Z.hR),te.setAttribute("viewBox","0 0 ".concat(T," ").concat(X)),te.setAttribute("width","".concat(T*s)),te.setAttribute("height","".concat(X*s)),J.exportWithDarkMode&&te.setAttribute("filter",Z.ZF),N="https://excalidraw.com/",N=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.14.2"),(L=N)!==null&&L!==void 0&&L.startsWith("/")&&(N=N.replace("/","".concat(window.location.origin,"/"))),N="".concat(N,"/dist/excalidraw-assets/"),te.innerHTML=`
  `.concat(k,`
  `).concat(e,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(N,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(N,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),J.exportBackground&&v&&((fe=te.ownerDocument.createElementNS(Z.hR,"rect")).setAttribute("x","0"),fe.setAttribute("y","0"),fe.setAttribute("width","".concat(T)),fe.setAttribute("height","".concat(X)),fe.setAttribute("fill",v),te.appendChild(fe)),q=j.Z.svg(te),(0,R.M_)(C,q,te,g||{},{offsetX:-l+M,offsetY:-p+M,exportWithDarkMode:J.exportWithDarkMode}),F.abrupt("return",te);case 29:case"end":return F.stop()}},ye,null,[[3,11]])}));return function(ye,C,J){return de.apply(this,arguments)}}(),Ee=function(de,ye){var C=(0,A.KP)(de),J=(0,w.Z)(C,4),g=J[0],m=J[1],M=J[2],v=J[3];return[g,m,(0,n.TE)(g,M)+2*ye,(0,n.TE)(m,v)+ye+ye]},ae=function(de,ye,C){var J=Ee(de,ye).map(function(m){return Math.trunc(m*C)}),g=(0,w.Z)(J,4);return[g[2],g[3]]}},75:function(ge,Q,t){t.d(Q,{$b:function(){return c.$b},CJ:function(){return c.CJ},M9:function(){return c.M9},N:function(){return y.N},PR:function(){return y.PR},QG:function(){return c.QG},Un:function(){return c.Un},W:function(){return f.W},Yp:function(){return y.Yp},Zd:function(){return c.Zd},Zs:function(){return y.Zs},_4:function(){return w._4},bZ:function(){return c.bZ},eD:function(){return y.eD},j:function(){return j.j},sh:function(){return c.sh}});var w=t(756),y=t(1868),f=t(2264),c=t(8120),j=t(746)},2264:function(ge,Q,t){t.d(Q,{W:function(){return j},s:function(){return c}});var w=t(2577),y=t(1047),f=t(6340),c=function(A){var R=A.scenePoint,n=A.viewportDimensions,Z=A.zoom;return{scrollX:n.width/2/Z.value-R.x,scrollY:n.height/2/Z.value-R.y}},j=function(A,R,n){if(!(A=(0,y.n_)(A)).length)return{scrollX:0,scrollY:0};var Z=(0,y.KP)(A),H=(0,w.Z)(Z,4),G=H[0],le=H[1],k=H[2],se=H[3];if(function(ae,de,ye){var C=(0,w.Z)(ye,4),J=C[0],g=C[1],m=C[2],M=C[3],v=(0,f._i)({sceneX:J,sceneY:g},ae),u=v.x,s=v.y,o=(0,f._i)({sceneX:m,sceneY:M},ae),e=o.x,a=o.y;return e-u>ae.width||a-s>ae.height}(R,0,[G,le,k,se])){var pe=(0,y.os)(A,(0,f.dE)({clientX:R.scrollX,clientY:R.scrollY},R)),Ee=(0,w.Z)(pe,4);G=Ee[0],le=Ee[1],k=Ee[2],se=Ee[3]}return c({scenePoint:{x:(G+k)/2,y:(le+se)/2},viewportDimensions:{width:R.width,height:R.height},zoom:R.zoom})}},756:function(ge,Q,t){t.d(Q,{WM:function(){return j},_4:function(){return Z},nn:function(){return A},tJ:function(){return n},w1:function(){return R}});var w=t(2577),y=t(1047),f=t(6340),c=t(8211),j=4,A=6,R="rgba(0,0,0,0.3)",n=function(H,G,le,k){var se=k.scrollX,pe=k.scrollY,Ee=k.zoom;if(H.length===0)return{horizontal:null,vertical:null};var ae=(0,y.KP)(H),de=(0,w.Z)(ae,4),ye=de[0],C=de[1],J=de[2],g=de[3],m=G/Ee.value,M=le/Ee.value,v=G-m,u=le-M,s={top:parseInt((0,f.IH)("sat")),bottom:parseInt((0,f.IH)("sab")),left:parseInt((0,f.IH)("sal")),right:parseInt((0,f.IH)("sar"))},o=(0,c.G3)().rtl,e=v/2-se+s.left,a=u/2-pe+s.top,i=e+m-s.right,l=a+M-s.bottom,p=Math.min(ye,e),T=Math.min(C,a),X=Math.max(J,i),te=Math.max(g,l);return{horizontal:e===p&&i===X?null:{x:Math.max(s.left,j)+(e-p)/(X-p)*G,y:le-A-Math.max(j,s.bottom),width:(i-e)/(X-p)*G-Math.max(2*j,s.left+s.right),height:A},vertical:a===T&&l===te?null:{x:o?Math.max(s.left,j):G-A-Math.max(s.right,j),y:(a-T)/(te-T)*le+Math.max(s.top,j),width:A,height:(l-a)/(te-T)*le-Math.max(2*j,s.top+s.bottom)}}},Z=function(H,G,le){var k=[H.horizontal,H.vertical].map(function(ae){return ae!=null&&ae.x<=G&&G<=ae.x+ae.width&&ae.y<=le&&le<=ae.y+ae.height}),se=(0,w.Z)(k,2),pe=se[0],Ee=se[1];return{isOverEither:pe||Ee,isOverHorizontal:pe,isOverVertical:Ee}}},1868:function(ge,Q,t){t.d(Q,{N:function(){return j},PR:function(){return A},Yp:function(){return c},Zs:function(){return n},eD:function(){return R}});var w=t(2577),y=t(1047),f=t(1974),c=function(Z,H){var G=(0,y.qf)(H),le=(0,w.Z)(G,4),k=le[0],se=le[1],pe=le[2],Ee=le[3];return Z.filter(function(ae){var de=(0,y.Pi)(ae),ye=(0,w.Z)(de,4),C=ye[0],J=ye[1],g=ye[2],m=ye[3];return ae.locked===!1&&ae.type!=="selection"&&!(0,f.Xh)(ae)&&k<=C&&se<=J&&pe>=g&&Ee>=m})},j=function(Z,H){return Z.some(function(G){return H.selectedElementIds[G.id]})},A=function(Z,H,G){var le=Array.from(new Set(R(Z,H).map(function(k){return G(k)})));return le.length===1?le[0]:null},R=function(Z,H){var G=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Z.filter(function(le){return H.selectedElementIds[le.id]||G&&(0,f.Xh)(le)&&H.selectedElementIds[le==null?void 0:le.containerId]?le:null})},n=function(Z,H){return H.editingElement?[H.editingElement]:R(Z,H,!0)}},746:function(ge,Q,t){t.d(Q,{E:function(){return f},j:function(){return y}});var w=t(2335),y=function(c){return Math.max(w.Zj,Math.min(c,30))},f=function(c,j){var A=c.viewportX,R=c.viewportY,n=c.nextZoom,Z=A-j.offsetLeft,H=R-j.offsetTop,G=j.zoom.value;return{scrollX:j.scrollX+(Z-Z/G)+-(Z-Z/n),scrollY:j.scrollY+(H-H/G)+-(H-H/n),zoom:{value:n}}}},6340:function(ge,Q,t){t.d(Q,{$9:function(){return re},$g:function(){return ye},$h:function(){return ie},AK:function(){return fe},C3:function(){return x},Ds:function(){return J},FG:function(){return q},Fc:function(){return se},G3:function(){return d},IH:function(){return te},Ip:function(){return E},KJ:function(){return s},Mj:function(){return B},OF:function(){return o},Om:function(){return v},Oo:function(){return pe},PI:function(){return W},Pr:function(){return l},Q5:function(){return O},Qm:function(){return _},TE:function(){return M},Uk:function(){return e},_Z:function(){return ae},_i:function(){return X},ag:function(){return D},cx:function(){return F},dE:function(){return T},dZ:function(){return L},h2:function(){return U},hR:function(){return g},mO:function(){return C},qr:function(){return h},qz:function(){return b},rB:function(){return a},s:function(){return de},tH:function(){return I},uY:function(){return p},v4:function(){return ce},w8:function(){return Pe},wO:function(){return Ee},wo:function(){return i},xn:function(){return P},xp:function(){return Ce},y8:function(){return ue},yo:function(){return m},z8:function(){return u}});var w=t(6655),y=t(7169),f=t(1930),c=t(2577),j=t(5284),A=t(56),R=t(2335),n=t(5156),Z=t(8897);function H(Y,$){var xe=Object.keys(Y);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(Y);$&&(Oe=Oe.filter(function(Ze){return Object.getOwnPropertyDescriptor(Y,Ze).enumerable})),xe.push.apply(xe,Oe)}return xe}function G(Y){for(var $=1;$<arguments.length;$++){var xe=arguments[$]!=null?arguments[$]:{};$%2?H(Object(xe),!0).forEach(function(Oe){(0,y.Z)(Y,Oe,xe[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(xe)):H(Object(xe)).forEach(function(Oe){Object.defineProperty(Y,Oe,Object.getOwnPropertyDescriptor(xe,Oe))})}return Y}var le,k,se=function(){var Y=new Date,$=Y.getFullYear(),xe="".concat(Y.getMonth()+1).padStart(2,"0"),Oe="".concat(Y.getDate()).padStart(2,"0"),Ze="".concat(Y.getHours()).padStart(2,"0"),Fe="".concat(Y.getMinutes()).padStart(2,"0");return"".concat($,"-").concat(xe,"-").concat(Oe,"-").concat(Ze).concat(Fe)},pe=function(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)},Ee=function(Y){return Y instanceof HTMLElement&&Y.className.includes("ToolIcon")},ae=function(Y){return Y instanceof HTMLElement&&Y.dataset.type==="wysiwyg"||Y instanceof HTMLBRElement||Y instanceof HTMLInputElement||Y instanceof HTMLTextAreaElement||Y instanceof HTMLSelectElement},de=function(Y){return Y instanceof HTMLElement&&Y.dataset.type==="wysiwyg"||Y instanceof HTMLBRElement||Y instanceof HTMLTextAreaElement||Y instanceof HTMLInputElement&&(Y.type==="text"||Y.type==="number")},ye=function(Y){for(var $=Y.fontFamily,xe=0,Oe=Object.entries(R.ut);xe<Oe.length;xe++){var Ze=(0,c.Z)(Oe[xe],2),Fe=Ze[0];if(Ze[1]===$)return"".concat(Fe,", ").concat(R._D)}return R._D},C=function(Y){var $=Y.fontSize,xe=Y.fontFamily;return"".concat($,"px ").concat(ye({fontFamily:xe}))},J=function(Y,$){var xe=0,Oe=null,Ze=function(){for(var Fe=arguments.length,Je=new Array(Fe),Ke=0;Ke<Fe;Ke++)Je[Ke]=arguments[Ke];Oe=Je,clearTimeout(xe),xe=window.setTimeout(function(){Oe=null,Y.apply(void 0,Je)},$)};return Ze.flush=function(){if(clearTimeout(xe),Oe){var Fe=Oe;Oe=null,Y.apply(void 0,(0,f.Z)(Fe))}},Ze.cancel=function(){Oe=null,clearTimeout(xe)},Ze},g=function(Y,$){var xe=null,Oe=null,Ze=null,Fe=function Ke(Be){xe=window.requestAnimationFrame(function(){xe=null,Y.apply(void 0,(0,f.Z)(Be)),Oe=null,Ze&&(Oe=Ze,Ze=null,Ke(Oe))})},Je=function(){for(var Ke=arguments.length,Be=new Array(Ke),Le=0;Le<Ke;Le++)Be[Le]=arguments[Le];Oe=Be,xe===null?Fe(Oe):$!=null&&$.trailing&&(Ze=Be)};return Je.flush=function(){xe!==null&&(cancelAnimationFrame(xe),xe=null),Oe&&(Y.apply(void 0,(0,f.Z)(Ze||Oe)),Oe=Ze=null)},Je.cancel=function(){Oe=Ze=null,xe!==null&&(cancelAnimationFrame(xe),xe=null)},Je},m=function(Y,$){if(!Y.length||$<1)return[];for(var xe=0,Oe=0,Ze=Array(Math.ceil(Y.length/$));xe<Y.length;)Ze[Oe++]=Y.slice(xe,xe+=$);return Ze},M=function(Y,$){return Math.abs(Y-$)},v=function(Y,$){return $.type==="custom"?G(G({},Y.activeTool),{},{type:"custom",customType:$.customType}):G(G({},Y.activeTool),{},{lastActiveTool:$.lastActiveToolBeforeEraser===void 0?Y.activeTool.lastActiveTool:$.lastActiveToolBeforeEraser,type:$.type,customType:null})},u=function(Y){Y&&(Y.style.cursor="")},s=function(Y,$){Y&&(Y.style.cursor=$)},o=function(Y,$){le&&le.theme===$||function(){var xe=$===R.C6.DARK;(le=document.createElement("canvas")).theme=$,le.height=20,le.width=20;var Oe=le.getContext("2d");Oe.lineWidth=1,Oe.beginPath(),Oe.arc(le.width/2,le.height/2,5,0,2*Math.PI),Oe.fillStyle=xe?j.black:j.white,Oe.fill(),Oe.strokeStyle=xe?j.white:j.black,Oe.stroke(),k=le.toDataURL(R.LO.svg)}(),s(Y,"url(".concat(k,") ").concat(10," ").concat(10,", auto"))},e=function(Y,$){Y&&($.activeTool.type==="selection"?u(Y):(0,Z.l$)($)?Y.style.cursor=R.oc.GRAB:(0,Z.EN)($)?o(Y,$.theme):["image","custom"].includes($.activeTool.type)||(Y.style.cursor=R.oc.CROSSHAIR))},a=function(){var Y;return((Y=document.fullscreenElement)===null||Y===void 0?void 0:Y.nodeName)==="HTML"},i=function(){return document.documentElement.requestFullscreen()},l=function(){return document.exitFullscreen()},p=function(Y){return Y=Y.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),R.Um?Y.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):Y.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},T=function(Y,$){var xe=Y.clientX,Oe=Y.clientY,Ze=$.zoom,Fe=$.offsetLeft,Je=$.offsetTop,Ke=$.scrollX,Be=$.scrollY;return{x:(xe-Fe)/Ze.value-Ke,y:(Oe-Je)/Ze.value-Be}},X=function(Y,$){var xe=Y.sceneX,Oe=Y.sceneY,Ze=$.zoom,Fe=$.offsetLeft,Je=$.offsetTop,Ke=$.scrollX,Be=$.scrollY;return{x:(xe+Ke)*Ze.value+Fe,y:(Oe+Be)*Ze.value+Je}},te=function(Y){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(Y))},N=new RegExp("^[^".concat("A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")),L=function(Y){return N.test(Y)},fe=function(Y){var $=(0,c.Z)(Y,2);return{x:$[0],y:$[1]}},q=function(Y){if((Y==null?void 0:Y.name)!=="AbortError")throw Y;console.warn(Y)},F=function(Y,$){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;xe<0&&(xe=Y.length+xe);for(var Oe=(xe=Math.min(Y.length,Math.max(xe,0)))-1;++Oe<Y.length;)if($(Y[Oe],Oe,Y))return Oe;return-1},h=function(Y,$){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y.length-1;xe<0&&(xe=Y.length+xe);for(var Oe=(xe=Math.min(Y.length-1,Math.max(xe,0)))+1;--Oe>-1;)if($(Y[Oe],Oe,Y))return Oe;return-1},_=function(Y){var $=Y.length===5&&Y.substr(4,1)==="0",xe=Y.length===9&&Y.substr(7,2)==="00";return $||xe||Y===A.Z.elementBackground[0]},W=function(){var Y,$,xe=new Promise(function(Oe,Ze){Y=Oe,$=Ze});return xe.resolve=Y,xe.reject=$,xe},I=function(Y){return function($){(0,n.unstable_batchedUpdates)(Y,$)}},re=function(Y){return g(function($){(0,n.unstable_batchedUpdates)(Y,$)})},O=function(){var Y=document.createElement("canvas").getContext("2d");return Y?(Y.fillStyle="#f00",Y.textBaseline="top",Y.font="32px Arial",Y.fillText("\u{1F600}",0,0),Y.getImageData(12,12,1,1).data[0]!==0):!1},E=function(Y){for(var $=Y.parentElement;$;){if($===document.body)return document;var xe=window.getComputedStyle($).overflowY;if($.scrollHeight>$.clientHeight&&(xe==="auto"||xe==="scroll"||xe==="overlay"))return $;$=$.parentElement}return document},b=function(Y){for(var $=Y.parentElement;$;){if($.tabIndex>-1)return void $.focus();$=$.parentElement}},d=function(Y){return Array.from(Y).map(function($){return"0".concat($.toString(16)).slice(-2)}).join("")},x=function(){return U()?1:Date.now()},P=function(Y){return Y.reduce(function($,xe){return $.set(typeof xe=="string"?xe:xe.id,xe),$},new Map)},U=function(){var Y;return typeof process!="undefined"&&((Y={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})===null||Y===void 0?void 0:Y.NODE_ENV)==="test"},D=function(Y,$){return new CustomEvent(Y,{detail:{nativeEvent:$},cancelable:!0})},ce=function(Y,$){var xe=!1;for(var Oe in $){var Ze=$[Oe];if(Ze!==void 0){if(Y[Oe]===Ze&&((0,w.Z)(Ze)!=="object"||Ze===null))continue;xe=!0}}return xe?G(G({},Y),$):Y},ie=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},ue=function(Y){return!!Y&&(0,w.Z)(Y)==="object"&&"then"in Y&&"catch"in Y&&"finally"in Y},Ce=function(Y){var $=Y==null?void 0:Y.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return $?Array.from($).filter(function(xe){return xe.tabIndex>-1&&!xe.disabled}):[]},Pe=function(Y,$){var xe=Object.keys(Y),Oe=Object.keys(Y);return xe.length===Oe.length&&xe.every(function(Ze){return Y[Ze]===$[Ze]})},B=function(Y,$){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Oe=xe.checkForDefaultPrevented,Ze=Oe===void 0||Oe;return function(Fe){if(Y==null||Y(Fe),!Ze||!Fe.defaultPrevented)return $==null?void 0:$(Fe)}}},9669:function(ge){ge.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(ge){ge.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(ge){ge.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Cascadia.woff2"},3940:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Virgil.woff2"},9787:function(ge){ge.exports=nr},5156:function(ge){ge.exports=Pr},9649:function(ge,Q,t){var w=t(8114).default;function y(){ge.exports=y=function(){return f},ge.exports.__esModule=!0,ge.exports.default=ge.exports;var f={},c=Object.prototype,j=c.hasOwnProperty,A=Object.defineProperty||function(i,l,p){i[l]=p.value},R=typeof Symbol=="function"?Symbol:{},n=R.iterator||"@@iterator",Z=R.asyncIterator||"@@asyncIterator",H=R.toStringTag||"@@toStringTag";function G(i,l,p){return Object.defineProperty(i,l,{value:p,enumerable:!0,configurable:!0,writable:!0}),i[l]}try{G({},"")}catch{G=function(l,p,T){return l[p]=T}}function le(i,l,p,T){var X=l&&l.prototype instanceof pe?l:pe,te=Object.create(X.prototype),N=new o(T||[]);return A(te,"_invoke",{value:M(i,p,N)}),te}function k(i,l,p){try{return{type:"normal",arg:i.call(l,p)}}catch(T){return{type:"throw",arg:T}}}f.wrap=le;var se={};function pe(){}function Ee(){}function ae(){}var de={};G(de,n,function(){return this});var ye=Object.getPrototypeOf,C=ye&&ye(ye(e([])));C&&C!==c&&j.call(C,n)&&(de=C);var J=ae.prototype=pe.prototype=Object.create(de);function g(i){["next","throw","return"].forEach(function(l){G(i,l,function(p){return this._invoke(l,p)})})}function m(i,l){function p(X,te,N,L){var fe=k(i[X],i,te);if(fe.type!=="throw"){var q=fe.arg,F=q.value;return F&&w(F)=="object"&&j.call(F,"__await")?l.resolve(F.__await).then(function(h){p("next",h,N,L)},function(h){p("throw",h,N,L)}):l.resolve(F).then(function(h){q.value=h,N(q)},function(h){return p("throw",h,N,L)})}L(fe.arg)}var T;A(this,"_invoke",{value:function(X,te){function N(){return new l(function(L,fe){p(X,te,L,fe)})}return T=T?T.then(N,N):N()}})}function M(i,l,p){var T="suspendedStart";return function(X,te){if(T==="executing")throw new Error("Generator is already running");if(T==="completed"){if(X==="throw")throw te;return a()}for(p.method=X,p.arg=te;;){var N=p.delegate;if(N){var L=v(N,p);if(L){if(L===se)continue;return L}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(T==="suspendedStart")throw T="completed",p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);T="executing";var fe=k(i,l,p);if(fe.type==="normal"){if(T=p.done?"completed":"suspendedYield",fe.arg===se)continue;return{value:fe.arg,done:p.done}}fe.type==="throw"&&(T="completed",p.method="throw",p.arg=fe.arg)}}}function v(i,l){var p=i.iterator[l.method];if(p===void 0){if(l.delegate=null,l.method==="throw"){if(i.iterator.return&&(l.method="return",l.arg=void 0,v(i,l),l.method==="throw"))return se;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return se}var T=k(p,i.iterator,l.arg);if(T.type==="throw")return l.method="throw",l.arg=T.arg,l.delegate=null,se;var X=T.arg;return X?X.done?(l[i.resultName]=X.value,l.next=i.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,se):X:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,se)}function u(i){var l={tryLoc:i[0]};1 in i&&(l.catchLoc=i[1]),2 in i&&(l.finallyLoc=i[2],l.afterLoc=i[3]),this.tryEntries.push(l)}function s(i){var l=i.completion||{};l.type="normal",delete l.arg,i.completion=l}function o(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(u,this),this.reset(!0)}function e(i){if(i){var l=i[n];if(l)return l.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length)){var p=-1,T=function X(){for(;++p<i.length;)if(j.call(i,p))return X.value=i[p],X.done=!1,X;return X.value=void 0,X.done=!0,X};return T.next=T}}return{next:a}}function a(){return{value:void 0,done:!0}}return Ee.prototype=ae,A(J,"constructor",{value:ae,configurable:!0}),A(ae,"constructor",{value:Ee,configurable:!0}),Ee.displayName=G(ae,H,"GeneratorFunction"),f.isGeneratorFunction=function(i){var l=typeof i=="function"&&i.constructor;return!!l&&(l===Ee||(l.displayName||l.name)==="GeneratorFunction")},f.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,ae):(i.__proto__=ae,G(i,H,"GeneratorFunction")),i.prototype=Object.create(J),i},f.awrap=function(i){return{__await:i}},g(m.prototype),G(m.prototype,Z,function(){return this}),f.AsyncIterator=m,f.async=function(i,l,p,T,X){X===void 0&&(X=Promise);var te=new m(le(i,l,p,T),X);return f.isGeneratorFunction(l)?te:te.next().then(function(N){return N.done?N.value:te.next()})},g(J),G(J,H,"Generator"),G(J,n,function(){return this}),G(J,"toString",function(){return"[object Generator]"}),f.keys=function(i){var l=Object(i),p=[];for(var T in l)p.push(T);return p.reverse(),function X(){for(;p.length;){var te=p.pop();if(te in l)return X.value=te,X.done=!1,X}return X.done=!0,X}},f.values=e,o.prototype={constructor:o,reset:function(i){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(s),!i)for(var l in this)l.charAt(0)==="t"&&j.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=void 0)},stop:function(){this.done=!0;var i=this.tryEntries[0].completion;if(i.type==="throw")throw i.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var l=this;function p(fe,q){return te.type="throw",te.arg=i,l.next=fe,q&&(l.method="next",l.arg=void 0),!!q}for(var T=this.tryEntries.length-1;T>=0;--T){var X=this.tryEntries[T],te=X.completion;if(X.tryLoc==="root")return p("end");if(X.tryLoc<=this.prev){var N=j.call(X,"catchLoc"),L=j.call(X,"finallyLoc");if(N&&L){if(this.prev<X.catchLoc)return p(X.catchLoc,!0);if(this.prev<X.finallyLoc)return p(X.finallyLoc)}else if(N){if(this.prev<X.catchLoc)return p(X.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return p(X.finallyLoc)}}}},abrupt:function(i,l){for(var p=this.tryEntries.length-1;p>=0;--p){var T=this.tryEntries[p];if(T.tryLoc<=this.prev&&j.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var X=T;break}}X&&(i==="break"||i==="continue")&&X.tryLoc<=l&&l<=X.finallyLoc&&(X=null);var te=X?X.completion:{};return te.type=i,te.arg=l,X?(this.method="next",this.next=X.finallyLoc,se):this.complete(te)},complete:function(i,l){if(i.type==="throw")throw i.arg;return i.type==="break"||i.type==="continue"?this.next=i.arg:i.type==="return"?(this.rval=this.arg=i.arg,this.method="return",this.next="end"):i.type==="normal"&&l&&(this.next=l),se},finish:function(i){for(var l=this.tryEntries.length-1;l>=0;--l){var p=this.tryEntries[l];if(p.finallyLoc===i)return this.complete(p.completion,p.afterLoc),s(p),se}},catch:function(i){for(var l=this.tryEntries.length-1;l>=0;--l){var p=this.tryEntries[l];if(p.tryLoc===i){var T=p.completion;if(T.type==="throw"){var X=T.arg;s(p)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(i,l,p){return this.delegate={iterator:e(i),resultName:l,nextLoc:p},this.method==="next"&&(this.arg=void 0),se}},f}ge.exports=y,ge.exports.__esModule=!0,ge.exports.default=ge.exports},8114:function(ge){function Q(t){return ge.exports=Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ge.exports.__esModule=!0,ge.exports.default=ge.exports,Q(t)}ge.exports=Q,ge.exports.__esModule=!0,ge.exports.default=ge.exports},2975:function(ge,Q,t){var w=t(9649)();ge.exports=w;try{regeneratorRuntime=w}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=w:Function("r","regeneratorRuntime = r")(w)}},7017:function(ge,Q,t){function w(y,f){(f==null||f>y.length)&&(f=y.length);for(var c=0,j=new Array(f);c<f;c++)j[c]=y[c];return j}t.d(Q,{Z:function(){return w}})},3173:function(ge,Q,t){function w(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}t.d(Q,{Z:function(){return w}})},8950:function(ge,Q,t){function w(f,c,j,A,R,n,Z){try{var H=f[n](Z),G=H.value}catch(le){return void j(le)}H.done?c(G):Promise.resolve(G).then(A,R)}function y(f){return function(){var c=this,j=arguments;return new Promise(function(A,R){var n=f.apply(c,j);function Z(G){w(n,A,R,Z,H,"next",G)}function H(G){w(n,A,R,Z,H,"throw",G)}Z(void 0)})}}t.d(Q,{Z:function(){return y}})},8821:function(ge,Q,t){function w(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}t.d(Q,{Z:function(){return w}})},5169:function(ge,Q,t){function w(f,c){for(var j=0;j<c.length;j++){var A=c[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,A.key,A)}}function y(f,c,j){return c&&w(f.prototype,c),j&&w(f,j),Object.defineProperty(f,"prototype",{writable:!1}),f}t.d(Q,{Z:function(){return y}})},7169:function(ge,Q,t){function w(y,f,c){return f in y?Object.defineProperty(y,f,{value:c,enumerable:!0,configurable:!0,writable:!0}):y[f]=c,y}t.d(Q,{Z:function(){return w}})},2312:function(ge,Q,t){function w(y){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},w(y)}t.d(Q,{Z:function(){return w}})},2248:function(ge,Q,t){t.d(Q,{Z:function(){return y}});var w=t(5901);function y(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),c&&(0,w.Z)(f,c)}},2726:function(ge,Q,t){function w(y,f){if(y==null)return{};var c,j,A=function(n,Z){if(n==null)return{};var H,G,le={},k=Object.keys(n);for(G=0;G<k.length;G++)H=k[G],Z.indexOf(H)>=0||(le[H]=n[H]);return le}(y,f);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(y);for(j=0;j<R.length;j++)c=R[j],f.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(y,c)&&(A[c]=y[c])}return A}t.d(Q,{Z:function(){return w}})},7245:function(ge,Q,t){t.d(Q,{Z:function(){return f}});var w=t(6655),y=t(3173);function f(c,j){if(j&&((0,w.Z)(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,y.Z)(c)}},5901:function(ge,Q,t){function w(y,f){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,j){return c.__proto__=j,c},w(y,f)}t.d(Q,{Z:function(){return w}})},2577:function(ge,Q,t){t.d(Q,{Z:function(){return y}});var w=t(9139);function y(f,c){return function(j){if(Array.isArray(j))return j}(f)||function(j,A){var R=j==null?null:typeof Symbol!="undefined"&&j[Symbol.iterator]||j["@@iterator"];if(R!=null){var n,Z,H=[],G=!0,le=!1;try{for(R=R.call(j);!(G=(n=R.next()).done)&&(H.push(n.value),!A||H.length!==A);G=!0);}catch(k){le=!0,Z=k}finally{try{G||R.return==null||R.return()}finally{if(le)throw Z}}return H}}(f,c)||(0,w.Z)(f,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(ge,Q,t){t.d(Q,{Z:function(){return f}});var w=t(7017),y=t(9139);function f(c){return function(j){if(Array.isArray(j))return(0,w.Z)(j)}(c)||function(j){if(typeof Symbol!="undefined"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}(c)||(0,y.Z)(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(ge,Q,t){function w(y){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},w(y)}t.d(Q,{Z:function(){return w}})},9139:function(ge,Q,t){t.d(Q,{Z:function(){return y}});var w=t(7017);function y(f,c){if(f){if(typeof f=="string")return(0,w.Z)(f,c);var j=Object.prototype.toString.call(f).slice(8,-1);return j==="Object"&&f.constructor&&(j=f.constructor.name),j==="Map"||j==="Set"?Array.from(f):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?(0,w.Z)(f,c):void 0}}},5605:function(ge,Q,t){t.d(Q,{x0:function(){return w}});let w=(y=21)=>crypto.getRandomValues(new Uint8Array(y)).reduce((f,c)=>f+=(c&=63)<36?c.toString(36):c<62?(c-26).toString(36).toUpperCase():c>62?"-":"_","")},5284:function(ge){ge.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(ge){ge.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}`)},4451:function(ge){ge.exports=JSON.parse('{"ar-SA":87,"bg-BG":55,"bn-BD":60,"ca-ES":94,"cs-CZ":75,"da-DK":33,"de-DE":100,"el-GR":100,"en":100,"es-ES":100,"eu-ES":100,"fa-IR":96,"fi-FI":93,"fr-FR":100,"gl-ES":100,"he-IL":90,"hi-IN":69,"hu-HU":89,"id-ID":100,"it-IT":100,"ja-JP":100,"kab-KAB":93,"kk-KZ":21,"ko-KR":99,"ku-TR":96,"lt-LT":64,"lv-LV":98,"mr-IN":98,"my-MM":41,"nb-NO":100,"nl-NL":91,"nn-NO":90,"oc-FR":98,"pa-IN":83,"pl-PL":85,"pt-BR":98,"pt-PT":100,"ro-RO":100,"ru-RU":98,"si-LK":8,"sk-SK":100,"sl-SI":100,"sv-SE":96,"ta-IN":93,"tr-TR":98,"uk-UA":96,"vi-VN":20,"zh-CN":100,"zh-HK":26,"zh-TW":100}')}},jr={};function st(ge){var Q=jr[ge];if(Q!==void 0)return Q.exports;var t=jr[ge]={id:ge,exports:{}};return br[ge](t,t.exports,st),t.exports}st.m=br,st.n=function(ge){var Q=ge&&ge.__esModule?function(){return ge.default}:function(){return ge};return st.d(Q,{a:Q}),Q},Tr=Object.getPrototypeOf?function(ge){return Object.getPrototypeOf(ge)}:function(ge){return ge.__proto__},st.t=function(ge,Q){if(1&Q&&(ge=this(ge)),8&Q||typeof ge=="object"&&ge&&(4&Q&&ge.__esModule||16&Q&&typeof ge.then=="function"))return ge;var t=Object.create(null);st.r(t);var w={};Er=Er||[null,Tr({}),Tr([]),Tr(Tr)];for(var y=2&Q&&ge;typeof y=="object"&&!~Er.indexOf(y);y=Tr(y))Object.getOwnPropertyNames(y).forEach(function(f){w[f]=function(){return ge[f]}});return w.default=function(){return ge},st.d(t,w),t},st.d=function(ge,Q){for(var t in Q)st.o(Q,t)&&!st.o(ge,t)&&Object.defineProperty(ge,t,{enumerable:!0,get:Q[t]})},st.f={},st.e=function(ge){return Promise.all(Object.keys(st.f).reduce(function(Q,t){return st.f[t](ge,Q),Q},[]))},st.u=function(ge){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[ge]+"-"+{22:"99a76a48916e784a3941",1204:"fe7beb29f046cf979c5a",1302:"e13dc6084f655194af4f",1477:"42e19993d78f0511571b",1513:"908e098345bfe344ced8",1628:"44988db4fe7f7bee07bc",1690:"78fba0f25867078ee02f",1790:"d6ab0523c9f9ac4d4c9e",2091:"7917b25a9d62d616fcc5",2312:"990bb8880202c20c3785",2359:"4f22057d9bc9df25cb6a",2404:"489ab902f9b0c9beda2e",2943:"efa2a7afe9e96f9e3f3e",3024:"57a2b32c58feb9bae878",3031:"05e1c3849ef5154e3157",3082:"9ee7f888aa463032fc1c",3162:"9ec2bd766af522488b44",3397:"018610e3231f3e9bd068",3421:"34674e3698d74ccdf98b",3512:"192a5cc851541797f756",3674:"474c6d4804d20d89d2dc",3682:"a7f8d76d690714b6eb78",3721:"94fa57d1ac7d244fde4e",3808:"41353abc8704e1038943",3885:"5e0a10f6fe31c9155bd4",4e3:"111b8f1260701cbdeb96",4680:"75e3e6cf7a1cb55917ed",4736:"53d1c69ef585b6dd219b",4977:"7cb48008ab8645becf37",5089:"7e65c3ca40525a2b7f5e",5130:"4d5527dd80e208ef2522",5330:"97bb57d1147c72892c68",5395:"6d8fb5092f873fdd74be",6071:"a0dbeb91d8ddbfac8ac1",6239:"b14da0116f6f5e0712e9",6265:"3ff3ea69ff9ae725c469",6768:"c31a44bb3a66bf7e2106",6844:"04089ce24a73ee1c83f0",7368:"545e1923f5ad1c94c6ab",7429:"7ff651d150881fbbfb13",7759:"2360947dd1e1db4ee5ad",7920:"696f940b619ce66fe8d2",8081:"5720590cf9a63067baf3",8124:"96975eab7a07d2d6b772",8340:"f0baeb52b74ec4e2b65e",8534:"209bf1d6aa674d6550df",8750:"cd3468557b0bce2c8793",8759:"47d0ae898ef2c67ce309",9551:"17519996c12e47f5fded",9828:"33a69bbfe9268d9133d4"}[ge]+".js"},st.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),st.o=function(ge,Q){return Object.prototype.hasOwnProperty.call(ge,Q)},Sr={},$r="ExcalidrawLib:",st.l=function(ge,Q,t,w){if(Sr[ge])Sr[ge].push(Q);else{var y,f;if(t!==void 0)for(var c=document.getElementsByTagName("script"),j=0;j<c.length;j++){var A=c[j];if(A.getAttribute("src")==ge||A.getAttribute("data-webpack")==$r+t){y=A;break}}y||(f=!0,(y=document.createElement("script")).charset="utf-8",y.timeout=120,st.nc&&y.setAttribute("nonce",st.nc),y.setAttribute("data-webpack",$r+t),y.src=ge),Sr[ge]=[Q];var R=function(Z,H){y.onerror=y.onload=null,clearTimeout(n);var G=Sr[ge];if(delete Sr[ge],y.parentNode&&y.parentNode.removeChild(y),G&&G.forEach(function(le){return le(H)}),Z)return Z(H)},n=setTimeout(R.bind(null,void 0,{type:"timeout",target:y}),12e4);y.onerror=R.bind(null,y.onerror),y.onload=R.bind(null,y.onload),f&&document.head.appendChild(y)}},st.r=function(ge){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ge,"__esModule",{value:!0})},st.p="",function(){st.b=document.baseURI||self.location.href;var ge={1388:0};st.f.j=function(w,y){var f=st.o(ge,w)?ge[w]:void 0;if(f!==0)if(f)y.push(f[2]);else{var c=new Promise(function(R,n){f=ge[w]=[R,n]});y.push(f[2]=c);var j=st.p+st.u(w),A=new Error;st.l(j,function(R){if(st.o(ge,w)&&((f=ge[w])!==0&&(ge[w]=void 0),f)){var n=R&&(R.type==="load"?"missing":R.type),Z=R&&R.target&&R.target.src;A.message="Loading chunk "+w+` failed.
(`+n+": "+Z+")",A.name="ChunkLoadError",A.type=n,A.request=Z,f[1](A)}},"chunk-"+w,w)}};var Q=function(w,y){var f,c,j=y[0],A=y[1],R=y[2],n=0;if(j.some(function(Z){return ge[Z]!==0})){for(f in A)st.o(A,f)&&(st.m[f]=A[f]);R&&R(st)}for(w&&w(y);n<j.length;n++)c=j[n],st.o(ge,c)&&ge[c]&&ge[c][0](),ge[c]=0},t=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];t.forEach(Q.bind(null,0)),t.push=Q.bind(null,t.push.bind(t))}(),st.nc=void 0;var Hr={};return function(){st.r(Hr),st.d(Hr,{Button:function(){return we},Excalidraw:function(){return At},FONT_FAMILY:function(){return ge.ut},Footer:function(){return F},LiveCollaborationTrigger:function(){return et},MIME_TYPES:function(){return ge.LO},MainMenu:function(){return h.Z},Sidebar:function(){return _t.Y},THEME:function(){return ge.C6},WelcomeScreen:function(){return Ke},bumpVersion:function(){return Et.ZP},defaultLang:function(){return v.Fp},exportToBlob:function(){return tt.Fl},exportToCanvas:function(){return tt.NL},exportToClipboard:function(){return tt.i1},exportToSvg:function(){return tt.$D},getFreeDrawSvgPath:function(){return tt.N7},getNonDeletedElements:function(){return at.Lm},getSceneVersion:function(){return at.Uo},isInvisiblySmallElement:function(){return at.QD},isLinearElement:function(){return ct.bt},languages:function(){return v.Mj},loadFromBlob:function(){return tt.cT},loadLibraryFromBlob:function(){return tt.lV},loadSceneOrLibraryFromBlob:function(){return tt.ZY},mergeLibraryItems:function(){return tt.zh},mutateElement:function(){return Et.DR},newElementWith:function(){return Et.BE},parseLibraryTokensFromUrl:function(){return Pt.Di},restore:function(){return $e.nu},restoreAppState:function(){return $e.lY},restoreElements:function(){return $e.ET},restoreLibraryItems:function(){return $e.wJ},sceneCoordsToViewportCoords:function(){return e._i},serializeAsJSON:function(){return tt.I_},serializeLibraryAsJSON:function(){return tt.NI},useDevice:function(){return o.Fy},useHandleLibrary:function(){return Pt.xS},viewportCoordsToSceneCoords:function(){return e.dE}});var ge=st(2335);ge.Vi.TEST!=="production"&&(st.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.14.2","/dist/"));var Q=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(Ne){if((Ne=Math.trunc(Ne)||0)<0&&(Ne+=this.length),!(Ne<0||Ne>=this.length))return this[Ne]},writable:!0,enumerable:!1,configurable:!0})},t=st(487),w=st.n(t),y=st(631),f=st.n(y),c=st(2052),j=st.n(c),A=st(4010),R=st.n(A),n=st(1469),Z=st.n(n),H=st(9329),G=st.n(H),le=st(4295),k={};k.styleTagTransform=G(),k.setAttributes=R(),k.insert=j().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=Z(),w()(le.Z,k),le.Z&&le.Z.locals&&le.Z.locals;var se=st(6479),pe=st.n(se),Ee=st(9713),ae=st.n(Ee),de=st(9787),ye=st.n(de),C=st(8950),J=st(2577),g=st(2975),m=st.n(g),M=st(5440),v=st(8211),u=st(4512),s=function(Ne){var Ue=(0,de.useState)(!0),ot=(0,J.Z)(Ue,2),it=ot[0],dt=ot[1];return(0,de.useEffect)(function(){var gt=function(){var Ot=(0,C.Z)(m().mark(function Zt(){return m().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Bt.next=2,(0,v.m0)(jt);case 2:dt(!1);case 3:case"end":return Bt.stop()}},Zt)}));return function(){return Ot.apply(this,arguments)}}(),jt=v.Mj.find(function(Ot){return Ot.code===Ne.langCode})||v.Fp;gt()},[Ne.langCode]),it?(0,u.jsx)(M.z,{theme:Ne.theme}):Ne.children},o=st(4206),e=st(6340),a=st(9915),i={};i.styleTagTransform=G(),i.setAttributes=R(),i.insert=j().bind(null,"head"),i.domAPI=f(),i.insertStyleElement=Z(),w()(a.Z,i),a.Z&&a.Z.locals&&a.Z.locals;var l=st(9310),p={};p.styleTagTransform=G(),p.setAttributes=R(),p.insert=j().bind(null,"head"),p.domAPI=f(),p.insertStyleElement=Z(),w()(l.Z,p),l.Z&&l.Z.locals&&l.Z.locals;var T=st(4739),X=st(9487),te=st(45),N=st(8888),L=st(8793),fe={};fe.styleTagTransform=G(),fe.setAttributes=R(),fe.insert=j().bind(null,"head"),fe.domAPI=f(),fe.insertStyleElement=Z(),w()(L.Z,fe),L.Z&&L.Z.locals&&L.Z.locals;var q=function(Ne){var Ue=Ne.children,ot=(0,N.R6)().footerCenterTunnel,it=(0,o.gF)();return(0,u.jsx)(ot.In,{children:(0,u.jsx)("div",{className:(0,te.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":it.zenModeEnabled}),children:Ue})})},F=q;q.displayName="FooterCenter";var h=st(4709),_=st(7169),W=st(2726),I=st(5654),re=st(785),O=st(3646),E=["onSelect","children","icon","shortcut","className"],b=["children","href","icon","shortcut","className"];function d(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(Ne);Ue&&(it=it.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,it)}return ot}function x(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?d(Object(ot),!0).forEach(function(it){(0,_.Z)(Ne,it,ot[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):d(Object(ot)).forEach(function(it){Object.defineProperty(Ne,it,Object.getOwnPropertyDescriptor(ot,it))})}return Ne}var P=function(Ne){var Ue=Ne.icon,ot=Ne.shortcut,it=Ne.children,dt=(0,o.Fy)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Ue}),(0,u.jsx)("div",{className:"welcome-screen-menu-item__text",children:it}),ot&&!dt.isMobile&&(0,u.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:ot})]})};P.displayName="WelcomeScreenMenuItemContent";var U=function(Ne){var Ue=Ne.onSelect,ot=Ne.children,it=Ne.icon,dt=Ne.shortcut,gt=Ne.className,jt=gt===void 0?"":gt,Ot=(0,W.Z)(Ne,E);return(0,u.jsx)("button",x(x({},Ot),{},{type:"button",className:"welcome-screen-menu-item ".concat(jt),onClick:Ue,children:(0,u.jsx)(P,{icon:it,shortcut:dt,children:ot})}))};U.displayName="WelcomeScreenMenuItem";var D=function(Ne){var Ue=Ne.children,ot=Ne.href,it=Ne.icon,dt=Ne.shortcut,gt=Ne.className,jt=gt===void 0?"":gt,Ot=(0,W.Z)(Ne,b);return(0,u.jsx)("a",x(x({},Ot),{},{className:"welcome-screen-menu-item ".concat(jt),href:ot,target:"_blank",rel:"noreferrer",children:(0,u.jsx)(P,{icon:it,shortcut:dt,children:Ue})}))};D.displayName="WelcomeScreenMenuItemLink";var ce=function(Ne){var Ue=Ne.children,ot=(0,N.R6)().welcomeScreenCenterTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsx)("div",{className:"welcome-screen-center",children:Ue||(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ie,{}),(0,u.jsx)(ue,{children:(0,v.t)("welcomeScreen.defaults.center_heading")}),(0,u.jsxs)(Ce,{children:[(0,u.jsx)(B,{}),(0,u.jsx)(Pe,{})]})]})})})};ce.displayName="Center";var ie=function(Ne){var Ue=Ne.children;return(0,u.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Ue||(0,u.jsxs)(u.Fragment,{children:[O.Mw," Excalidraw"]})})};ie.displayName="Logo";var ue=function(Ne){var Ue=Ne.children;return(0,u.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Ue})};ue.displayName="Heading";var Ce=function(Ne){var Ue=Ne.children;return(0,u.jsx)("div",{className:"welcome-screen-menu",children:Ue})};Ce.displayName="Menu";var Pe=function(){var Ne=(0,o.eh)();return(0,u.jsx)(U,{onSelect:function(){return Ne.executeAction(I.jY)},shortcut:"?",icon:O.by,children:(0,v.t)("helpDialog.title")})};Pe.displayName="MenuItemHelp";var B=function(){var Ne=(0,o.gF)(),Ue=(0,o.eh)();return Ne.viewModeEnabled?null:(0,u.jsx)(U,{onSelect:function(){return Ue.executeAction(I._d)},shortcut:(0,re.C)("loadScene"),icon:O.Tl,children:(0,v.t)("buttons.load")})};B.displayName="MenuItemLoadScene";var Y=function(Ne){var Ue=Ne.onSelect;return(0,o.gF)(),(0,u.jsx)(U,{shortcut:null,onSelect:Ue,icon:O.jn,children:(0,v.t)("labels.liveCollaboration")})};Y.displayName="MenuItemLiveCollaborationTrigger",ce.Logo=ie,ce.Heading=ue,ce.Menu=Ce,ce.MenuItem=U,ce.MenuItemLink=D,ce.MenuItemHelp=Pe,ce.MenuItemLoadScene=B,ce.MenuItemLiveCollaborationTrigger=Y;var $=function(Ne){var Ue=Ne.children,ot=(0,N.R6)().welcomeScreenMenuHintTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[O.oQ,(0,u.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ue||(0,v.t)("welcomeScreen.defaults.menuHint")})]})})};$.displayName="MenuHint";var xe=function(Ne){var Ue=Ne.children,ot=(0,N.R6)().welcomeScreenToolbarHintTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,u.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ue||(0,v.t)("welcomeScreen.defaults.toolbarHint")}),O.DJ]})})};xe.displayName="ToolbarHint";var Oe=function(Ne){var Ue=Ne.children,ot=(0,N.R6)().welcomeScreenHelpHintTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,u.jsx)("div",{children:Ue||(0,v.t)("welcomeScreen.defaults.helpHint")}),O._U]})})};Oe.displayName="HelpHint";var Ze=st(1569),Fe={};Fe.styleTagTransform=G(),Fe.setAttributes=R(),Fe.insert=j().bind(null,"head"),Fe.domAPI=f(),Fe.insertStyleElement=Z(),w()(Ze.Z,Fe),Ze.Z&&Ze.Z.locals&&Ze.Z.locals;var Je=function(Ne){return(0,u.jsx)(u.Fragment,{children:Ne.children||(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ce,{}),(0,u.jsx)($,{}),(0,u.jsx)(xe,{}),(0,u.jsx)(Oe,{})]})})};Je.displayName="WelcomeScreen",Je.Center=ce,Je.Hints={MenuHint:$,ToolbarHint:xe,HelpHint:Oe};var Ke=Je,Be=st(3137),Le={};Le.styleTagTransform=G(),Le.setAttributes=R(),Le.insert=j().bind(null,"head"),Le.domAPI=f(),Le.insertStyleElement=Z(),w()(Be.Z,Le),Be.Z&&Be.Z.locals&&Be.Z.locals;var ne=["type","onSelect","children","className"];function me(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(Ne);Ue&&(it=it.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,it)}return ot}function ve(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?me(Object(ot),!0).forEach(function(it){(0,_.Z)(Ne,it,ot[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):me(Object(ot)).forEach(function(it){Object.defineProperty(Ne,it,Object.getOwnPropertyDescriptor(ot,it))})}return Ne}var we=function(Ne){var Ue=Ne.type,ot=Ue===void 0?"button":Ue,it=Ne.onSelect,dt=Ne.children,gt=Ne.className,jt=gt===void 0?"":gt,Ot=(0,W.Z)(Ne,ne);return(0,u.jsx)("button",ve(ve({onClick:function(Zt){var Bt;it(),(Bt=Ot.onClick)===null||Bt===void 0||Bt.call(Ot,Zt)},type:ot,className:"excalidraw-button ".concat(jt)},Ot),{},{children:dt}))},Ie=st(3397),Te={};Te.styleTagTransform=G(),Te.setAttributes=R(),Te.insert=j().bind(null,"head"),Te.domAPI=f(),Te.insertStyleElement=Z(),w()(Ie.Z,Te),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var ze=["isCollaborating","onSelect"];function We(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(Ne);Ue&&(it=it.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,it)}return ot}function He(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?We(Object(ot),!0).forEach(function(it){(0,_.Z)(Ne,it,ot[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):We(Object(ot)).forEach(function(it){Object.defineProperty(Ne,it,Object.getOwnPropertyDescriptor(ot,it))})}return Ne}var Ye=function(Ne){var Ue=Ne.isCollaborating,ot=Ne.onSelect,it=(0,W.Z)(Ne,ze),dt=(0,o.gF)();return(0,u.jsxs)(we,He(He({},it),{},{className:(0,te.Z)("collab-button",{active:Ue}),type:"button",onSelect:ot,style:{position:"relative"},title:(0,v.t)("labels.liveCollaboration"),children:[O.jn,dt.collaborators.size>0&&(0,u.jsx)("div",{className:"CollabButton-collaborators",children:dt.collaborators.size})]}))},et=Ye;Ye.displayName="LiveCollaborationTrigger";var at=st(1047),$e=st(679),tt=st(3024),ct=st(1974),Et=st(1935),Pt=st(7053),_t=st(9430),vt=["initialData","UIOptions"],yt=["initialData","UIOptions"];function ft(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(Ne);Ue&&(it=it.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,it)}return ot}function St(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?ft(Object(ot),!0).forEach(function(it){ae()(Ne,it,ot[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):ft(Object(ot)).forEach(function(it){Object.defineProperty(Ne,it,Object.getOwnPropertyDescriptor(ot,it))})}return Ne}var Yt=function(Ne){var Ue,ot,it,dt=Ne.onChange,gt=Ne.initialData,jt=Ne.excalidrawRef,Ot=Ne.isCollaborating,Zt=Ot!==void 0&&Ot,Bt=Ne.onPointerUpdate,Tt=Ne.renderTopRightUI,Jt=Ne.renderSidebar,or=Ne.langCode,sr=or===void 0?v.Fp.code:or,ir=Ne.viewModeEnabled,zt=Ne.zenModeEnabled,Ft=Ne.gridModeEnabled,$t=Ne.libraryReturnUrl,lr=Ne.theme,Or=Ne.name,Vr=Ne.renderCustomStats,Xr=Ne.onPaste,qr=Ne.detectScroll,Wr=qr===void 0||qr,fr=Ne.handleKeyboardGlobally,Qr=fr!==void 0&&fr,Dr=Ne.onLibraryChange,Fr=Ne.autoFocus,en=Fr!==void 0&&Fr,Jr=Ne.generateIdForFile,fn=Ne.onLinkOpen,V=Ne.onPointerDown,he=Ne.onScrollChange,je=Ne.children,_e=(Ue=Ne.UIOptions)===null||Ue===void 0?void 0:Ue.canvasActions,Ge=St(St({},Ne.UIOptions),{},{canvasActions:St(St({},ge.cW.canvasActions),_e)});return _e!=null&&_e.export&&(Ge.canvasActions.export.saveFileToDisk=(ot=(it=_e.export)===null||it===void 0?void 0:it.saveFileToDisk)!==null&&ot!==void 0?ot:ge.cW.canvasActions.export.saveFileToDisk),Ge.canvasActions.toggleTheme===null&&lr===void 0&&(Ge.canvasActions.toggleTheme=!0),(0,de.useEffect)(function(){var Qe=function(bt){typeof bt.scale=="number"&&bt.scale!==1&&bt.preventDefault()};return document.addEventListener("touchmove",Qe,{passive:!1}),function(){document.removeEventListener("touchmove",Qe)}},[]),(0,u.jsx)(s,{langCode:sr,theme:lr,children:(0,u.jsx)(T.zt,{unstable_createStore:function(){return X.e_},scope:X.yE,children:(0,u.jsx)(o.ZP,{onChange:dt,initialData:gt,excalidrawRef:jt,isCollaborating:Zt,onPointerUpdate:Bt,renderTopRightUI:Tt,langCode:sr,viewModeEnabled:ir,zenModeEnabled:zt,gridModeEnabled:Ft,libraryReturnUrl:$t,theme:lr,name:Or,renderCustomStats:Vr,UIOptions:Ge,onPaste:Xr,detectScroll:Wr,handleKeyboardGlobally:Qr,onLibraryChange:Dr,autoFocus:en,generateIdForFile:Jr,onLinkOpen:fn,onPointerDown:V,onScrollChange:he,renderSidebar:Jt,children:je})})})},qt=function(Ne,Ue){if(Ne.children!==Ue.children)return!1;Ne.initialData;var ot=Ne.UIOptions,it=ot===void 0?{}:ot,dt=pe()(Ne,vt),gt=(Ue.initialData,Ue.UIOptions),jt=gt===void 0?{}:gt,Ot=pe()(Ue,yt),Zt=Object.keys(it),Bt=Object.keys(jt);return Zt.length===Bt.length&&Zt.every(function(Tt){return Tt==="canvasActions"?Object.keys(it.canvasActions).every(function(Jt){var or,sr,ir,zt;return Jt==="export"&&it!=null&&(or=it.canvasActions)!==null&&or!==void 0&&or.export&&jt!=null&&(sr=jt.canvasActions)!==null&&sr!==void 0&&sr.export?it.canvasActions.export.saveFileToDisk===jt.canvasActions.export.saveFileToDisk:(it==null||(ir=it.canvasActions)===null||ir===void 0?void 0:ir[Jt])===(jt==null||(zt=jt.canvasActions)===null||zt===void 0?void 0:zt[Jt])}):it[Tt]===jt[Tt]})&&(0,e.w8)(dt,Ot)},Ct=(0,de.forwardRef)(function(Ne,Ue){return(0,u.jsx)(Yt,St(St({},Ne),{},{excalidrawRef:Ue}))}),At=ye().memo(Ct,qt);At.displayName="Excalidraw",Q()}(),Hr}()})})(Do);Sn.exports=Do.exports;const ji=dr=>{var Pr;const Zr=(Pr=dr==null?void 0:dr.firstElementChild)==null?void 0:Pr.firstElementChild,nr=dr.getAttribute("viewBox");if(nr!=null){const Er=nr.split(" ");dr.setAttribute("width",Er[2]),dr.setAttribute("height",Er[3])}Zr&&Zr.tagName==="style"&&Zr.remove()};function _i({elements:dr,files:Zr,imageContainerRef:nr,appState:Pr,rootClassName:Er=null}){var $r;const[Tr,Sr]=mr.exports.useState(null);return mr.exports.useEffect(()=>{(async()=>{const jr=await Sn.exports.exportToSvg({appState:Pr,elements:dr,files:Zr});ji(jr),jr.setAttribute("width","100%"),jr.setAttribute("height","100%"),jr.setAttribute("display","block"),Sr(jr)})()},[dr,Zr,Pr]),Gr("div",{ref:nr,className:Er!=null?Er:"",dangerouslySetInnerHTML:{__html:($r=Tr==null?void 0:Tr.outerHTML)!=null?$r:""}})}function Oi({closeOnClickOutside:dr=!1,onSave:Zr,initialElements:nr,initialAppState:Pr,initialFiles:Er,isShown:Tr=!1,onDelete:Sr,onClose:$r}){const br=mr.exports.useRef(null),jr=mr.exports.useRef(null),[st,Hr]=mr.exports.useState(!1),[ge,Q]=mr.exports.useState(nr),[t,w]=mr.exports.useState(Er);mr.exports.useEffect(()=>{br.current!==null&&br.current.focus()},[]),mr.exports.useEffect(()=>{var Z;let R=null;const n=H=>{const G=H.target;br.current!==null&&!br.current.contains(G)&&dr&&Sr()};return br.current!==null&&(R=(Z=br.current)==null?void 0:Z.parentElement,R!==null&&(R==null||R.addEventListener("click",n))),()=>{R!==null&&(R==null||R.removeEventListener("click",n))}},[dr,Sr]),mr.exports.useLayoutEffect(()=>{const R=br.current,n=Z=>{Z.key==="Escape"&&Sr()};return R!==null&&R.addEventListener("keydown",n),()=>{R!==null&&R.removeEventListener("keydown",n)}},[ge,t,Sr]);const y=()=>{var R;if(ge.filter(n=>!n.isDeleted).length>0){const n=(R=jr==null?void 0:jr.current)==null?void 0:R.getAppState(),Z={exportBackground:n.exportBackground,exportScale:n.exportScale,exportWithDarkMode:n.theme==="dark",isBindingEnabled:n.isBindingEnabled,isLoading:n.isLoading,name:n.name,theme:n.theme,viewBackgroundColor:n.viewBackgroundColor,viewModeEnabled:n.viewModeEnabled,zenModeEnabled:n.zenModeEnabled,zoom:n.zoom};Zr(ge,Z,t)}else Sr()},f=()=>{ge.filter(R=>!R.isDeleted).length===0?Sr():Hr(!0)};function c(){return yn(hi,{title:"Discard",onClose:()=>{Hr(!1)},closeOnClickOutside:!1,children:["Are you sure you want to discard the changes?",yn("div",{className:"ExcalidrawModal__discardModal",children:[Gr(Po,{onClick:()=>{Hr(!1),$r()},children:"Discard"})," ",Gr(Po,{onClick:()=>{Hr(!1)},children:"Cancel"})]})]})}if(Tr===!1)return null;const j=(R,n,Z)=>{Q(R),w(Z)},A=Sn.exports.Excalidraw.$$typeof!=null?Sn.exports.Excalidraw:Sn.exports.Excalidraw.default;return To.exports.createPortal(Gr("div",{className:"ExcalidrawModal__overlay",role:"dialog",children:Gr("div",{className:"ExcalidrawModal__modal",ref:br,tabIndex:-1,children:yn("div",{className:"ExcalidrawModal__row",children:[st&&Gr(c,{}),Gr(A,{onChange:j,ref:jr,initialData:{appState:Pr||{isLoading:!1},elements:nr,files:Er}}),yn("div",{className:"ExcalidrawModal__actions",children:[Gr("button",{className:"action-button",onClick:f,children:"Discard"}),Gr("button",{className:"action-button",onClick:y,children:"Save"})]})]})})}),document.body)}function Ii({nodeKey:dr,data:Zr}){const[nr]=mi(),[Pr,Er]=mr.exports.useState(Zr==="[]"&&nr.isEditable()),Tr=mr.exports.useRef(null),Sr=mr.exports.useRef(null),$r=mr.exports.useRef(null),[br,jr,st]=gi(dr),[Hr,ge]=mr.exports.useState(!1),Q=mr.exports.useCallback(R=>(br&&vi(bi())&&(R.preventDefault(),nr.update(()=>{const n=to(dr);ro(n)&&n.remove(),jr(!1)})),!1),[nr,br,dr,jr]);mr.exports.useEffect(()=>{Pr?nr.setEditable(!1):nr.setEditable(!0)},[Pr,nr]),mr.exports.useEffect(()=>yi(nr.registerCommand(ki,R=>{const n=Sr.current,Z=R.target;return Hr?!0:n!==null&&n.contains(Z)?(R.shiftKey||st(),jr(!br),R.detail>1&&Er(!0),!0):!1},no),nr.registerCommand(wi,Q,no),nr.registerCommand(xi,Q,no)),[st,nr,br,Hr,Q,jr]);const t=mr.exports.useCallback(()=>(Er(!1),nr.update(()=>{const R=to(dr);ro(R)&&R.remove()})),[nr,dr]),w=(R,n,Z)=>{if(!!nr.isEditable())return nr.update(()=>{const H=to(dr);ro(H)&&(R.length>0||Object.keys(Z).length>0?H.setData(JSON.stringify({appState:n,elements:R,files:Z})):H.remove())})},y=()=>{ge(!0)},f=()=>{setTimeout(()=>{ge(!1)},200)},{elements:c=[],files:j={},appState:A={}}=mr.exports.useMemo(()=>JSON.parse(Zr),[Zr]);return yn(Ei,{children:[Gr(Oi,{initialElements:c,initialFiles:j,initialAppState:A,isShown:Pr,onDelete:t,onClose:()=>Er(!1),onSave:(R,n,Z)=>{nr.setEditable(!0),w(R,n,Z),Er(!1)},closeOnClickOutside:!1}),c.length>0&&yn("button",{ref:Sr,className:`excalidraw-button ${br?"selected":""}`,children:[Gr(_i,{imageContainerRef:Tr,className:"image",elements:c,files:j,appState:A}),(br||Hr)&&Gr(Si,{buttonRef:$r,showCaption:!0,setShowCaption:()=>null,imageRef:Tr,editor:nr,onResizeStart:y,onResizeEnd:f,captionsEnabled:!0})]})]})}export{Ii as default};
